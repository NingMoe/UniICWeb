!function(){"use strict";window.Framework7=function(b){function j(a,b){this.wrapper="string"==typeof a?document.querySelector(a):a,this.scroller=e(this.wrapper).find(".page-content-inner")[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,eventPassthrough:void 0};for(var c in b)this.options[c]=b[c];this.translateZ=this.options.HWCompositing&&i.hasPerspective?" translateZ(0)":"",this.options.useTransition=i.hasTransition&&this.options.useTransition,this.options.useTransform=i.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"===this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"===this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?i.ease[this.options.bounceEasing]||i.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"===this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3===this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function k(a,b,c){var d=document.createElement("div"),e=document.createElement("div");return c===!0&&(d.style.cssText="position:absolute;z-index:9999",e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),e.className="iScrollIndicator","h"===a?(c===!0&&(d.style.cssText+=";height:5px;left:2px;right:2px;bottom:0",e.style.height="100%"),d.className="iScrollHorizontalScrollbar"):(c===!0&&(d.style.cssText+=";width:5px;bottom:2px;top:2px;right:1px",e.style.width="100%"),d.className="iScrollVerticalScrollbar"),d.style.cssText+=";overflow:hidden",b||(d.style.pointerEvents="none"),d.appendChild(e),d}function l(a,b){this.wrapper="string"==typeof b.el?document.querySelector(b.el):b.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=a,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var c in b)this.options[c]=b[c];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(i.addEvent(this.indicator,"touchstart",this),i.addEvent(window,"touchend",this)),this.options.disablePointer||(i.addEvent(this.indicator,i.prefixPointerEvent("pointerdown"),this),i.addEvent(window,i.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(i.addEvent(this.indicator,"mousedown",this),i.addEvent(window,"mouseup",this))),this.options.fade&&(this.wrapperStyle[i.style.transform]=this.scroller.translateZ,this.wrapperStyle[i.style.transitionDuration]=i.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}function q(a){var b=a.replace(/^./,function(a){return a.toUpperCase()});c["onPage"+b]=function(b,d){return c.onPage(a,b,d)}}function x(){var j,a=e(this),b=c.getScroller(a),d=b.scrollTop(),f=b.scrollHeight(),g=a[0].offsetHeight,h=a[0].getAttribute("data-distance"),i=a.find(".virtual-list"),k=a.hasClass("infinite-scroll-top");if(h||(h=50),"string"==typeof h&&h.indexOf("%")>=0&&(h=parseInt(h,10)/100*g),h>g&&(h=g),k)h>d&&a.trigger("infinite");else if(d+g>=f-h){if(i.length>0&&(j=i[0].f7VirtualList,j&&!j.reachEnd))return;a.trigger("infinite")}}function y(){c.device.ipad&&(document.body.scrollLeft=0,setTimeout(function(){document.body.scrollLeft=0},0))}var d,e,f,g,i,m,n,o,p,r,s,t,u,v,w,z,A,B,C,D,c=this;c.version="1.0.3",c.params={cache:!0,cacheIgnore:[],cacheIgnoreGetParameters:!1,cacheDuration:6e5,preloadPreviousPage:!0,uniqueHistory:!1,uniqueHistoryIgnoreGetParameters:!1,dynamicPageUrl:"content-{{index}}",allowDuplicateUrls:!1,router:!0,pushState:!1,pushStateRoot:void 0,pushStateNoAnimation:!1,pushStateSeparator:"#!/",fastClicks:!0,fastClicksDistanceThreshold:0,fastClicksDelayBetweenClicks:50,activeState:!0,activeStateElements:"a, button, label, span",animateNavBackIcon:!1,swipeBackPage:!0,swipeBackPageThreshold:0,swipeBackPageActiveArea:30,swipeBackPageAnimateShadow:!0,swipeBackPageAnimateOpacity:!0,ajaxLinks:void 0,externalLinks:".external",sortable:!0,hideNavbarOnPageScroll:!1,hideToolbarOnPageScroll:!1,hideTabbarOnPageScroll:!1,showBarsOnPageScrollEnd:!0,swipeout:!0,swipeoutActionsNoFold:!1,swipeoutNoFollow:!1,smartSelectBackTemplate:'<div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><span>{{backText}}</span></a></div>',smartSelectBackText:"Back",smartSelectInPopup:!1,smartSelectPopupCloseTemplate:'<div class="left"><a href="#" class="link close-popup"><i class="icon icon-back"></i><span>{{closeText}}</span></a></div>',smartSelectPopupCloseText:"Close",smartSelectSearchbar:!1,smartSelectBackOnSelect:!1,searchbarHideDividers:!0,searchbarHideGroups:!0,scrollTopOnNavbarClick:!1,scrollTopOnStatusbarClick:!1,swipePanel:!1,swipePanelActiveArea:0,swipePanelCloseOpposite:!0,swipePanelOnlyClose:!1,swipePanelNoFollow:!1,swipePanelThreshold:0,panelsCloseByOutside:!0,modalButtonOk:"OK",modalButtonCancel:"Cancel",modalUsernamePlaceholder:"Username",modalPasswordPlaceholder:"Password",modalTitle:"Framework7",modalCloseByOutside:!1,actionsCloseByOutside:!0,popupCloseByOutside:!0,modalPreloaderTitle:"Loading... ",modalStack:!0,imagesLazyLoadThreshold:0,imagesLazyLoadSequential:!0,viewClass:"view",viewMainClass:"view-main",viewsClass:"views",notificationCloseOnClick:!1,notificationCloseIcon:!0,animatePages:!0,templates:{},template7Data:{},template7Pages:!1,precompileTemplates:!1,init:!0,scroller:"auto"};for(d in b)c.params[d]=b[d];e=a,f=Template7,c._compiledTemplates={},c.touchEvents={start:c.support.touch?"touchstart":"mousedown",move:c.support.touch?"touchmove":"mousemove",end:c.support.touch?"touchend":"mouseup"},c.ls=window.localStorage,c.rtl="rtl"===e("body").css("direction"),c.rtl&&e("html").attr("dir","rtl"),"undefined"!=typeof c.params.statusbarOverlay&&(c.params.statusbarOverlay?e("html").addClass("with-statusbar-overlay"):e("html").removeClass("with-statusbar-overlay")),g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame,i=function(){function d(a){return c===!1?!1:""===c?a:c+a.charAt(0).toUpperCase()+a.substr(1)}var e,a={},b=document.createElement("div").style,c=function(){for(var c,a=["t","webkitT","MozT","msT","OT"],d=0,e=a.length;e>d;d++)if(c=a[d]+"ransform",c in b)return a[d].substr(0,a[d].length-1);return!1}();return a.getTime=Date.now||function(){return(new Date).getTime()},a.extend=function(a,b){for(var c in b)a[c]=b[c]},a.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},a.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},a.prefixPointerEvent=function(a){return window.MSPointerEvent?"MSPointer"+a.charAt(9).toUpperCase()+a.substr(10):a},a.momentum=function(a,b,c,d,e,f,h){function p(){+new Date-o>50&&(h._execEvent("scroll"),o=+new Date),+new Date-n<l&&g(p)}var k,l,n,o,i=a-b,j=Math.abs(i)/c;return Math.abs(i),j/=2,j=j>1.5?1.5:j,f=void 0===f?6e-4:f,k=a+j*j/(2*f)*(0>i?-1:1),l=j/f,d>k?(k=e?d-e/2.5*(j/8):d,i=Math.abs(k-a),l=i/j):k>0&&(k=e?e/2.5*(j/8):0,i=Math.abs(a)+k,l=i/j),n=+new Date,o=n,g(p),{destination:Math.round(k),duration:l}},e=d("transform"),a.extend(a,{hasTransform:e!==!1,hasPerspective:d("perspective")in b,hasTouch:"ontouchstart"in window,hasPointer:window.PointerEvent||window.MSPointerEvent,hasTransition:d("transition")in b}),a.isBadAndroid=/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion)&&!1,a.extend(a.style={},{transform:e,transitionTimingFunction:d("transitionTimingFunction"),transitionDuration:d("transitionDuration"),transitionDelay:d("transitionDelay"),transformOrigin:d("transformOrigin")}),a.hasClass=function(a,b){var c=new RegExp("(^|\\s)"+b+"(\\s|$)");return c.test(a.className)},a.addClass=function(b,c){if(!a.hasClass(b,c)){var d=b.className.split(" ");d.push(c),b.className=d.join(" ")}},a.removeClass=function(b,c){if(a.hasClass(b,c)){var d=new RegExp("(^|\\s)"+c+"(\\s|$)","g");b.className=b.className.replace(d," ")}},a.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},a.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},a.extend(a.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),a.extend(a.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return Math.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var b=.22,c=.4;return 0===a?0:1===a?1:c*Math.pow(2,-10*a)*Math.sin((a-b/4)*2*Math.PI/b)+1}}}),a.tap=function(a,b){var c=document.createEvent("Event");c.initEvent(b,!0,!0),c.pageX=a.pageX,c.pageY=a.pageY,a.target.dispatchEvent(c)},a.click=function(a){var c,b=a.target;/(SELECT|INPUT|TEXTAREA)/i.test(b.tagName)||(c=document.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,a.view,1,b.screenX,b.screenY,b.clientX,b.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),c._constructed=!0,b.dispatchEvent(c))},a}(),j.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(a){a.target===this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(a){if(!(1!==i.eventType[a.type]&&0!==a.button||!this.enabled||this.initiated&&i.eventType[a.type]!==this.initiated)){!this.options.preventDefault||i.isBadAndroid||i.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var c,b=a.touches?a.touches[0]:a;this.initiated=i.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=i.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,c=this.getComputedPosition(),this._translate(Math.round(c.x),Math.round(c.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=b.pageX,this.pointY=b.pageY,this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&i.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var f,g,h,j,b=a.touches?a.touches[0]:a,c=b.pageX-this.pointX,d=b.pageY-this.pointY,e=i.getTime();if(this.pointX=b.pageX,this.pointY=b.pageY,this.distX+=c,this.distY+=d,h=Math.abs(this.distX),j=Math.abs(this.distY),!(e-this.endTime>300&&10>h&&10>j)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=h>j+this.options.directionLockThreshold?"h":j>=h+this.options.directionLockThreshold?"v":"n"),"h"===this.directionLocked){if("vertical"===this.options.eventPassthrough)a.preventDefault();else if("horizontal"===this.options.eventPassthrough)return this.initiated=!1,void 0;d=0}else if("v"===this.directionLocked){if("horizontal"===this.options.eventPassthrough)a.preventDefault();else if("vertical"===this.options.eventPassthrough)return this.initiated=!1,void 0;c=0}c=this.hasHorizontalScroll?c:0,d=this.hasVerticalScroll?d:0,f=this.x+c,g=this.y+d,(f>0||f<this.maxScrollX)&&(f=this.options.bounce?this.x+c/3:f>0?0:this.maxScrollX),(g>0||g<this.maxScrollY)&&(g=this.options.bounce?this.y+d/3:g>0?0:this.maxScrollY),this.directionX=c>0?-1:0>c?1:0,this.directionY=d>0?-1:0>d?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(f,g),e-this.startTime>300&&(this.startTime=e,this.startX=this.x,this.startY=this.y,1===this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(a){var c,d,e,f,g,h,j,k,l,m;if(this.enabled&&i.eventType[a.type]===this.initiated&&(this.options.preventDefault&&!i.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault(),a.changedTouches?a.changedTouches[0]:a,e=i.getTime()-this.startTime,f=Math.round(this.x),g=Math.round(this.y),h=Math.abs(f-this.startX),j=Math.abs(g-this.startY),k=0,l="",this.isInTransition=0,this.initiated=0,this.endTime=i.getTime(),!this.resetPosition(this.options.bounceTime)))return this.scrollTo(f,g),this.moved?this._events.flick&&200>e&&100>h&&100>j?(this._execEvent("flick"),void 0):(this.options.momentum&&300>e&&(c=this.hasHorizontalScroll?i.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration,this):{destination:f,duration:0},d=this.hasVerticalScroll?i.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration,this):{destination:g,duration:0},f=c.destination,g=d.destination,k=Math.max(c.duration,d.duration),this.isInTransition=1),this.options.snap&&(m=this._nearestSnap(f,g),this.currentPage=m,k=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(f-m.x),1e3),Math.min(Math.abs(g-m.y),1e3)),300),f=m.x,g=m.y,this.directionX=0,this.directionY=0,l=this.options.bounceEasing),f!==this.x||g!==this.y?((f>0||f<this.maxScrollX||g>0||g<this.maxScrollY)&&(l=i.ease.quadratic),this.scrollTo(f,g,k,l),void 0):(this._execEvent("scrollEnd"),void 0)):(this.options.tap&&i.tap(a,this.options.tap),this.options.click&&i.click(a),this._execEvent("scrollCancel"),void 0)},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var d,b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),b===this.x&&c===this.y?!1:(this.options.ptr&&this.y>44&&-1*this.startY<e(window).height()&&!this.ptrLock&&(c=this.options.ptrOffset||44,this._execEvent("ptr"),this.ptrLock=!0,d=this,setTimeout(function(){d.ptrLock=!1},500)),this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=i.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);c>-1&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;c>b;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||i.ease.circular,this.isInTransition=this.options.useTransition&&c>0,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,c,d,e){if(a=a.nodeType?a:this.scroller.querySelector(a)){var f=i.offset(a);f.left-=this.wrapperOffset.left,f.top-=this.wrapperOffset.top,c===!0&&(c=Math.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),d===!0&&(d=Math.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),f.left-=c||0,f.top-=d||0,f.left=f.left>0?0:f.left<this.maxScrollX?this.maxScrollX:f.left,f.top=f.top>0?0:f.top<this.maxScrollY?this.maxScrollY:f.top,b=void 0===b||null===b||"auto"===b?Math.max(Math.abs(this.x-f.left),Math.abs(this.y-f.top)):b,this.scrollTo(f.left,f.top,b,e)}},_transitionTime:function(a){if(a=a||0,this.scrollerStyle[i.style.transitionDuration]=a+"ms",!a&&i.isBadAndroid&&(this.scrollerStyle[i.style.transitionDuration]="0.001s"),this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTime(a)},_transitionTimingFunction:function(a){if(this.scrollerStyle[i.style.transitionTimingFunction]=a,this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){if(this.options.useTransform?this.scrollerStyle[i.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ:(a=Math.round(a),b=Math.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px"),this.x=a,this.y=b,this.indicators)for(var c=this.indicators.length;c--;)this.indicators[c].updatePosition()},_initEvents:function(a){var b=a?i.removeEvent:i.addEvent,c=this.options.bindToWrapper?this.wrapper:window;b(window,"orientationchange",this),b(window,"resize",this),this.options.click&&b(this.wrapper,"click",this,!0),this.options.disableMouse||(b(this.wrapper,"mousedown",this),b(c,"mousemove",this),b(c,"mousecancel",this),b(c,"mouseup",this)),i.hasPointer&&!this.options.disablePointer&&(b(this.wrapper,i.prefixPointerEvent("pointerdown"),this),b(c,i.prefixPointerEvent("pointermove"),this),b(c,i.prefixPointerEvent("pointercancel"),this),b(c,i.prefixPointerEvent("pointerup"),this)),i.hasTouch&&!this.options.disableTouch&&(b(this.wrapper,"touchstart",this),b(c,"touchmove",this),b(c,"touchcancel",this),b(c,"touchend",this)),b(this.scroller,"transitionend",this),b(this.scroller,"webkitTransitionEnd",this),b(this.scroller,"oTransitionEnd",this),b(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var b,c,a=window.getComputedStyle(this.scroller,null);return this.options.useTransform?(a=a[i.style.transform].split(")")[0].split(", "),b=+(a[12]||a[4]),c=+(a[13]||a[5])):(b=+a.left.replace(/[^-\d.]/g,""),c=+a.top.replace(/[^-\d.]/g,"")),{x:b,y:c}},_initIndicators:function(){function g(a){for(var b=e.indicators.length;b--;)a.call(e.indicators[b])}var d,f,a=this.options.interactiveScrollbars,b="string"!=typeof this.options.scrollbars,c=[],e=this;for(this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(d={el:k("v",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:b,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(d.el),c.push(d)),this.options.scrollX&&(d={el:k("h",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:b,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(d.el),c.push(d))),this.options.indicators&&(c=c.concat(this.options.indicators)),f=c.length;f--;)this.indicators.push(new l(this,c[f]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){g(function(){this.fade()})}),this.on("scrollCancel",function(){g(function(){this.fade()})}),this.on("scrollStart",function(){g(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){g(function(){this.fade(1,!0)})})),this.on("refresh",function(){g(function(){this.refresh()})}),this.on("destroy",function(){g(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){i.addEvent(this.wrapper,"wheel",this),i.addEvent(this.wrapper,"mousewheel",this),i.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){i.removeEvent(this.wrapper,"wheel",this),i.removeEvent(this.wrapper,"mousewheel",this),i.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(a){if(this.enabled){a.preventDefault(),a.stopPropagation();var b,c,d,e,f=this;if(void 0===this.wheelTimeout&&f._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){f._execEvent("scrollEnd"),f.wheelTimeout=void 0},400),"deltaX"in a)1===a.deltaMode?(b=-a.deltaX*this.options.mouseWheelSpeed,c=-a.deltaY*this.options.mouseWheelSpeed):(b=-a.deltaX,c=-a.deltaY);else if("wheelDeltaX"in a)b=a.wheelDeltaX/120*this.options.mouseWheelSpeed,c=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in a)b=c=a.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in a))return;b=c=-a.detail/3*this.options.mouseWheelSpeed}if(b*=this.options.invertWheelDirection,c*=this.options.invertWheelDirection,this.hasVerticalScroll||(b=c,c=0),this.options.snap)return d=this.currentPage.pageX,e=this.currentPage.pageY,b>0?d--:0>b&&d++,c>0?e--:0>c&&e++,this.goToPage(d,e),void 0;d=this.x+Math.round(this.hasHorizontalScroll?b:0),e=this.y+Math.round(this.hasVerticalScroll?c:0),d>0?d=0:d<this.maxScrollX&&(d=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY),this.scrollTo(d,e,0),this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var b,d,e,f,h,k,a=0,c=0,g=0,i=this.options.snapStepX||this.wrapperWidth,j=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(e=Math.round(i/2),f=Math.round(j/2);g>-this.scrollerWidth;){for(this.pages[a]=[],b=0,h=0;h>-this.scrollerHeight;)this.pages[a][b]={x:Math.max(g,this.maxScrollX),y:Math.max(h,this.maxScrollY),width:i,height:j,cx:g-e,cy:h-f},h-=j,b++;g-=i,a++}else for(k=this.options.snap,b=k.length,d=-1;b>a;a++)(0===a||k[a].offsetLeft<=k[a-1].offsetLeft)&&(c=0,d++),this.pages[c]||(this.pages[c]=[]),g=Math.max(-k[a].offsetLeft,this.maxScrollX),h=Math.max(-k[a].offsetTop,this.maxScrollY),e=g-Math.round(k[a].offsetWidth/2),f=h-Math.round(k[a].offsetHeight/2),this.pages[c][d]={x:g,y:h,width:k[a].offsetWidth,height:k[a].offsetHeight,cx:e,cy:f},g>this.maxScrollX&&c++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),0===this.options.snapThreshold%1?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var a=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1e3),Math.min(Math.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var c=0,d=this.pages.length,e=0;if(Math.abs(a-this.absStartX)<this.snapThresholdX&&Math.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;for(a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),b>0?b=0:b<this.maxScrollY&&(b=this.maxScrollY);d>c;c++)if(a>=this.pages[c][0].cx){a=this.pages[c][0].x;break}for(d=this.pages[c].length;d>e;e++)if(b>=this.pages[0][e].cy){b=this.pages[0][e].y;break}return c===this.currentPage.pageX&&(c+=this.directionX,0>c?c=0:c>=this.pages.length&&(c=this.pages.length-1),a=this.pages[c][0].x),e===this.currentPage.pageY&&(e+=this.directionY,0>e?e=0:e>=this.pages[0].length&&(e=this.pages[0].length-1),b=this.pages[0][e].y),{x:a,y:b,pageX:c,pageY:e}},goToPage:function(a,b,c,d){d=d||this.options.bounceEasing,a>=this.pages.length?a=this.pages.length-1:0>a&&(a=0),b>=this.pages[a].length?b=this.pages[a].length-1:0>b&&(b=0);var e=this.pages[a][b].x,f=this.pages[a][b].y;c=void 0===c?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(e-this.x),1e3),Math.min(Math.abs(f-this.y),1e3)),300):c,this.currentPage={x:e,y:f,pageX:a,pageY:b},this.scrollTo(e,f,c,d)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++,c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++),this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--,0>c&&this.hasVerticalScroll&&(c=0,d--),this.goToPage(c,d,a,b)},_initKeys:function(){var c,b={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(c in this.options.keyBindings)"string"==typeof this.options.keyBindings[c]&&(this.options.keyBindings[c]=this.options.keyBindings[c].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(c in b)this.options.keyBindings[c]=this.options.keyBindings[c]||b[c];i.addEvent(window,"keydown",this),this.on("destroy",function(){i.removeEvent(window,"keydown",this)})},_key:function(a){if(this.enabled){var h,b=this.options.snap,c=b?this.currentPage.pageX:this.x,d=b?this.currentPage.pageY:this.y,e=i.getTime(),f=this.keyTime||0,g=.25;switch(this.options.useTransition&&this.isInTransition&&(h=this.getComputedPosition(),this._translate(Math.round(h.x),Math.round(h.y)),this.isInTransition=!1),this.keyAcceleration=200>e-f?Math.min(this.keyAcceleration+g,50):0,a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?c+=b?1:this.wrapperWidth:d+=b?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?c-=b?1:this.wrapperWidth:d-=b?1:this.wrapperHeight;break;case this.options.keyBindings.end:c=b?this.pages.length-1:this.maxScrollX,d=b?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:c=0,d=0;break;case this.options.keyBindings.left:c+=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:d+=b?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:c-=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:d-=b?1:5+this.keyAcceleration>>0;break;default:return}if(b)return this.goToPage(c,d),void 0;c>0?(c=0,this.keyAcceleration=0):c<this.maxScrollX&&(c=this.maxScrollX,this.keyAcceleration=0),d>0?(d=0,this.keyAcceleration=0):d<this.maxScrollY&&(d=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(c,d,0),this.keyTime=e}},_animate:function(a,b,c,d){function l(){var n,o,p,m=i.getTime();return m>=k?(e.isAnimating=!1,e._translate(a,b),e.resetPosition(e.options.bounceTime)||e._execEvent("scrollEnd"),void 0):(m=(m-j)/c,p=d(m),n=(a-f)*p+f,o=(b-h)*p+h,e._translate(n,o),e.isAnimating&&g(l),3===e.options.probeType&&e._execEvent("scroll"),void 0)}var e=this,f=this.x,h=this.y,j=i.getTime(),k=j+c;this.isAnimating=!0,l()},handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(a);break;case"keydown":this._key(a);break;case"click":a._constructed||(a.preventDefault(),a.stopPropagation())}}},l.prototype={handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a)}},destroy:function(){this.options.interactive&&(i.removeEvent(this.indicator,"touchstart",this),i.removeEvent(this.indicator,i.prefixPointerEvent("pointerdown"),this),i.removeEvent(this.indicator,"mousedown",this),i.removeEvent(window,"touchmove",this),i.removeEvent(window,i.prefixPointerEvent("pointermove"),this),i.removeEvent(window,"mousemove",this),i.removeEvent(window,"touchend",this),i.removeEvent(window,i.prefixPointerEvent("pointerup"),this),i.removeEvent(window,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(a){var b=a.touches?a.touches[0]:a;a.preventDefault(),a.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=b.pageX,this.lastPointY=b.pageY,this.startTime=i.getTime(),this.options.disableTouch||i.addEvent(window,"touchmove",this),this.options.disablePointer||i.addEvent(window,i.prefixPointerEvent("pointermove"),this),this.options.disableMouse||i.addEvent(window,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(a){var c,d,e,f,b=a.touches?a.touches[0]:a,g=i.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,c=b.pageX-this.lastPointX,this.lastPointX=b.pageX,d=b.pageY-this.lastPointY,this.lastPointY=b.pageY,e=this.x+c,f=this.y+d,this._pos(e,f),1===this.scroller.options.probeType&&g-this.startTime>300?(this.startTime=g,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),a.preventDefault(),a.stopPropagation()},_end:function(a){var b,c;this.initiated&&(this.initiated=!1,a.preventDefault(),a.stopPropagation(),i.removeEvent(window,"touchmove",this),i.removeEvent(window,i.prefixPointerEvent("pointermove"),this),i.removeEvent(window,"mousemove",this),this.scroller.options.snap&&(b=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),c=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-b.x),1e3),Math.min(Math.abs(this.scroller.y-b.y),1e3)),300),(this.scroller.x!==b.x||this.scroller.y!==b.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=b,this.scroller.scrollTo(b.x,b.y,c,this.scroller.options.bounceEasing))),this.moved&&this.scroller._execEvent("scrollEnd"))},transitionTime:function(a){a=a||0,this.indicatorStyle[i.style.transitionDuration]=a+"ms",!a&&i.isBadAndroid&&(this.indicatorStyle[i.style.transitionDuration]="0.001s")
},transitionTimingFunction:function(a){this.indicatorStyle[i.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime(),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(i.addClass(this.wrapper,"iScrollBothScrollbars"),i.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(i.removeClass(this.wrapper,"iScrollBothScrollbars"),i.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),this.wrapper.offsetHeight,this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"===this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"===this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<this.minBoundaryX?("scale"===this.options.shrink&&(this.width=Math.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+"px"),a=this.minBoundaryX):a>this.maxBoundaryX?"scale"===this.options.shrink?(this.width=Math.max(this.indicatorWidth-(a-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",a=this.maxPosX+this.indicatorWidth-this.width):a=this.maxBoundaryX:"scale"===this.options.shrink&&this.width!==this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),b<this.minBoundaryY?("scale"===this.options.shrink&&(this.height=Math.max(this.indicatorHeight+3*b,8),this.indicatorStyle.height=this.height+"px"),b=this.minBoundaryY):b>this.maxBoundaryY?"scale"===this.options.shrink?(this.height=Math.max(this.indicatorHeight-3*(b-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",b=this.maxPosY+this.indicatorHeight-this.height):b=this.maxBoundaryY:"scale"===this.options.shrink&&this.height!==this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=a,this.y=b,this.scroller.options.useTransform?this.indicatorStyle[i.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=a+"px",this.indicatorStyle.top=b+"px")},_pos:function(a,b){0>a?a=0:a>this.maxPosX&&(a=this.maxPosX),0>b?b=0:b>this.maxPosY&&(b=this.maxPosY),a=this.options.listenX?Math.round(a/this.sizeRatioX):this.scroller.x,b=this.options.listenY?Math.round(b/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(a,b)},fade:function(a,b){if(!b||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var c=a?250:500,d=a?0:300;a=a?"1":"0",this.wrapperStyle[i.style.transitionDuration]=c+"ms",this.fadeTimeout=setTimeout(function(a){this.wrapperStyle.opacity=a,this.visible=+a}.bind(this,a),d)}}},j.utils=i,c.compareVersion=function(a,b){var c,d,e,f,g;if(a===b)return 0;for(c=a.split("."),d=b.split("."),e=0;e<c.length;e++){if(f=parseInt(c[e]),!d[e])return 1;if(g=parseInt(d[e]),g>f)return-1;if(f>g)return 1}return 1},m=function(a,b){var g,h,d=this.$pageContent=e(a),f="auto"===b&&c.device.android&&c.compareVersion("4.4.0",c.device.osVersion)>-1||c.device.ios&&c.compareVersion("6.0.0",c.device.osVersion)>-1||"js"===b;f?(g=e(a).hasClass("pull-to-refresh-content"),h={probeType:1,mouseWheel:!0},g&&(h.ptr=!0,h.ptrOffset=44),this.scroller=new j(a,h),c.initPullToRefresh=c.initPullToRefreshJS,c.pullToRefreshDone=c.pullToRefreshDoneJS,c.pullToRefreshTrigger=c.pullToRefreshTriggerJS,c.destroyToRefresh=c.destroyToRefreshJS):d.addClass("native-scroll")},m.prototype.scrollTop=function(a,b){return this.scroller?void 0===a?-1*this.scroller.getComputedPosition().y:(this.scroller.scrollTo(0,-1*a,b),this):this.$pageContent.scrollTop(a,b)},m.prototype.on=function(a,b){return this.scroller?this.scroller.on(a,function(){b.call(this.wrapper)}):this.$pageContent.on(a,b),this},m.prototype.off=function(a,b){return this.scroller?this.scroller.off(a,b):this.$pageContent.off(a,b),this},m.prototype.refresh=function(){return this.scroller&&this.scroller.refresh(),this},m.prototype.scrollHeight=function(){return this.scroller?this.scroller.scrollerHeight:this.$pageContent[0].scrollHeight},m.prototype.enable=function(){return this.scroller&&this.scroller.enable(),this},m.prototype.disable=function(){return this.scroller&&this.scroller.disable(),this},c.initScroller=function(a){var b,d,f;a&&(b=e(a),d=b.find(".page-content-inner"),d[0]||b.html('<div class="page-content-inner">'+b.html()+"</div>"),b.hasClass("pull-to-refresh-content")&&b.find(".page-content-inner").css("min-height",e(window).height()+20+"px"),f=new m(a,c.params.scroller),a.scroller=f)},c.refreshScroller=function(a){var b=e(a||e(c.mainView.activePage.container).find(".page-content")[0]);b[0]&&b[0].scroller&&b[0].scroller.refresh()},c.getScroller=function(a){return a?e(a)[0].scroller:e(c.mainView.activePage.container).find(".page-content")[0].scroller},c.views=[],n=function(a,b){var f,g,h,i,j,k,l,m,n,o,p,q,u,x,y,A,D,E,F,G,H,I,J,r,s,t,v,w,z,B,C,K,L,M,d={dynamicNavbar:!1,domCache:!1,linksView:void 0,reloadPages:!1,uniqueHistory:c.params.uniqueHistory,uniqueHistoryIgnoreGetParameters:c.params.uniqueHistoryIgnoreGetParameters,allowDuplicateUrls:c.params.allowDuplicateUrls,swipeBackPage:c.params.swipeBackPage,swipeBackPageAnimateShadow:c.params.swipeBackPageAnimateShadow,swipeBackPageAnimateOpacity:c.params.swipeBackPageAnimateOpacity,swipeBackPageActiveArea:c.params.swipeBackPageActiveArea,swipeBackPageThreshold:c.params.swipeBackPageThreshold,animatePages:c.params.animatePages,preloadPreviousPage:c.params.preloadPreviousPage};b=b||{};for(g in d)"undefined"==typeof b[g]&&(b[g]=d[g]);if(h=this,h.params=b,h.selector=a,i=e(a),h.container=i[0],h.contentCache={},h.pagesCache={},i[0].f7View=h,h.pagesContainer=i.find(".pages")[0],h.initialPages=[],h.initialNavbars=[],h.params.domCache){for(j=i.find(".page"),f=0;f<j.length;f++)h.initialPages.push(j[f]);if(h.params.dynamicNavbar)for(k=i.find(".navbar-inner"),f=0;f<k.length;f++)h.initialNavbars.push(k[f])}return h.allowPageChange=!0,l=document.location.href,h.history=[],m=l,n=c.params.pushStateSeparator,o=c.params.pushStateRoot,c.params.pushState&&(o?m=o:m.indexOf(n)>=0&&m.indexOf(n+"#")<0&&(m=m.split(n)[0])),h.activePage||(p=e(h.pagesContainer).find(".page-on-center"),0===p.length&&(p=e(h.pagesContainer).find(".page:not(.cached)"),p=p.eq(p.length-1)),p.length>0&&(q=p[0].f7PageData)),h.params.domCache&&p?(h.url=i.attr("data-url")||h.params.url||"#"+p.attr("data-page"),h.pagesCache[h.url]=p.attr("data-page")):h.url=i.attr("data-url")||h.params.url||m,q&&(q.view=h,q.url=h.url,h.activePage=q,p[0].f7PageData=q),h.url&&h.history.push(h.url),h.main=i.hasClass(c.params.viewMainClass),r=!1,s=!1,t={},v=[],w=[],z=!0,B=[],C=[],h.handleTouchStart=function(a){z&&h.params.swipeBackPage&&!r&&!c.swipeoutOpenedEl&&(s=!1,r=!0,u=void 0,t.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,t.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,A=(new Date).getTime(),H=h.params.dynamicNavbar&&i.find(".navbar-inner").length>1)},h.handleTouchMove=function(a){var b,d,f,g,j,k,l,m,n,o,p,q,z,A;if(r){if(b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,d="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,"undefined"==typeof u&&(u=!!(u||Math.abs(d-t.y)>Math.abs(b-t.x))),u||a.f7PreventSwipeBack||c.preventSwipeBack)return r=!1,void 0;if(!s){if(f=!1,x=i.width(),g=e(a.target),j=g.hasClass("swipeout")?g:g.parents(".swipeout"),j.length>0&&(!c.rtl&&j.find(".swipeout-actions-left").length>0&&(f=!0),c.rtl&&j.find(".swipeout-actions-right").length>0&&(f=!0)),v=g.is(".page")?g:g.parents(".page"),v.hasClass("no-swipeback")&&(f=!0),w=i.find(".page-on-left:not(.cached)"),k=t.x-i.offset().left>h.params.swipeBackPageActiveArea,k=c.rtl?t.x<i.offset().left-i[0].scrollLeft+x-h.params.swipeBackPageActiveArea:t.x-i.offset().left>h.params.swipeBackPageActiveArea,k&&(f=!0),(0===w.length||0===v.length)&&(f=!0),f)return r=!1,void 0;h.params.swipeBackPageAnimateShadow&&!c.device.android&&(I=v.find(".swipeback-page-shadow"),0===I.length&&(I=e('<div class="swipeback-page-shadow"></div>'),v.append(I))),H&&(B=i.find(".navbar-on-center:not(.cached)"),C=i.find(".navbar-on-left:not(.cached)"),D=B.find(".left, .center, .right, .subnavbar, .fading"),E=C.find(".left, .center, .right, .subnavbar, .fading"),c.params.animateNavBackIcon&&(F=B.find(".left.sliding .back .icon"),G=C.find(".left.sliding .back .icon")))}if(a.f7PreventPanelSwipe=!0,s=!0,a.preventDefault(),l=c.rtl?-1:1,y=(b-t.x-h.params.swipeBackPageThreshold)*l,0>y&&(y=0),m=y/x,n={percentage:m,activePage:v[0],previousPage:w[0],activeNavbar:B[0],previousNavbar:C[0]},h.params.onSwipeBackMove&&h.params.onSwipeBackMove(n),i.trigger("swipebackmove",n),o=y*l,p=(y/5-x/5)*l,1===c.device.pixelRatio&&(o=Math.round(o),p=Math.round(p)),v.transform("translate3d("+o+"px,0,0)"),h.params.swipeBackPageAnimateShadow&&!c.device.android&&(I[0].style.opacity=1-1*m),w.transform("translate3d("+p+"px,0,0)"),h.params.swipeBackPageAnimateOpacity&&(w[0].style.opacity=.9+.1*m),H){for(q=0;q<D.length;q++)J=e(D[q]),J.is(".subnavbar.sliding")||(J[0].style.opacity=1-1.3*m),J[0].className.indexOf("sliding")>=0&&(z=m*J[0].f7NavbarRightOffset,1===c.device.pixelRatio&&(z=Math.round(z)),J.transform("translate3d("+z+"px,0,0)"),c.params.animateNavBackIcon&&J[0].className.indexOf("left")>=0&&F.length>0&&F.transform("translate3d("+-z+"px,0,0)"));for(q=0;q<E.length;q++)J=e(E[q]),J.is(".subnavbar.sliding")||(J[0].style.opacity=1.3*m-.3),J[0].className.indexOf("sliding")>=0&&(A=J[0].f7NavbarLeftOffset*(1-m),1===c.device.pixelRatio&&(A=Math.round(A)),J.transform("translate3d("+A+"px,0,0)"),c.params.animateNavBackIcon&&J[0].className.indexOf("left")>=0&&G.length>0&&G.transform("translate3d("+-A+"px,0,0)"))}}},h.handleTouchEnd=function(){var b,d,f;return r&&s?(r=!1,s=!1,0===y?(e([v[0],w[0]]).transform("").css({opacity:"",boxShadow:""}),H&&(D.transform("").css({opacity:""}),E.transform("").css({opacity:""}),F&&F.length>0&&F.transform(""),G&&F.length>0&&G.transform("")),void 0):(b=(new Date).getTime()-A,d=!1,(300>b&&y>10||b>=300&&y>x/2)&&(v.removeClass("page-on-center").addClass("page-on-right"),w.removeClass("page-on-left").addClass("page-on-center"),H&&(B.removeClass("navbar-on-center").addClass("navbar-on-right"),C.removeClass("navbar-on-left").addClass("navbar-on-center")),d=!0),e([v[0],w[0]]).transform("").css({opacity:"",boxShadow:""}).addClass("page-transitioning"),H&&(D.css({opacity:""}).each(function(){var a=d?this.f7NavbarRightOffset:0,b=e(this);b.transform("translate3d("+a+"px,0,0)"),c.params.animateNavBackIcon&&b.hasClass("left")&&F.length>0&&F.addClass("page-transitioning").transform("translate3d("+-a+"px,0,0)")}).addClass("page-transitioning"),E.transform("").css({opacity:""}).each(function(){var a=d?0:this.f7NavbarLeftOffset,b=e(this);b.transform("translate3d("+a+"px,0,0)"),c.params.animateNavBackIcon&&b.hasClass("left")&&G.length>0&&G.addClass("page-transitioning").transform("translate3d("+-a+"px,0,0)")}).addClass("page-transitioning")),z=!1,h.allowPageChange=!1,d&&(f=h.history[h.history.length-2],h.url=f,c.pageBackCallbacks("before",h,{pageContainer:v[0],url:f,position:"center",newPage:w,oldPage:v,swipeBack:!0}),c.pageAnimCallbacks("before",h,{pageContainer:w[0],url:f,position:"left",newPage:w,oldPage:v,swipeBack:!0})),v.transitionEnd(function(){e([v[0],w[0]]).removeClass("page-transitioning"),H&&(D.removeClass("page-transitioning").css({opacity:""}),E.removeClass("page-transitioning").css({opacity:""}),F&&F.length>0&&F.removeClass("page-transitioning"),G&&G.length>0&&G.removeClass("page-transitioning")),z=!0,h.allowPageChange=!0,d&&(c.params.pushState&&history.back(),c.pageBackCallbacks("after",h,{pageContainer:v[0],url:f,position:"center",newPage:w,oldPage:v,swipeBack:!0}),c.pageAnimCallbacks("after",h,{pageContainer:w[0],url:f,position:"left",newPage:w,oldPage:v,swipeBack:!0}),c.router.afterBack(h,v,w)),I&&I.length>0&&I.remove()}),void 0)):(r=!1,s=!1,void 0)},h.attachEvents=function(a){var b=a?"off":"on";i[b](c.touchEvents.start,h.handleTouchStart),i[b](c.touchEvents.move,h.handleTouchMove),i[b](c.touchEvents.end,h.handleTouchEnd)},h.detachEvents=function(){h.attachEvents(!0)},h.params.swipeBackPage&&h.attachEvents(),c.views.push(h),h.main&&(c.mainView=h),h.router={load:function(a){return c.router.load(h,a)},back:function(a){return c.router.back(h,a)},loadPage:function(a){if(a=a||{},"string"==typeof a){var b=a;a={},b&&0===b.indexOf("#")&&h.params.domCache?a.pageName=b.split("#")[1]:a.url=b}return c.router.load(h,a)},loadContent:function(a){return c.router.load(h,{content:a})},reloadPage:function(a){return c.router.load(h,{url:a,reload:!0})},reloadContent:function(a){return c.router.load(h,{content:a,reload:!0})},reloadPreviousPage:function(a){return c.router.load(h,{url:a,reloadPrevious:!0,reload:!0})},reloadPreviousContent:function(a){return c.router.load(h,{content:a,reloadPrevious:!0,reload:!0})},refreshPage:function(){var a={url:h.url,reload:!0,ignoreCache:!0};return a.url&&0===a.url.indexOf("#")&&(h.params.domCache&&h.pagesCache[a.url]?(a.pageName=h.pagesCache[a.url],a.url=void 0,delete a.url):h.contentCache[a.url]&&(a.content=h.contentCache[a.url],a.url=void 0,delete a.url)),c.router.load(h,a)},refreshPreviousPage:function(){var a={url:h.history[h.history.length-2],reload:!0,reloadPrevious:!0,ignoreCache:!0};return a.url&&0===a.url.indexOf("#")&&h.params.domCache&&h.pagesCache[a.url]&&(a.pageName=h.pagesCache[a.url],a.url=void 0,delete a.url),c.router.load(h,a)}},h.loadPage=h.router.loadPage,h.loadContent=h.router.loadContent,h.reloadPage=h.router.reloadPage,h.reloadContent=h.router.reloadContent,h.reloadPreviousPage=h.router.reloadPreviousPage,h.reloadPreviousContent=h.router.reloadPreviousContent,h.refreshPage=h.router.refreshPage,h.refreshPreviousPage=h.router.refreshPreviousPage,h.back=h.router.back,h.hideNavbar=function(){return c.hideNavbar(i.find(".navbar"))},h.showNavbar=function(){return c.showNavbar(i.find(".navbar"))},h.hideToolbar=function(){return c.hideToolbar(i.find(".toolbar"))},h.showToolbar=function(){return c.showToolbar(i.find(".toolbar"))},c.params.pushState&&h.main&&(o?K=l.split(c.params.pushStateRoot+n)[1]:l.indexOf(n)>=0&&l.indexOf(n+"#")<0&&(K=l.split(n)[1]),L=c.params.pushStateNoAnimation?!1:void 0,K?c.router.load(h,{url:K,animatePages:L,pushState:!1}):l.indexOf(n+"#")>=0&&(M=history.state,M.pageName&&"viewIndex"in M&&c.router.load(h,{pageName:M.pageName,pushState:!1}))),h.destroy=function(){h.detachEvents(),h=void 0},c.pluginHook("addView",h),h},c.addView=function(a,b){return new n(a,b)},c.navbarInitCallback=function(a,b,d,f,g,h){var i={container:d,innerContainer:f},j={url:g,query:e.parseUrlQuery(g||""),container:b,name:e(b).attr("data-page"),view:a,from:h},k={navbar:i,page:j};c.pluginHook("navbarInit",i,j),e(f).trigger("navbarInit",k)},c.sizeNavbars=function(a){var b=a?e(a).find(".navbar .navbar-inner:not(.cached)"):e(".navbar .navbar-inner:not(.cached)");b.each(function(){var o,p,b,d,f,g,h,i,j,k,l,m,n,q,r,s,a=e(this);a.hasClass("cached")||(b=c.rtl?a.find(".right"):a.find(".left"),d=c.rtl?a.find(".left"):a.find(".right"),f=a.find(".center"),g=a.find(".subnavbar"),h=0===b.length,i=0===d.length,j=h?0:b.outerWidth(!0),k=i?0:d.outerWidth(!0),l=f.outerWidth(!0),m=a[0].offsetWidth-parseInt(a.css("padding-left"),10)-parseInt(a.css("padding-right"),10),n=a.hasClass("navbar-on-left"),i&&(o=m-l),h&&(o=0),h||i||(o=(m-k-l+j)/2),q=(m-l)/2,m-j-k>l?(j>q&&(q=j),q+l>m-k&&(q=m-k-l),p=q-o):p=0,r=c.rtl?-1:1,s=p,c.rtl&&h&&i&&f.length>0&&(s=-s),f.css({left:s+"px"}),f.hasClass("sliding")&&(f[0].f7NavbarLeftOffset=-(o+p)*r,f[0].f7NavbarRightOffset=(m-o-p-l)*r,n&&f.transform("translate3d("+f[0].f7NavbarLeftOffset+"px, 0, 0)")),!h&&b.hasClass("sliding")&&(c.rtl?(b[0].f7NavbarLeftOffset=-(m-b.outerWidth())/2*r,b[0].f7NavbarRightOffset=j*r):(b[0].f7NavbarLeftOffset=-j,b[0].f7NavbarRightOffset=(m-b.outerWidth())/2),n&&b.transform("translate3d("+b[0].f7NavbarLeftOffset+"px, 0, 0)")),!i&&d.hasClass("sliding")&&(c.rtl?(d[0].f7NavbarLeftOffset=-k*r,d[0].f7NavbarRightOffset=(m-d.outerWidth())/2*r):(d[0].f7NavbarLeftOffset=-(m-d.outerWidth())/2,d[0].f7NavbarRightOffset=k),n&&d.transform("translate3d("+d[0].f7NavbarLeftOffset+"px, 0, 0)")),g.length&&g.hasClass("sliding")&&(g[0].f7NavbarLeftOffset=c.rtl?g[0].offsetWidth:-g[0].offsetWidth,g[0].f7NavbarRightOffset=-g[0].f7NavbarLeftOffset))})},c.hideNavbar=function(a){return e(a).addClass("navbar-hidden"),!0},c.showNavbar=function(a){var b=e(a);return b.addClass("navbar-hiding").removeClass("navbar-hidden").transitionEnd(function(){b.removeClass("navbar-hiding")}),!0},c.hideToolbar=function(a){return e(a).addClass("toolbar-hidden"),!0},c.showToolbar=function(a){var b=e(a);b.addClass("toolbar-hiding").removeClass("toolbar-hidden").transitionEnd(function(){b.removeClass("toolbar-hiding")})},o=function(a,b){function k(a){a.preventDefault()}var f,g,h,i,j,d={input:null,clearButton:null,cancelButton:null,searchList:null,searchIn:".item-title",searchBy:"",found:null,notFound:null,overlay:null,ignore:".searchbar-ignore"};b=b||{};for(f in d)("undefined"==typeof b[f]||null===b[f])&&(b[f]=d[f]);return g=this,g.params=b,a=e(a),g.container=a,g.active=!1,g.input=g.params.input?e(g.params.input):g.container.find('input[type="search"]'),g.clearButton=g.params.clearButton?e(g.params.clearButton):g.container.find(".searchbar-clear"),g.cancelButton=g.params.cancelButton?e(g.params.cancelButton):g.container.find(".searchbar-cancel"),g.searchList=e(g.params.searchList),g.isVirtualList=g.searchList.hasClass("virtual-list"),g.pageContainer=g.container.parents(".page").eq(0),g.overlay=g.params.overlay?e(g.params.overlay):g.pageContainer.length>0?g.pageContainer.find(".searchbar-overlay"):e(".searchbar-overlay"),g.found=g.params.found?e(g.params.found):g.pageContainer.length>0?g.pageContainer.find(".searchbar-found"):e(".searchbar-found"),g.notFound=g.params.notFound?e(g.params.notFound):g.pageContainer.length>0?g.pageContainer.find(".searchbar-not-found"):e(".searchbar-not-found"),h=c.rtl?"margin-left":"margin-right",g.cancelButton.length>0&&(g.cancelButton.show(),g.cancelButton.css(h,-g.cancelButton[0].offsetWidth+"px")),g.enable=function(){function a(){g.searchList.length&&!g.container.hasClass("searchbar-active")&&g.overlay.addClass("searchbar-overlay-active"),g.container.addClass("searchbar-active"),g.cancelButton.length>0&&g.cancelButton.css(h,"0px"),g.searchList.trigger("enableSearch"),g.active=!0}c.device.ios?setTimeout(function(){a()},400):a()},g.disable=function(){function a(){g.input.blur(),g.searchList.trigger("disableSearch"),g.active=!1}g.input.val("").trigger("change"),g.container.removeClass("searchbar-active searchbar-not-empty"),g.cancelButton.length>0&&g.cancelButton.css(h,-g.cancelButton[0].offsetWidth+"px"),g.searchList.length&&g.overlay.removeClass("searchbar-overlay-active"),c.device.ios?setTimeout(function(){a()},400):a()},g.clear=function(){g.input.val("").trigger("change").focus(),g.searchList.trigger("clearSearch")},g.handleInput=function(){setTimeout(function(){var a=g.input.val().trim();g.searchList.length>0&&(g.params.searchIn||g.isVirtualList)&&g.search(a,!0)},0)},g.search=function(a,b){var d,f,h;if(a.trim()!==i){if(i=a.trim(),b||(g.active||g.enable(),b||g.input.val(a)),0===a.length?(g.container.removeClass("searchbar-not-empty"),g.searchList.length&&g.container.hasClass("searchbar-active")&&g.overlay.addClass("searchbar-overlay-active")):(g.container.addClass("searchbar-not-empty"),g.searchList.length&&g.container.hasClass("searchbar-active")&&g.overlay.removeClass("searchbar-overlay-active")),d=a.trim().toLowerCase().split(" "),f=[],g.isVirtualList){if(j=g.searchList[0].f7VirtualList,""===a.trim())return j.resetFilter(),g.notFound.hide(),g.found.show(),void 0;if(j.params.searchAll)f=j.params.searchAll(a,j.items)||[];else if(j.params.searchByItem)for(h=0;h<j.items.length;h++)j.params.searchByItem(a,h,j.params.items[h])&&f.push(h)}else g.searchList.find("li").removeClass("hidden-by-searchbar").each(function(a,b){var c,h,i,j;if(b=e(b),c=b.find(g.params.searchIn),0!==c.length){for(h=c.text().trim().toLowerCase(),i=0,j=0;j<d.length;j++)h.indexOf(d[j])>=0&&i++;i===d.length||g.params.ignore&&b.is(g.params.ignore)?f.push(b[0]):b.addClass("hidden-by-searchbar")}}),c.params.searchbarHideDividers&&g.searchList.find(".item-divider, .list-group-title").each(function(){var d,f,h,a=e(this),b=a.nextAll("li"),c=!0;for(d=0;d<b.length&&(f=e(b[d]),!f.hasClass("list-group-title")&&!f.hasClass("item-divider"));d++)f.hasClass("hidden-by-searchbar")||(c=!1);h=g.params.ignore&&a.is(g.params.ignore),c&&!h?a.addClass("hidden-by-searchbar"):a.removeClass("hidden-by-searchbar")}),c.params.searchbarHideGroups&&g.searchList.find(".list-group").each(function(){var a=e(this),b=g.params.ignore&&a.is(g.params.ignore),c=a.find("li:not(.hidden-by-searchbar)");0!==c.length||b?a.removeClass("hidden-by-searchbar"):a.addClass("hidden-by-searchbar")});g.searchList.trigger("search",{query:a,foundItems:f}),0===f.length?(g.notFound.show(),g.found.hide()):(g.notFound.hide(),g.found.show()),g.isVirtualList&&j.filterItems(f),c.getScroller(g.pageContainer.find(".page-content")).refresh().scrollTop(0)}},g.attachEvents=function(a){var b=a?"off":"on";g.container[b]("submit",k),g.cancelButton[b]("click",g.disable),g.overlay[b]("click",g.disable),g.input[b]("focus",g.enable),g.input[b]("change keydown keypress keyup",g.handleInput),g.clearButton[b]("click",g.clear)},g.detachEvents=function(){g.attachEvents(!0)},g.init=function(){g.attachEvents()},g.destroy=function(){g.detachEvents(),g=null},g.init(),g.container[0].f7Searchbar=g,g},c.searchbar=function(a,b){return new o(a,b)},c.initPageSearchbar=function(a){function f(){d.destroy(),a.off("pageBeforeRemove",f)}var b,d;a=e(a),b=a.hasClass("searchbar")?a:a.find(".searchbar"),0!==b.length&&b.hasClass("searchbar-init")&&(d=c.searchbar(b,b.dataset()),a.hasClass("page")&&a.on("pageBeforeRemove",f))},p=function(a,b){function g(a){a.preventDefault()}var d,f,c={textarea:null,maxHeight:null};b=b||{};for(d in c)("undefined"==typeof b[d]||null===b[d])&&(b[d]=c[d]);return f=this,f.params=b,f.container=e(a),0!==f.container.length?(f.textarea=f.params.textarea?e(f.params.textarea):f.container.find("textarea"),f.pageContainer=f.container.parents(".page").eq(0),f.pageContent=f.pageContainer.find(".page-content"),f.pageContentPadding=parseInt(f.pageContent.css("padding-bottom")),f.initialBarHeight=f.container[0].offsetHeight,f.initialAreaHeight=f.textarea[0].offsetHeight,f.sizeTextarea=function(){var a,b,c,d,e,g;f.textarea.css({height:""}),a=f.textarea[0].offsetHeight,b=a-f.textarea[0].clientHeight,c=f.textarea[0].scrollHeight,c+b>a?(d=c+b,e=f.initialBarHeight+(d-f.initialAreaHeight),g=f.params.maxHeight||f.container.parents(".view")[0].offsetHeight-88,e>g&&(e=parseInt(g,10),d=e-f.initialBarHeight+f.initialAreaHeight),f.textarea.css("height",d+"px"),f.container.css("height",e+"px"),f.pageContent.length>0&&(f.pageContent.css("padding-bottom",e+"px"),f.pageContent.scrollTop(f.pageContent[0].scrollHeight-f.pageContent[0].offsetHeight))):f.pageContent.length>0&&(f.container.css({height:"",bottom:""}),f.pageContent.css({"padding-bottom":""}))},f.clear=function(){f.textarea.val("").trigger("change")},f.value=function(a){return"undefined"==typeof a?f.textarea.val():(f.textarea.val(a).trigger("change"),void 0)},f.textareaTimeout=void 0,f.handleTextarea=function(){clearTimeout(f.textareaTimeout),f.textareaTimeout=setTimeout(function(){f.sizeTextarea()},0)},f.attachEvents=function(a){var b=a?"off":"on";f.container[b]("submit",g),f.textarea[b]("change keydown keypress keyup paste cut",f.handleTextarea)},f.detachEvents=function(){f.attachEvents(!0)},f.init=function(){f.attachEvents()},f.destroy=function(){f.detachEvents(),f=null},f.init(),f.container[0].f7Messagebar=f,f):void 0},c.messagebar=function(a,b){return new p(a,b)},c.initPageMessagebar=function(a){function f(){d.destroy(),a.off("pageBeforeRemove",f)}var b,d;a=e(a),b=a.hasClass("messagebar")?a:a.find(".messagebar"),0!==b.length&&b.hasClass("messagebar-init")&&(d=c.messagebar(b,b.dataset()),a.hasClass("page")&&a.on("pageBeforeRemove",f))},c.cache=[],c.removeFromCache=function(a){var d,b=!1;for(d=0;d<c.cache.length;d++)c.cache[d].url===a&&(b=d);b!==!1&&c.cache.splice(b,1)},c.xhr=!1,c.get=function(a,b,d,f){var h,g=a;if(c.params.cacheIgnoreGetParameters&&a.indexOf("?")>=0&&(g=a.split("?")[0]),c.params.cache&&!d&&a.indexOf("nocache")<0&&c.params.cacheIgnore.indexOf(g)<0)for(h=0;h<c.cache.length;h++)if(c.cache[h].url===g&&(new Date).getTime()-c.cache[h].time<c.params.cacheDuration)return f(c.cache[h].content),!1;return c.xhr=e.ajax({url:a,method:"GET",beforeSend:c.params.onAjaxStart,complete:function(a){200===a.status||0===a.status?(c.params.cache&&!d&&(c.removeFromCache(g),c.cache.push({url:g,time:(new Date).getTime(),content:a.responseText})),f(a.responseText,!1)):f(a.responseText,!0),c.params.onAjaxComplete&&c.params.onAjaxComplete(a)},error:function(a){f(a.responseText,!0),c.params.onAjaxError&&c.params.onAjaxError(a)}}),b&&(b.xhr=c.xhr),c.xhr},c.pageCallbacks={},c.onPage=function(a,b,d){var e,f,g,h;if(b&&b.split(" ").length>1){for(e=b.split(" "),f=[],g=0;g<e.length;g++)f.push(c.onPage(a,e[g],d));return f.remove=function(){for(var a=0;a<f.length;a++)f[a].remove()},f.trigger=function(){for(var a=0;a<f.length;a++)f[a].trigger()},f}return h=c.pageCallbacks[a][b],h||(h=c.pageCallbacks[a][b]=[]),c.pageCallbacks[a][b].push(d),{remove:function(){var a,b;for(b=0;b<h.length;b++)h[b].toString()===d.toString()&&(a=b);"undefined"!=typeof a&&h.splice(a,1)},trigger:d}},r="beforeInit init reinit beforeAnimation afterAnimation back afterBack beforeRemove".split(" ");for(s=0;s<r.length;s++)c.pageCallbacks[r[s]]={},q(r[s]);return c.triggerPageCallbacks=function(a,b,d){var f,g,h,e=c.pageCallbacks[a]["*"];if(e)for(f=0;f<e.length;f++)e[f](d);if(g=c.pageCallbacks[a][b],g&&0!==g.length)for(h=0;h<g.length;h++)g[h](d)},c.pageInitCallback=function(a,b){var f,d=b.pageContainer;if(!d.f7PageInitialized||a.params.domCache){if(c.initScroller(e(d).find(".page-content")[0]),f={container:d,scroller:d.scroller,url:b.url,query:b.query||e.parseUrlQuery(b.url||""),name:e(d).attr("data-page"),view:a,from:b.position,context:b.context,navbarInnerContainer:b.navbarInnerContainer,fromPage:b.fromPage},b.fromPage&&!b.fromPage.navbarInnerContainer&&b.oldNavbarInnerContainer&&(b.fromPage.navbarInnerContainer=b.oldNavbarInnerContainer),d.f7PageInitialized&&a.params.domCache)return c.reinitPage(d),c.pluginHook("pageReinit",f),c.params.onPageReinit&&c.params.onPageBeforeInit(c,f),c.triggerPageCallbacks("reinit",f.name,f),e(f.container).trigger("pageReinit",{page:f}),void 0;d.f7PageInitialized=!0,d.f7PageData=f,a&&!b.preloadOnly&&(a.activePage=f),c.pluginHook("pageBeforeInit",f),c.params.onPageBeforeInit&&c.params.onPageBeforeInit(c,f),c.triggerPageCallbacks("beforeInit",f.name,f),e(f.container).trigger("pageBeforeInit",{page:f}),c.initPage(d),c.pluginHook("pageInit",f),c.params.onPageInit&&c.params.onPageInit(c,f),c.triggerPageCallbacks("init",f.name,f),e(f.container).trigger("pageInit",{page:f})}},c.pageRemoveCallback=function(a,b,d){var f,g;b.f7PageData&&(f=b.f7PageData.context),g={container:b,name:e(b).attr("data-page"),view:a,url:b.f7PageData&&b.f7PageData.url,query:b.f7PageData&&b.f7PageData.query,navbarInnerContainer:b.f7PageData&&b.f7PageData.navbarInnerContainer,from:d,context:f},c.pluginHook("pageBeforeRemove",g),c.params.onPageBeforeRemove&&c.params.onPageBeforeRemove(c,g),c.triggerPageCallbacks("beforeRemove",g.name,g),e(g.container).trigger("pageBeforeRemove",{page:g})},c.pageBackCallbacks=function(a,b,d){var g,h,f=d.pageContainer;f.f7PageData&&(g=f.f7PageData.context),h={container:f,name:e(f).attr("data-page"),url:f.f7PageData&&f.f7PageData.url,query:f.f7PageData&&f.f7PageData.query,view:b,from:d.position,context:g,navbarInnerContainer:f.f7PageData&&f.f7PageData.navbarInnerContainer,swipeBack:d.swipeBack},"after"===a&&(c.pluginHook("pageAfterBack",h),c.params.onPageAfterBack&&c.params.onPageAfterBack(c,h),c.triggerPageCallbacks("afterBack",h.name,h),e(f).trigger("pageAfterBack",{page:h})),"before"===a&&(c.pluginHook("pageBack",h),c.params.onPageBack&&c.params.onPageBack(c,h),c.triggerPageCallbacks("back",h.name,h),e(h.container).trigger("pageBack",{page:h}))},c.pageAnimCallbacks=function(a,b,d){var g,h,i,j,k,f=d.pageContainer;f.f7PageData&&(g=f.f7PageData.context),h={container:f,url:d.url,query:d.query||e.parseUrlQuery(d.url||""),name:e(f).attr("data-page"),view:b,from:d.position,context:g,swipeBack:d.swipeBack,navbarInnerContainer:f.f7PageData&&f.f7PageData.navbarInnerContainer,fromPage:d.fromPage},i=d.oldPage,j=d.newPage,f.f7PageData=h,"after"===a&&(c.pluginHook("pageAfterAnimation",h),c.params.onPageAfterAnimation&&c.params.onPageAfterAnimation(c,h),c.triggerPageCallbacks("afterAnimation",h.name,h),e(h.container).trigger("pageAfterAnimation",{page:h})),"before"===a&&(e(b.container).attr("data-page",h.name),b&&(b.activePage=h),j.hasClass("no-navbar")&&!i.hasClass("no-navbar")&&b.hideNavbar(),j.hasClass("no-navbar")||!i.hasClass("no-navbar")&&!i.hasClass("no-navbar-by-scroll")||b.showNavbar(),j.hasClass("no-toolbar")&&!i.hasClass("no-toolbar")&&b.hideToolbar(),j.hasClass("no-toolbar")||!i.hasClass("no-toolbar")&&!i.hasClass("no-toolbar-by-scroll")||b.showToolbar(),j.hasClass("no-tabbar")&&!i.hasClass("no-tabbar")&&(k=e(b.container).find(".tabbar"),0===k.length&&(k=e(b.container).parents("."+c.params.viewsClass).find(".tabbar")),c.hideToolbar(k)),j.hasClass("no-tabbar")||!i.hasClass("no-tabbar")&&!i.hasClass("no-tabbar-by-scroll")||(k=e(b.container).find(".tabbar"),0===k.length&&(k=e(b.container).parents("."+c.params.viewsClass).find(".tabbar")),c.showToolbar(k)),i.removeClass("no-navbar-by-scroll no-toolbar-by-scroll"),c.pluginHook("pageBeforeAnimation",h),c.params.onPageBeforeAnimation&&c.params.onPageBeforeAnimation(c,h),c.triggerPageCallbacks("beforeAnimation",h.name,h),e(h.container).trigger("pageBeforeAnimation",{page:h}))},c.initPage=function(a){a=e(a),c.sizeNavbars&&c.sizeNavbars(a.parents("."+c.params.viewClass)[0]),c.initPageMessages&&c.initPageMessages(a),c.initFormsStorage&&c.initFormsStorage(a),c.initSmartSelects&&c.initSmartSelects(a),c.initPageSwiper&&c.initPageSwiper(a),c.initPullToRefresh&&c.initPullToRefresh(a),c.initInfiniteScroll&&c.initInfiniteScroll(a),c.initPageSearchbar&&c.initPageSearchbar(a),c.initPageMessagebar&&c.initPageMessagebar(a),c.initScrollToolbars&&c.initScrollToolbars(a),c.initImagesLazyLoad&&c.initImagesLazyLoad(a),c.refreshScroller(e(a).find(".page-content")[0])
},c.reinitPage=function(a){a=e(a),c.sizeNavbars&&c.sizeNavbars(a.parents("."+c.params.viewClass)[0]),c.reinitPageSwiper&&c.reinitPageSwiper(a),c.reinitLazyLoad&&c.reinitLazyLoad(a)},c.initPageWithCallback=function(a){var b,d,f;a=e(a),b=a.parents("."+c.params.viewClass),0!==b.length&&(d=b[0].f7View||!1,f=d&&d.url?d.url:!1,b&&b.attr("data-page",a.attr("data-page")||void 0),c.pageInitCallback(d,{pageContainer:a[0],url:f,position:"center"}))},c.router={temporaryDom:document.createElement("div"),findElement:function(a,b,d,f){b=e(b),f&&(a+=":not(.cached)");var g=b.find(a);return g.length>1&&("string"==typeof d.selector&&(g=b.find(d.selector+" "+a)),g.length>1&&(g=b.find("."+c.params.viewMainClass+" "+a))),1===g.length?g:(f||(g=c.router.findElement(a,b,d,!0)),g&&1===g.length?g:void 0)},animatePages:function(a,b,c){var e="page-on-center page-on-right page-on-left";"to-left"===c&&(a.removeClass(e).addClass("page-from-center-to-left"),b.removeClass(e).addClass("page-from-right-to-center")),"to-right"===c&&(a.removeClass(e).addClass("page-from-left-to-center"),b.removeClass(e).addClass("page-from-center-to-right"))},prepareNavbar:function(a,b,d){e(a).find(".sliding").each(function(){var a=e(this),f="right"===d?this.f7NavbarRightOffset:this.f7NavbarLeftOffset;c.params.animateNavBackIcon&&(a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-f+"px,0,0)"),"left"===d&&a.hasClass("center")&&e(b).find(".left .back .icon ~ span").length>0&&(f+=e(b).find(".left .back span")[0].offsetLeft)),a.transform("translate3d("+f+"px,0,0)")})},animateNavbars:function(a,b,d){var g="navbar-on-right navbar-on-center navbar-on-left";"to-left"===d&&(b.removeClass(g).addClass("navbar-from-right-to-center"),b.find(".sliding").each(function(){var a=e(this);a.transform("translate3d(0px,0,0)"),c.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d(0px,0,0)")}),a.removeClass(g).addClass("navbar-from-center-to-left"),a.find(".sliding").each(function(){var a=e(this);c.params.animateNavBackIcon&&(a.hasClass("center")&&b.find(".sliding.left .back .icon").length>0&&b.find(".sliding.left .back span").length>0&&(this.f7NavbarLeftOffset+=b.find(".sliding.left .back span")[0].offsetLeft),a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)")),a.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")})),"to-right"===d&&(a.removeClass(g).addClass("navbar-from-left-to-center"),a.find(".sliding").each(function(){var a=e(this);a.transform("translate3d(0px,0,0)"),c.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d(0px,0,0)")}),b.removeClass(g).addClass("navbar-from-center-to-right"),b.find(".sliding").each(function(){var a=e(this);c.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)"),a.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)")}))},preprocess:function(a,b,d){c.pluginHook("routerPreprocess",a,b,d),a=c.pluginProcess("preprocess",a),c.params.preprocess?(a=c.params.preprocess(a,b,d),"undefined"!=typeof a&&d(a)):d(a)},template7Render:function(a,b){var m,n,o,p,q,r,s,t,u,v,d=b.url,g=b.content,h=b.content,i=b.context,j=b.contextName,k=b.template;if(b.pageName,"string"==typeof g?d?c.template7Cache[d]?n=f.cache[d]:(n=f.compile(g),f.cache[d]=n):n=f.compile(g):k&&(n=k),i)m=i;else{if(j)if(j.indexOf(".")>=0){for(o=j.split("."),p=f.data[o[0]],q=1;q<o.length;q++)o[q]&&(p=p[o[q]]);m=p}else m=f.data[j];if(!m&&d&&(m=f.data["url:"+d]),m||"string"!=typeof g||k||(r=g.match(/(data-page=["'][^"^']*["'])/),r&&(s=r[0].split("data-page=")[1].replace(/['"]/g,""),s&&(m=f.data["page:"+s]))),!m&&k&&f.templates)for(t in f.templates)f.templates[t]===k&&(m=f.data[t]);m||(m={})}if(n&&m){if("function"==typeof m&&(m=m()),d){u=e.parseUrlQuery(d),m.url_query={};for(v in u)m.url_query[v]=u[v]}h=n(m)}return{content:h,context:m}}},c.router._load=function(a,b){function G(){a.allowPageChange=!0,m.removeClass("page-from-right-to-center page-on-right page-on-left").addClass("page-on-center"),n.removeClass("page-from-center-to-left page-on-center page-on-right").addClass("page-on-left"),t&&(r.removeClass("navbar-from-right-to-center navbar-on-left navbar-on-right").addClass("navbar-on-center"),q.removeClass("navbar-from-center-to-left navbar-on-center navbar-on-right").addClass("navbar-on-left")),c.pageAnimCallbacks("after",a,{pageContainer:m[0],url:d,position:"right",oldPage:n,newPage:m,query:b.query,fromPage:n&&n.length&&n[0].f7PageData}),c.params.pushState&&c.pushStateClearQueue(),a.params.swipeBackPage||a.params.preloadPreviousPage||(a.params.domCache?(n.addClass("cached"),q.addClass("cached")):(0!==d.indexOf("#")||0!==m.attr("data-page").indexOf("smart-select-"))&&(c.pageRemoveCallback(a,n[0],"left"),n.remove(),t&&q.remove())),a.params.uniqueHistory&&C&&a.refreshPreviousPage()}var m,n,o,p,q,r,s,t,u,d,f,g,h,i,j,k,l,v,w,x,y,z,A,B,C,D,E;if(b=b||{},d=b.url,f=b.content,g={content:b.content},h=b.template,i=b.pageName,j=e(a.container),k=e(a.pagesContainer),l=b.animatePages,v="undefined"==typeof d&&f||h,w=b.pushState,"undefined"==typeof l&&(l=a.params.animatePages),c.pluginHook("routerLoad",a,b),(c.params.template7Pages&&"string"==typeof f||h)&&(g=c.router.template7Render(a,b),g.content&&!f&&(f=g.content)),c.router.temporaryDom.innerHTML="",!i)if(d||"string"==typeof f)c.router.temporaryDom.innerHTML=g.content;else if("length"in f&&f.length>1)for(x=0;x<f.length;x++)e(c.router.temporaryDom).append(f[x]);else e(c.router.temporaryDom).append(f);if(u=b.reload&&(b.reloadPrevious?"left":"center"),m=i?k.find('.page[data-page="'+i+'"]'):c.router.findElement(".page",c.router.temporaryDom,a),!m||0===m.length||i&&a.activePage&&a.activePage.name===i)return a.allowPageChange=!0,void 0;if(m.addClass(b.reload?"page-on-"+u:"page-on-right"),o=k.children(".page:not(.cached)"),b.reload&&b.reloadPrevious&&1===o.length)return a.allowPageChange=!0,void 0;if(b.reload)n=o.eq(o.length-1);else{if(o.length>1){for(p=0;p<o.length-2;p++)a.params.domCache?e(o[p]).addClass("cached"):(c.pageRemoveCallback(a,o[p],"left"),e(o[p]).remove());a.params.domCache?e(o[p]).addClass("cached"):(c.pageRemoveCallback(a,o[p],"left"),e(o[p]).remove())}n=k.children(".page:not(.cached)")}if(a.params.domCache&&m.removeClass("cached"),a.params.dynamicNavbar)if(t=!0,r=i?j.find('.navbar-inner[data-page="'+i+'"]'):c.router.findElement(".navbar-inner",c.router.temporaryDom,a),r&&0!==r.length||(t=!1),s=j.find(".navbar"),b.reload)q=s.find(".navbar-inner:not(.cached):last-child");else if(q=s.find(".navbar-inner:not(.cached)"),q.length>0){for(p=0;p<q.length-1;p++)a.params.domCache?e(q[p]).addClass("cached"):e(q[p]).remove();r||1!==q.length||(a.params.domCache?e(q[0]).addClass("cached"):e(q[0]).remove()),q=s.find(".navbar-inner:not(.cached)")}if(t&&(r.addClass(b.reload?"navbar-on-"+u:"navbar-on-right"),a.params.domCache&&r.removeClass("cached"),m[0].f7RelatedNavbar=r[0],r[0].f7RelatedPage=m[0]),d||(y=i||m.attr("data-page"),d=v?"#"+c.params.dynamicPageUrl.replace(/{{name}}/g,y).replace(/{{index}}/g,a.history.length-(b.reload?1:0)):"#"+y,a.params.domCache||(a.contentCache[d]=f),a.params.domCache&&i&&(a.pagesCache[d]=i)),c.params.pushState&&!b.reloadPrevious&&a.main&&("undefined"==typeof w&&(w=!0),z=c.params.pushStateRoot||"",A=b.reload?"replaceState":"pushState",w&&(v||i?v&&f?history[A]({content:f,url:d,viewIndex:c.views.indexOf(a)},"",z+c.params.pushStateSeparator+d):i&&history[A]({pageName:i,url:d,viewIndex:c.views.indexOf(a)},"",z+c.params.pushStateSeparator+d):history[A]({url:d,viewIndex:c.views.indexOf(a)},"",z+c.params.pushStateSeparator+d))),a.url=d,b.reload?(B=a.history[a.history.length-(b.reloadPrevious?2:1)],B&&0===B.indexOf("#")&&B in a.contentCache&&B!==d&&(a.contentCache[B]=null,delete a.contentCache[B]),a.history[a.history.length-(b.reloadPrevious?2:1)]=d):a.history.push(d),C=!1,a.params.uniqueHistory){if(D=a.history,E=d,a.params.uniqueHistoryIgnoreGetParameters)for(D=[],E=d.split("?")[0],p=0;p<a.history.length;p++)D.push(a.history[p].split("?")[0]);D.indexOf(E)!==D.lastIndexOf(E)&&(a.history=a.history.slice(0,D.indexOf(E)),a.history.push(d),C=!0)}return b.reloadPrevious?(n=n.prev(".page"),m.insertBefore(n),t&&(q=q.prev(".navbar-inner"),r.insertAfter(q))):(k.append(m[0]),t&&s.append(r[0])),b.reload&&(a.params.domCache&&a.initialPages.indexOf(n[0])>=0?(n.addClass("cached"),t&&q.addClass("cached")):(c.pageRemoveCallback(a,n[0],u),n.remove(),t&&q.remove())),c.pageInitCallback(a,{pageContainer:m[0],url:d,position:b.reload?u:"right",navbarInnerContainer:t?r&&r[0]:void 0,oldNavbarInnerContainer:t?q&&q[0]:void 0,context:g.context,query:b.query,fromPage:n&&n.length&&n[0].f7PageData}),t&&c.navbarInitCallback(a,m[0],s[0],r[0],d,b.reload?u:"right"),b.reload?(a.allowPageChange=!0,C&&a.refreshPreviousPage(),void 0):(t&&l&&c.router.prepareNavbar(r,q,"right"),m[0].clientLeft,c.pageAnimCallbacks("before",a,{pageContainer:m[0],url:d,position:"right",oldPage:n,newPage:m,query:b.query,fromPage:n&&n.length&&n[0].f7PageData}),l?(c.router.animatePages(n,m,"to-left",a),t&&setTimeout(function(){c.router.animateNavbars(q,r,"to-left",a)},0),m.animationEnd(function(){G()})):(t&&r.find(".sliding, .sliding .back .icon").transform(""),G()),void 0)},c.router.load=function(a,b){function i(e){c.router.preprocess(e,d,function(d){b.content=d,c.router._load(a,b)})}var d,f,g,h;return b=b||{},d=b.url,f=b.content,g=b.pageName,g&&g.indexOf("?")>0&&(b.query=e.parseUrlQuery(g),b.pageName=g=g.split("?")[0]),h=b.template,a.params.reloadPages===!0&&(b.reload=!0),a.allowPageChange?!d||a.url!==d||b.reload||a.params.allowDuplicateUrls?(a.allowPageChange=!1,c.xhr&&a.xhr&&a.xhr===c.xhr&&(c.xhr.abort(),c.xhr=!1),f||g?(i(f),void 0):h?(c.router._load(a,b),void 0):b.url&&"#"!==b.url?(c.get(b.url,a,b.ignoreCache,function(b,c){return c?(a.allowPageChange=!0,void 0):(i(b),void 0)}),void 0):(a.allowPageChange=!0,void 0)):!1:!1},c.router._back=function(a,b){function z(){c.pageBackCallbacks("after",a,{pageContainer:r[0],url:d,position:"center",oldPage:r,newPage:s}),c.pageAnimCallbacks("after",a,{pageContainer:s[0],url:d,position:"left",oldPage:r,newPage:s,query:b.query,fromPage:r&&r.length&&r[0].f7PageData}),c.router.afterBack(a,r[0],s[0])}function A(){c.pageBackCallbacks("before",a,{pageContainer:r[0],url:d,position:"center",oldPage:r,newPage:s}),c.pageAnimCallbacks("before",a,{pageContainer:s[0],url:d,position:"left",oldPage:r,newPage:s,query:b.query,fromPage:r&&r.length&&r[0].f7PageData}),i?(c.router.animatePages(s,r,"to-right",a),x&&setTimeout(function(){c.router.animateNavbars(u,t,"to-right",a)},0),s.animationEnd(function(){z()})):(x&&u.find(".sliding, .sliding .back .icon").transform(""),z())}function B(){if(c.router.temporaryDom.innerHTML="",d||"string"==typeof f)c.router.temporaryDom.innerHTML=g.content;else if("length"in f&&f.length>1)for(var b=0;b<f.length;b++)e(c.router.temporaryDom).append(f[b]);else e(c.router.temporaryDom).append(f);s=c.router.findElement(".page",c.router.temporaryDom,a),a.params.dynamicNavbar&&(u=c.router.findElement(".navbar-inner",c.router.temporaryDom,a))}function C(){if(!s||0===s.length)return a.allowPageChange=!0,void 0;if(a.params.dynamicNavbar&&"undefined"==typeof x&&(x=u&&0!==u.length?!0:!1),s.addClass("page-on-left").removeClass("cached"),x&&(v=o.find(".navbar"),w=o.find(".navbar-inner:not(.cached)"),u.addClass("navbar-on-left").removeClass("cached")),m){var f,h;f=e(q[q.length-2]),x&&(h=e(f[0]&&f[0].f7RelatedNavbar||w[w.length-2])),a.params.domCache&&a.initialPages.indexOf(f[0])>=0?(f.length&&f[0]!==s[0]&&f.addClass("cached"),x&&h.length&&h[0]!==u[0]&&h.addClass("cached")):(f.length&&f.remove(),x&&h.length&&h.remove()),q=p.children(".page:not(.cached)"),x&&(w=o.find(".navbar-inner:not(.cached)")),a.history.indexOf(d)>=0?a.history=a.history.slice(0,a.history.indexOf(d)+2):a.history[[a.history.length-2]]?a.history[a.history.length-2]=d:a.history.unshift(d)}return r=e(q[q.length-1]),a.params.domCache&&r[0]===s[0]&&(r=p.children(".page.page-on-center"),0===r.length&&a.activePage&&(r=e(a.activePage.container))),x&&!t&&(t=e(w[w.length-1]),a.params.domCache&&(t[0]===u[0]&&(t=v.children(".navbar-inner.navbar-on-center:not(.cached)")),0===t.length&&(t=v.children('.navbar-inner[data-page="'+r.attr("data-page")+'"]'))),(0===t.length||u[0]===t[0])&&(x=!1)),x&&(y&&u.insertBefore(t),u[0].f7RelatedPage=s[0],s[0].f7RelatedNavbar=u[0]),y&&s.insertBefore(r),c.pageInitCallback(a,{pageContainer:s[0],url:d,position:"left",navbarInnerContainer:x?u[0]:void 0,oldNavbarInnerContainer:x?t&&t[0]:void 0,context:g.context,query:b.query,fromPage:r&&r.length&&r[0].f7PageData,preloadOnly:j}),x&&c.navbarInitCallback(a,s[0],v[0],u[0],d,"right"),x&&u.hasClass("navbar-on-left")&&i&&c.router.prepareNavbar(u,t,"left"),j?(a.allowPageChange=!0,void 0):(a.url=d,s[0].clientLeft,A(),void 0)}var d,f,g,h,i,j,k,m,n,r,s,t,u,v,w,x,o,p,q,y;return b=b||{},d=b.url,f=b.content,g={content:b.content},h=b.template,i=b.animatePages,j=b.preloadOnly,k=b.pushState,b.ignoreCache,m=b.force,n=b.pageName,o=e(a.container),p=e(a.pagesContainer),q=p.children(".page:not(.cached)"),y=!0,"undefined"==typeof i&&(i=a.params.animatePages),c.pluginHook("routerBack",a,b),(c.params.template7Pages&&"string"==typeof f||h)&&(g=c.router.template7Render(a,b),g.content&&!f&&(f=g.content)),c.params.pushState&&("undefined"==typeof k&&(k=!0),!j&&history.state&&k&&history.back()),q.length>1&&!m?j?(a.allowPageChange=!0,void 0):(a.url=a.history[a.history.length-2],d=a.url,s=e(q[q.length-2]),r=e(q[q.length-1]),a.params.dynamicNavbar&&(x=!0,w=o.find(".navbar-inner:not(.cached)"),u=e(w[0]),t=e(w[1]),(0===u.length||0===t.length||t[0]===u[0])&&(x=!1)),y=!1,C(),void 0):m?d&&d===a.url||n&&a.activePage&&a.activePage.name===n?(a.allowPageChange=!0,void 0):f?(B(),C(),void 0):n&&a.params.domCache?(n&&(d="#"+n),s=e(o).find('.page[data-page="'+n+'"]'),s[0].f7PageData&&s[0].f7PageData.url&&(d=s[0].f7PageData.url),a.params.dynamicNavbar&&(u=e(o).find('.navbar-inner[data-page="'+n+'"]'),0===u.length&&(u=e(s[0].f7RelatedNavbar))),C(),void 0):(a.allowPageChange=!0,void 0):(j||(a.url=a.history[a.history.length-2],d=a.url),f?(B(),C(),void 0):n?(s=e(o).find('.page[data-page="'+n+'"]'),a.params.dynamicNavbar&&(u=e(o).find('.navbar-inner[data-page="'+n+'"]')),C(),void 0):(a.allowPageChange=!0,void 0))},c.router.back=function(a,b){function j(e){c.router.preprocess(e,d,function(d){b.content=d,c.router._back(a,b)})}var d,f,g,h,i;if(b=b||{},d=b.url,f=b.content,g=b.pageName,g&&g.indexOf("?")>0&&(b.query=e.parseUrlQuery(g),b.pageName=g=g.split("?")[0]),h=b.force,!a.allowPageChange)return!1;if(a.allowPageChange=!1,c.xhr&&a.xhr&&a.xhr===c.xhr&&(c.xhr.abort(),c.xhr=!1),i=e(a.pagesContainer).find(".page:not(.cached)"),i.length>1&&!h)return c.router._back(a,b),void 0;if(h){if(!d&&f)return j(f),void 0;if(!d&&g)return g&&(d="#"+g),j(),void 0;if(d)return c.get(b.url,a,b.ignoreCache,function(b,c){return c?(a.allowPageChange=!0,void 0):(j(b),void 0)}),void 0}else{if(d=b.url=a.history[a.history.length-2],!d)return a.allowPageChange=!0,void 0;if(0===d.indexOf("#")&&a.contentCache[d])return j(a.contentCache[d]),void 0;if(0===d.indexOf("#")&&a.params.domCache)return g||(b.pageName=d.split("#")[1]),j(),void 0;if(0!==d.indexOf("#"))return c.get(b.url,a,b.ignoreCache,function(b,c){return c?(a.allowPageChange=!0,void 0):(j(b),void 0)}),void 0}a.allowPageChange=!0},c.router.afterBack=function(a,b,d){var f,g,h,i,j,k,l;b=e(b),d=e(d),a.params.domCache&&a.initialPages.indexOf(b[0])>=0?b.removeClass("page-from-center-to-right").addClass("cached"):(b.remove(),c.pageRemoveCallback(a,b[0],"right")),d.removeClass("page-from-left-to-center page-on-left").addClass("page-on-center"),a.allowPageChange=!0,f=a.history.pop(),a.params.dynamicNavbar&&(h=e(a.container).find(".navbar-inner:not(.cached)"),i=e(b[0].f7RelatedNavbar||h[1]),a.params.domCache&&a.initialNavbars.indexOf(i[0])>=0?i.removeClass("navbar-from-center-to-right").addClass("cached"):i.remove(),g=e(h[0]).removeClass("navbar-on-left navbar-from-left-to-center").addClass("navbar-on-center")),a.params.domCache&&e(a.container).find(".page.cached").each(function(){var d,b=e(this);b.index(),d=b[0].f7PageData&&b[0].f7PageData.url,d&&a.history.indexOf(d)<0&&a.initialPages.indexOf(this)<0&&(b[0].f7RelatedNavbar&&e(b[0].f7RelatedNavbar).remove(),b.remove())}),!a.params.domCache&&f&&f.indexOf("#")>-1&&f in a.contentCache&&(a.contentCache[f]=null,delete a.contentCache[f]),c.params.pushState&&c.pushStateClearQueue(),a.params.preloadPreviousPage&&(a.params.domCache&&a.history.length>1?(j=a.history[a.history.length-2],j&&a.pagesCache[j]?(k=e(a.container).find('.page[data-page="'+a.pagesCache[j]+'"]'),k.insertBefore(d),g&&(l=e(a.container).find('.navbar-inner[data-page="'+a.pagesCache[j]+'"]'),l.insertBefore(g),l&&0!==l.length||(l=g.prev(".navbar-inner.cached")))):(k=d.prev(".page.cached"),g&&(l=g.prev(".navbar-inner.cached"))),k&&k.length>0&&k.removeClass("cached page-on-right page-on-center").addClass("page-on-left"),l&&l.length>0&&l.removeClass("cached navbar-on-right navbar-on-center").addClass("navbar-on-left")):c.router.back(a,{preloadOnly:!0}))},t=document.createElement("div"),c.modalStack=[],c.modalStackClearQueue=function(){c.modalStack.length&&c.modalStack.shift()()},c.modal=function(a){var b,d,g,h,i,j,k,l,m;if(a=a||{},b="",c.params.modalTemplate)c._compiledTemplates.modal||(c._compiledTemplates.modal=f.compile(c.params.modalTemplate)),b=c._compiledTemplates.modal(a);else{if(d="",a.buttons&&a.buttons.length>0)for(g=0;g<a.buttons.length;g++)d+='<span class="modal-button'+(a.buttons[g].bold?" modal-button-bold":"")+'">'+a.buttons[g].text+"</span>";h=a.title?'<div class="modal-title">'+a.title+"</div>":"",i=a.text?'<div class="modal-text">'+a.text+"</div>":"",j=a.afterText?a.afterText:"",k=a.buttons&&0!==a.buttons.length?"":"modal-no-buttons",l=a.verticalButtons?"modal-buttons-vertical":"",b='<div class="modal '+k+'"><div class="modal-inner">'+(h+i+j)+'</div><div class="modal-buttons '+l+'">'+d+"</div></div>"}return t.innerHTML=b,m=e(t).children(),e("body").append(m[0]),m.find(".modal-button").each(function(b,d){e(d).on("click",function(d){a.buttons[b].close!==!1&&c.closeModal(m),a.buttons[b].onClick&&a.buttons[b].onClick(m,d),a.onClick&&a.onClick(m,b)})}),c.openModal(m),m[0]},c.alert=function(a,b,d){return"function"==typeof b&&(d=arguments[1],b=void 0),c.modal({text:a||"",title:"undefined"==typeof b?c.params.modalTitle:b,buttons:[{text:c.params.modalButtonOk,bold:!0,onClick:d}]})},c.confirm=function(a,b,d,e){return"function"==typeof b&&(e=arguments[2],d=arguments[1],b=void 0),c.modal({text:a||"",title:"undefined"==typeof b?c.params.modalTitle:b,buttons:[{text:c.params.modalButtonCancel,onClick:e},{text:c.params.modalButtonOk,bold:!0,onClick:d}]})},c.prompt=function(a,b,d,f){return"function"==typeof b&&(f=arguments[2],d=arguments[1],b=void 0),c.modal({text:a||"",title:"undefined"==typeof b?c.params.modalTitle:b,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:c.params.modalButtonCancel},{text:c.params.modalButtonOk,bold:!0}],onClick:function(a,b){0===b&&f&&f(e(a).find(".modal-text-input").val()),1===b&&d&&d(e(a).find(".modal-text-input").val())}})},c.modalLogin=function(a,b,d,f){return"function"==typeof b&&(f=arguments[2],d=arguments[1],b=void 0),c.modal({text:a||"",title:"undefined"==typeof b?c.params.modalTitle:b,afterText:'<input type="text" name="modal-username" placeholder="'+c.params.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+c.params.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:c.params.modalButtonCancel},{text:c.params.modalButtonOk,bold:!0}],onClick:function(a,b){var c=e(a).find('.modal-text-input[name="modal-username"]').val(),g=e(a).find('.modal-text-input[name="modal-password"]').val();0===b&&f&&f(c,g),1===b&&d&&d(c,g)}})},c.modalPassword=function(a,b,d,f){return"function"==typeof b&&(f=arguments[2],d=arguments[1],b=void 0),c.modal({text:a||"",title:"undefined"==typeof b?c.params.modalTitle:b,afterText:'<input type="password" name="modal-password" placeholder="'+c.params.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:c.params.modalButtonCancel},{text:c.params.modalButtonOk,bold:!0}],onClick:function(a,b){var c=e(a).find('.modal-text-input[name="modal-password"]').val();0===b&&f&&f(c),1===b&&d&&d(c)}})},c.showPreloader=function(a){return c.modal({title:a||c.params.modalPreloaderTitle,text:'<div class="preloader"></div>'})},c.hidePreloader=function(){c.closeModal(".modal.modal-in")},c.showIndicator=function(){e("body").append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},c.hideIndicator=function(){e(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},c.actions=function(a,b){var g,h,i,j,k,l,m,n,o,p,q,r,d=!1;if(1===arguments.length?b=a:c.device.ios?c.device.ipad&&(d=!0):e(window).width()>=768&&(d=!0),b=b||[],b.length>0&&!e.isArray(b[0])&&(b=[b]),d)k='<div class="popover actions-popover"><div class="popover-inner">{{#each this}}<div class="list-block"><ul>{{#each this}}{{#if label}}<li class="actions-popover-label {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</li>{{else}}<li><a href="#" class="item-link list-button {{#if color}}color-{{color}}{{/if}} {{#if bg}}bg-{{bg}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</a></li>{{/if}}{{/each}}</ul></div>{{/each}}</div></div>',c._compiledTemplates.actionsPopover||(c._compiledTemplates.actionsPopover=f.compile(k)),l=c._compiledTemplates.actionsPopover(b),g=e(c.popover(l,a,!0)),h=".list-block ul",i=".list-button";else{if(c.params.modalActionsTemplate)c._compiledTemplates.actions||(c._compiledTemplates.actions=f.compile(c.params.modalActionsTemplate)),j=c._compiledTemplates.actions(b);else{for(m="",n=0;n<b.length;n++)for(o=0;o<b[n].length;o++)0===o&&(m+='<div class="actions-modal-group">'),p=b[n][o],q=p.label?"actions-modal-label":"actions-modal-button",p.bold&&(q+=" actions-modal-button-bold"),p.color&&(q+=" color-"+p.color),p.bg&&(q+=" bg-"+p.bg),m+='<span class="'+q+'">'+p.text+"</span>",o===b[n].length-1&&(m+="</div>");j='<div class="actions-modal">'+m+"</div>"}t.innerHTML=j,g=e(t).children(),e("body").append(g[0]),h=".actions-modal-group",i=".actions-modal-button"}return r=g.find(h),r.each(function(a,f){var h=a;e(f).children().each(function(a,f){var l,j=a,k=b[h][j];!d&&e(f).is(i)&&(l=e(f)),d&&e(f).find(i).length>0&&(l=e(f).find(i)),l&&l.on("click",function(a){k.close!==!1&&c.closeModal(g),k.onClick&&k.onClick(g,a)})})}),d||c.openModal(g),g[0]},c.popover=function(a,b,d){function g(){var c,d,f,g,h,i,j,k,l,m,n,o,p,q,r,s;a.css({left:"",top:""}),c=a.width(),d=a.height(),f=a.find(".popover-angle"),g=f.width()/2,f.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""}),j=b.outerWidth(),k=b.outerHeight(),l=b.offset(),m=b.parents(".page"),m.length>0&&(l.top=l.top-m[0].scrollTop),n=e(window).height(),o=e(window).width(),p=0,q=0,r=0,s="top",d+g<l.top?p=l.top-d-g:d+g<n-l.top-k?(s="bottom",p=l.top+k+g):(s="middle",p=k/2+l.top-d/2,r=p,0>p?p=5:p+d>n&&(p=n-d-5),r-=p),"top"===s||"bottom"===s?(q=j/2+l.left-c/2,r=q,5>q&&(q=5),q+c>o&&(q=o-c-5),"top"===s&&f.addClass("on-bottom"),"bottom"===s&&f.addClass("on-top"),r-=q,h=c/2-g+r,h=Math.max(Math.min(h,c-2*g-6),6),f.css({left:h+"px"})):"middle"===s&&(q=l.left-c-g,f.addClass("on-right"),5>q&&(q=l.left+j+g,f.removeClass("on-right").addClass("on-left")),q+c>o&&(q=o-c-5,f.removeClass("on-right").addClass("on-left")),i=d/2-g+r,i=Math.max(Math.min(i,d-2*g-6),6),f.css({top:i+"px"})),a.css({top:p+"px",left:q+"px"})}if("undefined"==typeof d&&(d=!0),"string"==typeof a&&a.indexOf("<")>=0){var f=document.createElement("div");if(f.innerHTML=a.trim(),!(f.childNodes.length>0))return!1;a=f.childNodes[0],d&&a.classList.add("remove-on-close"),e("body").append(a)}return a=e(a),b=e(b),0===a.length||0===b.length?!1:(0===a.find(".popover-angle").length&&a.append('<div class="popover-angle"></div>'),a.show(),g(),e(window).on("resize",g),a.on("close",function(){e(window).off("resize",g)}),a.find("."+c.params.viewClass).length>0&&c.sizeNavbars(a.find("."+c.params.viewClass)[0]),c.openModal(a),a[0])},c.popup=function(a,b){if("undefined"==typeof b&&(b=!0),"string"==typeof a&&a.indexOf("<")>=0){var d=document.createElement("div");if(d.innerHTML=a.trim(),!(d.childNodes.length>0))return!1;a=d.childNodes[0],b&&a.classList.add("remove-on-close"),e("body").append(a)}return a=e(a),0===a.length?!1:(a.show(),a.find("."+c.params.viewClass).length>0&&c.sizeNavbars(a.find("."+c.params.viewClass)[0]),c.openModal(a),c.refreshScroller(a.find(".page-content")),a[0])},c.pickerModal=function(a,b){if("undefined"==typeof b&&(b=!0),"string"==typeof a&&a.indexOf("<")>=0){if(a=e(a),!(a.length>0))return!1;b&&a.addClass("remove-on-close"),e("body").append(a[0])}return a=e(a),0===a.length?!1:(a.show(),c.openModal(a),a[0])},c.loginScreen=function(a){return a||(a=".login-screen"),a=e(a),0===a.length?!1:(a.show(),a.find("."+c.params.viewClass).length>0&&c.sizeNavbars(a.find("."+c.params.viewClass)[0]),c.openModal(a),a[0])},c.openModal=function(a){var b,f,g,h,i;return a=e(a),b=a.hasClass("modal"),e(".modal.modal-in:not(.modal-out)").length&&c.params.modalStack&&b?(c.modalStack.push(function(){c.openModal(a)}),void 0):(a.hasClass("popover"),f=a.hasClass("popup"),g=a.hasClass("login-screen"),h=a.hasClass("picker-modal"),b&&(a.show(),a.css({marginTop:-Math.round(a.outerHeight()/2)+"px"})),g||h||(0!==e(".modal-overlay").length||f||e("body").append('<div class="modal-overlay"></div>'),0===e(".popup-overlay").length&&f&&e("body").append('<div class="popup-overlay"></div>'),i=f?e(".popup-overlay"):e(".modal-overlay")),a[0].clientLeft,a.trigger("open"),h&&e("body").addClass("with-picker-modal"),g||h||i.addClass("modal-overlay-visible"),a.removeClass("modal-out").addClass("modal-in").transitionEnd(function(){a.hasClass("modal-out")?a.trigger("closed"):a.trigger("opened")}),!0)},c.closeModal=function(a){var b,d,f,g,h,i,j;return a=e(a||".modal-in"),"undefined"==typeof a||0!==a.length?(b=a.hasClass("modal"),d=a.hasClass("popover"),f=a.hasClass("popup"),g=a.hasClass("login-screen"),h=a.hasClass("picker-modal"),i=a.hasClass("remove-on-close"),j=f?e(".popup-overlay"):e(".modal-overlay"),f?a.length===e(".popup.modal-in").length&&j.removeClass("modal-overlay-visible"):h||j.removeClass("modal-overlay-visible"),a.trigger("close"),h&&(e("body").removeClass("with-picker-modal"),e("body").addClass("picker-modal-closing")),d?(a.removeClass("modal-in modal-out").trigger("closed").hide(),i&&a.remove()):(a.removeClass("modal-in").addClass("modal-out").transitionEnd(function(){a.hasClass("modal-out")?a.trigger("closed"):a.trigger("opened"),h&&e("body").removeClass("picker-modal-closing"),f||g||h?(a.removeClass("modal-out").hide(),i&&a.length>0&&a.remove()):a.remove()}),b&&c.params.modalStack&&c.modalStackClearQueue()),!0):void 0},c.allowPanelOpen=!0,c.openPanel=function(a){function i(){g.transitionEnd(function(a){e(a.target).is(g)?(b.hasClass("active")?b.trigger("opened"):b.trigger("closed"),c.allowPanelOpen=!0):i()})}var b,d,g;return c.allowPanelOpen?(b=e(".panel-"+a),0===b.length||b.hasClass("active")?!1:(c.closePanel(),c.allowPanelOpen=!1,d=b.hasClass("panel-reveal")?"reveal":"cover",b.css({display:"block"}).addClass("active"),b.trigger("open"),b.find("."+c.params.viewClass).length>0&&c.sizeNavbars&&c.sizeNavbars(b.find("."+c.params.viewClass)[0]),b[0].clientLeft,g="reveal"===d?e("."+c.params.viewsClass):b,i(),e("body").addClass("with-panel-"+a+"-"+d),!0)):!1},c.closePanel=function(){var b,d,f,a=e(".panel.active");return 0===a.length?!1:(b=a.hasClass("panel-reveal")?"reveal":"cover",d=a.hasClass("panel-left")?"left":"right",a.removeClass("active"),f="reveal"===b?e("."+c.params.viewsClass):a,a.trigger("close"),c.allowPanelOpen=!1,f.transitionEnd(function(){a.hasClass("active")||(a.css({display:""}),a.trigger("closed"),e("body").removeClass("panel-closing"),c.allowPanelOpen=!0)}),e("body").addClass("panel-closing").removeClass("with-panel-"+d+"-"+b),void 0)},c.initSwipePanels=function(){function r(d){if(c.allowPanelOpen&&(c.params.swipePanel||c.params.swipePanelOnlyClose)&&!f&&!(e(".modal-in, .photo-browser-in").length>0||!c.params.swipePanelCloseOpposite&&!c.params.swipePanelOnlyClose&&e(".panel.active").length>0&&!a.hasClass("active"))){if(i.x="touchstart"===d.type?d.targetTouches[0].pageX:d.pageX,i.y="touchstart"===d.type?d.targetTouches[0].pageY:d.pageY,c.params.swipePanelCloseOpposite||c.params.swipePanelOnlyClose){if(e(".panel.active").length>0)b=e(".panel.active").hasClass("panel-left")?"left":"right";else{if(c.params.swipePanelOnlyClose)return;b=c.params.swipePanel}if(!b)return}if(a=e(".panel.panel-"+b),m=a.hasClass("active"),c.params.swipePanelActiveArea&&!m){if("left"===b&&i.x>c.params.swipePanelActiveArea)return;if("right"===b&&i.x<window.innerWidth-c.params.swipePanelActiveArea)return}g=!1,f=!0,h=void 0,j=(new Date).getTime(),p=void 0}}function s(e){var r,s,t,u;if(f&&!e.f7PreventPanelSwipe){if(r="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof h&&(h=!!(h||Math.abs(s-i.y)>Math.abs(r-i.x))),h)return f=!1,void 0;if(!p&&(p=r>i.x?"to-right":"to-left","left"===b&&"to-left"===p&&!a.hasClass("active")||"right"===b&&"to-right"===p&&!a.hasClass("active")))return f=!1,void 0;if(c.params.swipePanelNoFollow)return t=(new Date).getTime()-j,300>t&&("to-left"===p&&("right"===b&&c.openPanel(b),"left"===b&&a.hasClass("active")&&c.closePanel()),"to-right"===p&&("left"===b&&c.openPanel(b),"right"===b&&a.hasClass("active")&&c.closePanel())),f=!1,g=!1,void 0;g||(o=a.hasClass("panel-cover")?"cover":"reveal",m||(a.show(),d.show()),n=a[0].offsetWidth,a.transition(0),a.find("."+c.params.viewClass).length>0&&c.sizeNavbars&&c.sizeNavbars(a.find("."+c.params.viewClass)[0])),g=!0,e.preventDefault(),u=m?0:-c.params.swipePanelThreshold,"right"===b&&(u=-u),k=r-i.x+u,"right"===b?(l=k-(m?n:0),l>0&&(l=0),-n>l&&(l=-n)):(l=k+(m?n:0),0>l&&(l=0),l>n&&(l=n)),"reveal"===o?(q.transform("translate3d("+l+"px,0,0)").transition(0),d.transform("translate3d("+l+"px,0,0)"),c.pluginHook("swipePanelSetTransform",q[0],a[0],Math.abs(l/n))):(a.transform("translate3d("+l+"px,0,0)").transition(0),c.pluginHook("swipePanelSetTransform",q[0],a[0],Math.abs(l/n)))}}function t(){var i,k,p,r;return f&&g?(f=!1,g=!1,i=(new Date).getTime()-j,p=0===l||Math.abs(l)===n,k=m?l===-n?"reset":300>i&&Math.abs(l)>=0||i>=300&&Math.abs(l)<=n/2?"left"===b&&l===n?"reset":"swap":"reset":0===l?"reset":300>i&&Math.abs(l)>0||i>=300&&Math.abs(l)>=n/2?"swap":"reset","swap"===k&&(c.allowPanelOpen=!0,m?(c.closePanel(),p&&(a.css({display:""}),e("body").removeClass("panel-closing"))):c.openPanel(b),p&&(c.allowPanelOpen=!0)),"reset"===k&&(m?(c.allowPanelOpen=!0,c.openPanel(b)):(c.closePanel(),p?(c.allowPanelOpen=!0,a.css({display:""})):(r="reveal"===o?q:a,e("body").addClass("panel-closing"),r.transitionEnd(function(){c.allowPanelOpen=!0,a.css({display:""}),e("body").removeClass("panel-closing")})))),"reveal"===o&&(q.transition(""),q.transform("")),a.transition("").transform(""),d.css({display:""}).transform(""),void 0):(f=!1,g=!1,void 0)}var a,b,d,f,g,h,j,k,l,m,n,o,p,i,q;if(c.params.swipePanel){if(a=e(".panel.panel-"+c.params.swipePanel),b=c.params.swipePanel,0===a.length)return}else{if(!c.params.swipePanelOnlyClose)return;if(0===e(".panel").length)return}d=e(".panel-overlay"),i={},q=e("."+c.params.viewsClass),e(document).on(c.touchEvents.start,r),e(document).on(c.touchEvents.move,s),e(document).on(c.touchEvents.end,t)},c.initImagesLazyLoad=function(a){function j(a){function f(){a.removeClass("lazy").addClass("lazy-loaded"),b?a.css("background-image","url("+d+")"):a.attr("src",d),c.params.imagesLazyLoadSequential&&(i=!1,h.length>0&&j(h.shift()))
}var b,d,g;if(a=e(a),b=a.attr("data-background"),d=b?b:a.attr("data-src")){if(c.params.imagesLazyLoadSequential&&i)return h.indexOf(a[0])<0&&h.push(a[0]),void 0;i=!0,g=new Image,g.onload=f,g.onerror=f,g.src=d}}function k(){b=a.find(".lazy"),b.each(function(a,b){b=e(b),l(b[0])&&j(b)})}function l(a){var b=a.getBoundingClientRect(),d=c.params.imagesLazyLoadThreshold||0;return b.top>=0-d&&b.left>=0-d&&b.top<=window.innerHeight+d&&b.left<=window.innerWidth+d}function m(a){var c=a?"off":"on";b[c]("lazy",k),d[c]("lazy",k),f.on("scroll",k),e(window)[c]("resize",k)}function n(){m(!0)}var b,d,f,g,h,i;a=e(a),a.hasClass("lazy")?(b=a,a=b.parents(".page")):b=a.find(".lazy"),0!==b.length&&(a.hasClass("page-content")?(d=a,a=a.parents(".page")):d=a.find(".page-content"),0!==d.length&&(f=c.getScroller(d),g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXCwsK592mkAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==","string"==typeof c.params.imagesLazyLoadPlaceholder&&(g=c.params.imagesLazyLoadPlaceholder),c.params.imagesLazyLoadPlaceholder!==!1&&b.attr("src",g),h=[],i=!1,a[0].f7DestroyImagesLazyLoad=n,m(),a.hasClass("page")&&a.once("pageBeforeRemove",n),k(),a.once("pageAfterAnimation",k)))},c.destroyImagesLazyLoad=function(a){a=e(a),a.length>0&&a[0].f7DestroyImagesLazyLoad&&a[0].f7DestroyLazyLoad()},c.reinitImagesLazyLoad=function(a){a=e(a),a.length>0&&a.trigger("lazy")},u=function(a,b){var d,f,c={autoLayout:!0,newMessagesFirst:!1,messageTemplate:'{{#if day}}<div class="messages-date">{{day}} {{#if time}}, <span>{{time}}</span>{{/if}}</div>{{/if}}<div class="message message-{{type}} {{#if hasImage}}message-pic{{/if}} {{#if avatar}}message-with-avatar{{/if}} message-appear-from-{{position}}">{{#if name}}<div class="message-name">{{name}}</div>{{/if}}<div class="message-text">{{text}}</div>{{#if avatar}}<div class="message-avatar" style="background-image:url({{avatar}})"></div>{{/if}}{{#if label}}<div class="message-label">{{label}}</div>{{/if}}</div>'};b=b||{};for(d in c)("undefined"==typeof b[d]||null===b[d])&&(b[d]=c[d]);return f=this,f.params=b,f.container=e(a),0!==f.container.length?(f.params.autoLayout&&f.container.addClass("messages-auto-layout"),f.pageContainer=f.container.parents(".page").eq(0),f.pageContent=f.pageContainer.find(".page-content"),f.template=Template7.compile(f.params.messageTemplate),f.layout=function(){f.container.hasClass("messages-auto-layout")||f.container.addClass("messages-auto-layout"),f.container.find(".message").each(function(){var a=e(this);a.find(".message-text img").length>0&&a.addClass("message-pic"),a.find(".message-avatar").length>0&&a.addClass("message-with-avatar")}),f.container.find(".message").each(function(){var a=e(this),b=a.hasClass("message-sent"),c=a.next(".message-"+(b?"sent":"received")),d=a.prev(".message-"+(b?"sent":"received"));0===c.length?a.addClass("message-last message-with-tail"):a.removeClass("message-last message-with-tail"),0===d.length?a.addClass("message-first"):a.removeClass("message-first"),d.length>0&&d.find(".message-name").length>0&&a.find(".message-name").length>0&&d.find(".message-name").text()!==a.find(".message-name").text()&&(d.addClass("message-last message-with-tail"),a.addClass("message-first"))})},f.appendMessage=function(a){return f.addMessage(a,"append")},f.prependMessage=function(a){return f.addMessage(a,"prepend")},f.addMessage=function(a,b){if("undefined"==typeof b&&(b=f.params.newMessagesFirst?"prepend":"append"),a=a||{},a.type=a.type||"sent",!a.text)return!1;a.hasImage=a.text.indexOf("<img")>=0,a.position="append"===b?"bottom":"top";var c=f.template(a);f.container[b](c),f.params.autoLayout&&f.layout(),("append"===b&&!f.params.newMessagesFirst||"prepend"===b&&f.params.newMessagesFirst)&&f.scrollMessages()},f.scrollMessages=function(a){var b,c;"undefined"==typeof a&&(a=400),b=f.pageContent[0].scrollTop,c=f.params.newMessagesFirst?0:f.pageContent[0].scrollHeight-f.pageContent[0].offsetHeight,c!==b&&f.pageContent.scrollTop(c,a)},f.init=function(){f.params.autoLayout&&f.layout(),f.scrollMessages(0)},f.destroy=function(){f=null},f.init(),f.container[0].f7Messages=f,f):void 0},c.messages=function(a,b){return new u(a,b)},c.initPageMessages=function(a){function f(){d.destroy(),a.off("pageBeforeRemove",f)}var b,d;a=e(a),b=a.find(".messages"),0!==b.length&&b.hasClass("messages-init")&&(d=c.messages(b,b.dataset()),a.hasClass("page")&&a.on("pageBeforeRemove",f))},c.swipeoutOpenedEl=void 0,c.allowSwipeout=!0,c.initSwipeout=function(a){function B(a){c.allowSwipeout&&(d=!1,b=!0,f=void 0,g.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,g.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,h=(new Date).getTime())}function C(a){var h,B,C,D,E,F;if(b){if(h="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,B="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,"undefined"==typeof f&&(f=!!(f||Math.abs(B-g.y)>Math.abs(h-g.x))),f)return b=!1,void 0;if(!d){if(e(".list-block.sortable-opened").length>0)return;j=e(this),k=j.find(".swipeout-content"),l=j.find(".swipeout-actions-right"),m=j.find(".swipeout-actions-left"),n=o=s=t=w=v=null,z=m.hasClass("swipeout-actions-no-fold")||c.params.swipeoutActionsNoFold,A=l.hasClass("swipeout-actions-no-fold")||c.params.swipeoutActionsNoFold,m.length>0&&(n=m.outerWidth(),s=m.children("a"),v=m.find(".swipeout-overswipe")),l.length>0&&(o=l.outerWidth(),t=l.children("a"),w=l.find(".swipeout-overswipe")),q=j.hasClass("swipeout-opened"),q&&(r=j.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),j.removeClass("transitioning"),c.params.swipeoutNoFollow||(j.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),j.removeClass("swipeout-opened"))}if(d=!0,a.preventDefault(),i=h-g.x,p=i,q&&("right"===r?p-=o:p+=n),p>0&&0===m.length||0>p&&0===l.length){if(!q)return b=d=!1,void 0;p=0}if(u=0>p?"to-left":p>0?"to-right":u?u:"to-left",a.f7PreventPanelSwipe=!0,c.params.swipeoutNoFollow)return q?("right"===r&&i>0&&c.swipeoutClose(j),"left"===r&&0>i&&c.swipeoutClose(j)):(0>i&&l.length>0&&c.swipeoutOpen(j,"right"),i>0&&m.length>0&&c.swipeoutOpen(j,"left")),b=!1,d=!1,void 0;if(x=!1,y=!1,l.length>0)for(E=p/o,-o>p&&(p=-o-Math.pow(-p-o,.8),w.length>0&&(y=!0)),C=0;C<t.length;C++)"undefined"==typeof t[C]._buttonOffset&&(t[C]._buttonOffset=t[C].offsetLeft),D=t[C]._buttonOffset,F=e(t[C]),w.length>0&&F.hasClass("swipeout-overswipe")&&F.css({left:(y?-D:0)+"px"}),F.transform("translate3d("+(p-D*(1+Math.max(E,-1)))+"px,0,0)");if(m.length>0)for(E=p/n,p>n&&(p=n+Math.pow(p-n,.8),v.length>0&&(x=!0)),C=0;C<s.length;C++)"undefined"==typeof s[C]._buttonOffset&&(s[C]._buttonOffset=n-s[C].offsetLeft-s[C].offsetWidth),D=s[C]._buttonOffset,F=e(s[C]),v.length>0&&F.hasClass("swipeout-overswipe")&&F.css({left:(x?D:0)+"px"}),s.length>1&&F.css("z-index",s.length-C),F.transform("translate3d("+(p+D*(1-Math.min(E,1)))+"px,0,0)");k.transform("translate3d("+p+"px,0,0)")}}function D(){var f,g,r,v,w,B,C,D,E;if(!b||!d)return b=!1,d=!1,void 0;if(b=!1,d=!1,f=(new Date).getTime()-h,C="to-left"===u?A:z,v="to-left"===u?l:m,r="to-left"===u?o:n,g=300>f&&(-10>i&&"to-left"===u||i>10&&"to-right"===u)||f>=300&&Math.abs(p)>r/2?"open":"close",300>f&&(0===Math.abs(p)&&(g="close"),Math.abs(p)===r&&(g="open")),"open"===g){if(c.swipeoutOpenedEl=j,j.trigger("open"),j.addClass("swipeout-opened transitioning"),D="to-left"===u?-r:r,k.transform("translate3d("+D+"px,0,0)"),v.addClass("swipeout-actions-opened"),w="to-left"===u?t:s)for(B=0;B<w.length;B++)e(w[B]).transform("translate3d("+D+"px,0,0)");y&&l.find(".swipeout-overswipe")[0].click(),x&&m.find(".swipeout-overswipe")[0].click()}else j.trigger("close"),c.swipeoutOpenedEl=void 0,j.addClass("transitioning").removeClass("swipeout-opened"),k.transform(""),v.removeClass("swipeout-actions-opened");if(s&&s.length>0&&s!==w)for(B=0;B<s.length;B++)E=s[B]._buttonOffset,"undefined"==typeof E&&(s[B]._buttonOffset=n-s[B].offsetLeft-s[B].offsetWidth),e(s[B]).transform("translate3d("+E+"px,0,0)");if(t&&t.length>0&&t!==w)for(B=0;B<t.length;B++)E=t[B]._buttonOffset,"undefined"==typeof E&&(t[B]._buttonOffset=t[B].offsetLeft),e(t[B]).transform("translate3d("+-E+"px,0,0)");k.transitionEnd(function(){q&&"open"===g||closed&&"close"===g||(j.trigger("open"===g?"opened":"closed"),q&&"close"===g&&(l.length>0&&t.transform(""),m.length>0&&s.transform("")))})}var b,d,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,g={};e(document).on(c.touchEvents.start,function(a){if(c.swipeoutOpenedEl){var b=e(a.target);c.swipeoutOpenedEl.is(b[0])||b.parents(".swipeout").is(c.swipeoutOpenedEl)||b.hasClass("modal-in")||b.parents(".modal.modal-in").length>0||b.hasClass("modal-overlay")||c.swipeoutClose(c.swipeoutOpenedEl)}}),a?(e(a).on(c.touchEvents.start,B),e(a).on(c.touchEvents.move,C),e(a).on(c.touchEvents.end,D)):(e(document).on(c.touchEvents.start,".list-block li.swipeout",B),e(document).on(c.touchEvents.move,".list-block li.swipeout",C),e(document).on(c.touchEvents.end,".list-block li.swipeout",D))},c.swipeoutOpen=function(a,b,d){var f,h,i,j,k;if(a=e(a),2===arguments.length&&"function"==typeof arguments[1]&&(d=b),0!==a.length&&(a.length>1&&(a=e(a[0])),a.hasClass("swipeout")&&!a.hasClass("swipeout-opened")&&(b||(b=a.find(".swipeout-actions-right").length>0?"right":"left"),f=a.find(".swipeout-actions-"+b),0!==f.length))){if(f.hasClass("swipeout-actions-no-fold")||c.params.swipeoutActionsNoFold,a.trigger("open").addClass("swipeout-opened").removeClass("transitioning"),f.addClass("swipeout-actions-opened"),h=f.children("a"),i=f.outerWidth(),j="right"===b?-i:i,h.length>1){for(k=0;k<h.length;k++)"right"===b?e(h[k]).transform("translate3d("+-h[k].offsetLeft+"px,0,0)"):e(h[k]).css("z-index",h.length-k).transform("translate3d("+(i-h[k].offsetWidth-h[k].offsetLeft)+"px,0,0)");h[1].clientLeft}for(a.addClass("transitioning"),k=0;k<h.length;k++)e(h[k]).transform("translate3d("+j+"px,0,0)");a.find(".swipeout-content").transform("translate3d("+j+"px,0,0)").transitionEnd(function(){a.trigger("opened"),d&&d.call(a[0])}),c.swipeoutOpenedEl=a}},c.swipeoutClose=function(a,b){var d,f,h,i,j;if(a=e(a),0!==a.length&&a.hasClass("swipeout-opened")){for(d=a.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",f=a.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),f.hasClass("swipeout-actions-no-fold")||c.params.swipeoutActionsNoFold,h=f.children("a"),i=f.outerWidth(),c.allowSwipeout=!1,a.trigger("close"),a.removeClass("swipeout-opened").addClass("transitioning"),a.find(".swipeout-content").transform("translate3d(0px,0,0)").transitionEnd(function(){c.allowSwipeout=!0,h.transform(""),a.trigger("closed"),b&&b.call(a[0])}),j=0;j<h.length;j++)"right"===d?e(h[j]).transform("translate3d("+-h[j].offsetLeft+"px,0,0)"):e(h[j]).transform("translate3d("+(i-h[j].offsetWidth-h[j].offsetLeft)+"px,0,0)"),e(h[j]).css({left:"0px"});c.swipeoutOpenedEl&&c.swipeoutOpenedEl[0]===a[0]&&(c.swipeoutOpenedEl=void 0)}},c.swipeoutDelete=function(a,b){if(a=e(a),0!==a.length){a.length>1&&(a=e(a[0])),c.swipeoutOpenedEl=void 0,a.trigger("delete"),a.css({height:a.outerHeight()+"px"}),a[0].clientLeft,a.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){var c,d;a.trigger("deleted"),b&&b.call(a[0]),a.parents(".virtual-list").length>0?(c=a.parents(".virtual-list")[0].f7VirtualList,d=a[0].f7VirtualListIndex,c&&"undefined"!=typeof d&&c.deleteItem(d)):a.remove()});var f="-100%";a.find(".swipeout-content").transform("translate3d("+f+",0,0)")}},c.sortableToggle=function(a){return a=e(a),0===a.length&&(a=e(".list-block.sortable")),a.toggleClass("sortable-opened"),a.hasClass("sortable-opened")?a.trigger("open"):a.trigger("close"),a},c.sortableOpen=function(a){return a=e(a),0===a.length&&(a=e(".list-block.sortable")),a.addClass("sortable-opened"),a.trigger("open"),a},c.sortableClose=function(a){return a=e(a),0===a.length&&(a=e(".list-block.sortable")),a.removeClass("sortable-opened"),a.trigger("close"),a},c.initSortable=function(){function o(f){b=!1,a=!0,d="touchstart"===f.type?f.targetTouches[0].pageY:f.pageY,g=e(this).parent(),i=g.parent().find("li"),n=g.parents(".sortable"),f.preventDefault(),c.allowPanelOpen=c.allowSwipeout=!1,c.getScroller().disable()}function p(c){var p,q;a&&g&&("touchmove"===c.type?c.targetTouches[0].pageX:c.pageX,p="touchmove"===c.type?c.targetTouches[0].pageY:c.pageY,b||(g.addClass("sorting"),n.addClass("sortable-sorting"),j=g[0].offsetTop,k=g.parent().height()-g[0].offsetTop-g.height(),h=g[0].offsetHeight),b=!0,c.preventDefault(),c.f7PreventPanelSwipe=!0,f=p-d,q=f,-j>q&&(q=-j),q>k&&(q=k),g.transform("translate3d(0,"+q+"px,0)"),m=l=void 0,i.each(function(){var b,c,d,a=e(this);a[0]!==g[0]&&(b=a[0].offsetTop,c=a.height(),d=g[0].offsetTop+q,d>=b-c/2&&g.index()<a.index()?(a.transform("translate3d(0, "+-h+"px,0)"),l=a,m=void 0):b+c/2>=d&&g.index()>a.index()?(a.transform("translate3d(0, "+h+"px,0)"),l=void 0,m||(m=a)):e(this).transform("translate3d(0, 0%,0)"))}))}function q(d){if(c.allowPanelOpen=c.allowSwipeout=!0,!a||!b)return a=!1,b=!1,void 0;d.preventDefault(),i.transform(""),g.removeClass("sorting"),n.removeClass("sortable-sorting");var e,f,h;l&&(g.insertAfter(l),g.trigger("sort")),m&&(g.insertBefore(m),g.trigger("sort")),(l||m)&&n.hasClass("virtual-list")&&(e=n[0].f7VirtualList,f=g[0].f7VirtualListIndex,h=m?m[0].f7VirtualListIndex:l[0].f7VirtualListIndex,e&&e.moveItem(f,h)),l=m=void 0,a=!1,b=!1,c.getScroller().enable()}var a,b,d,f,g,h,i,j,k,l,m,n;e(document).on(c.touchEvents.start,".list-block.sortable .sortable-handler",o),c.support.touch?(e(document).on(c.touchEvents.move,".list-block.sortable .sortable-handler",p),e(document).on(c.touchEvents.end,".list-block.sortable .sortable-handler",q)):(e(document).on(c.touchEvents.move,p),e(document).on(c.touchEvents.end,q))},c.initSmartSelects=function(a){var c,b=e(a);0!==b.length&&(c=b.is(".smart-select")?b:b.find(".smart-select"),0!==c.length&&c.each(function(){var c,d,f,g,h,a=e(this),b=a.find("select");if(0!==b.length&&(c=b[0],0!==c.length)){for(d=[],f=0;f<c.length;f++)c[f].selected&&d.push(c[f].textContent.trim());if(g=a.find(".item-after"),0===g.length)a.find(".item-inner").append('<div class="item-after">'+d.join(", ")+"</div>");else if(h=g.text(),g.hasClass("smart-select-value"))for(f=0;f<c.length;f++)c[f].selected=c[f].textContent.trim()===h.trim();else g.text(d.join(", "))}}))},c.smartSelectAddOption=function(a,b,d){var f,g,h;a=e(a),f=a.parents(".smart-select"),"undefined"==typeof d?a.append(b):e(b).insertBefore(a.find("option").eq(d)),c.initSmartSelects(f),g=f.find("select").attr("name"),h=e('.page.smart-select-page[data-select-name="'+g+'"]').length>0,h&&c.smartSelectOpen(f,!0)},c.smartSelectOpen=function(a,b){function Z(b){if(o){var f=c.virtualList(e(b).find(".virtual-list"),{items:t,template:L,height:p||void 0,searchByItem:function(a,b,c){return c.text.toLowerCase().indexOf(a.trim().toLowerCase())>=0?!0:!1}});e(b).once("popup"===g?"closed":"pageBeforeRemove",function(){f&&f.destroy&&f.destroy()})}e(b).on("change",'input[name="'+w+'"]',function(){var i,j,b=this,e=b.value,f=[];if("checkbox"===b.type)for(i=0;i<q.options.length;i++)j=q.options[i],j.value===e&&(j.selected=b.checked),j.selected&&f.push(j.textContent.trim());else f=[a.find('option[value="'+e+'"]').text()],q.value=e;r.trigger("change"),a.find(".item-after").text(f.join(", ")),l&&"radio"===v&&("popup"===g?c.closeModal(Y):d.router.back())})}function $(a){var b=a.detail.page;b.name===S&&Z(b.container)}var d,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,F,G,H,I,J,K,L,M,N,O,R,P,Q,S,T,U,V,W,X,Y;if(a=e(a),0!==a.length&&(d=a.parents("."+c.params.viewClass),0!==d.length&&(d=d[0].f7View,d&&(g=a.attr("data-open-in"),g||(g=c.params.smartSelectInPopup?"popup":"page"),h=a.dataset(),i=h.pageTitle||a.find(".item-title").text(),j=h.backText||c.params.smartSelectBackText,k=h.popupCloseText||h.backText||c.params.smartSelectPopupCloseText,l=void 0!==h.backOnSelect?h.backOnSelect:c.params.smartSelectBackOnSelect,m=h.formTheme||c.params.smartSelectFormTheme,n=h.navbarTheme||c.params.smartSelectNavbarTheme,o=h.virtualList,p=h.virtualListHeight,q=a.find("select")[0],r=e(q),s=r.dataset(),!(q.disabled||a.hasClass("disabled")||r.hasClass("disabled")))))){for(t=[],u=(new Date).getTime(),v=q.multiple?"checkbox":"radio",w=v+"-"+u,x=q.name,K=0;K<q.length;K++)y=e(q[K]),y[0].disabled||(J=y.dataset(),A=J.optionImage||s.optionImage,B=J.optionIcon||s.optionIcon,z=A||B||"checkbox"===v,H=J.optionColor,I=J.optionClass,C=y.parent("optgroup")[0],D=C&&C.label,F=!1,C&&C!==G&&(F=!0,G=C),t.push({value:y[0].value,text:y[0].textContent.trim(),selected:y[0].selected,group:C,groupLabel:D,showGroupLabel:F,image:A,icon:B,color:H,className:I,disabled:y[0].disabled,inputType:v,id:u,hasMedia:z,checkbox:"checkbox"===v,inputName:w,test:this}));if(c._compiledTemplates.smartSelectItem||(c._compiledTemplates.smartSelectItem=f.compile(c.params.smartSelectItemTemplate||'{{#if showGroupLabel}}<li class="item-divider">{{groupLabel}}</li>{{/if}}<li{{#if className}} class="{{className}}"{{/if}}><label class="label-{{inputType}} item-content"><input type="{{inputType}}" name="{{inputName}}" value="{{value}}" {{#if selected}}checked{{/if}}>{{#if hasMedia}}<div class="item-media">{{#if checkbox}}<i class="icon icon-form-checkbox"></i>{{/if}}{{#if icon}}<i class="icon {{icon}}"></i>{{/if}}{{#if image}}<img src="{{image}}">{{/if}}</div>{{/if}}<div class="item-inner"><div class="item-title{{#if color}} color-{{color}}{{/if}}">{{text}}</div></div></label></li>')),L=c._compiledTemplates.smartSelectItem,M="",!o)for(N=0;N<t.length;N++)M+=L(t[N]);c._compiledTemplates.smartSelectNavbar||(c._compiledTemplates.smartSelectNavbar=f.compile(c.params.smartSelectNavbarTemplate||'<div class="navbar {{#if navbarTheme}}theme-{{navbarTheme}}{{/if}}"><div class="navbar-inner">{{leftTemplate}}<div class="center sliding">{{pageTitle}}</div></div></div>')),O=c._compiledTemplates.smartSelectNavbar({pageTitle:i,backText:j,closeText:k,openIn:g,navbarTheme:n,inPopup:"popup"===g,inPage:"page"===g,leftTemplate:"popup"===g?c.params.smartSelectPopupCloseTemplate.replace(/{{closeText}}/g,k):c.params.smartSelectBackTemplate.replace(/{{backText}}/g,j)}),P="",Q="","page"===g?(R="static",a.parents(".navbar-through").length>0&&(R="through"),a.parents(".navbar-fixed").length>0&&(R="fixed"),Q=a.parents(".page").hasClass("no-toolbar")?"no-toolbar":"",P=a.parents(".page").hasClass("no-navbar")?"no-navbar":"navbar-"+R):R="fixed",S="smart-select-"+w,T="undefined"==typeof a.data("searchbar")?c.params.smartSelectSearchbar:"true"===a.data("searchbar")?!0:!1,T&&(U=a.data("searchbar-placeholder")||"Search",V=a.data("searchbar-cancel")||"Cancel"),W='<form class="searchbar searchbar-init" data-search-list=".smart-select-list-'+u+'" data-search-in=".item-title">'+'<div class="searchbar-input">'+'<input type="search" placeholder="'+U+'">'+'<a href="#" class="searchbar-clear"></a>'+"</div>"+'<a href="#" class="searchbar-cancel">'+V+"</a>"+"</form>"+'<div class="searchbar-overlay"></div>',X=("through"===R?O:"")+'<div class="pages">'+'  <div data-page="'+S+'" data-select-name="'+x+'" class="page smart-select-page '+P+" "+Q+'">'+("fixed"===R?O:"")+(T?W:"")+'    <div class="page-content">'+("static"===R?O:"")+'      <div class="list-block '+(o?"virtual-list":"")+" smart-select-list-"+u+" "+(m?"theme-"+m:"")+'">'+"        <ul>"+(o?"":M)+"        </ul>"+"      </div>"+"    </div>"+"  </div>"+"</div>","popup"===g?(b?(Y=e(".popup.smart-select-popup .view"),Y.html(X)):(Y=c.popup('<div class="popup smart-select-popup smart-select-popup-'+w+'">'+'<div class="view navbar-fixed">'+X+"</div>"+"</div>"),Y=e(Y)),c.initPage(Y.find(".page")),Z(Y)):(e(document).once("pageInit",".smart-select-page",$),d.router.load({content:X,reload:b?!0:void 0}))}},v=function(a,b){var g,h,i,j,k,l,m,n,o,q,p,r,d={cols:1,height:44,cache:!0,dynamicHeightBufferSize:1};b=b||{};for(g in d)"undefined"==typeof b[g]&&(b[g]=d[g]);return h=this,h.listBlock=e(a),h.params=b,h.items=b.items,b.template&&("string"==typeof b.template?h.template=f.compile(b.template):"function"==typeof b.template&&(h.template=b.template)),h.pageContent=h.listBlock.parents(".page-content"),i=c.getScroller(h.pageContent),"undefined"!=typeof h.params.updatableScroll?j=h.params.updatableScroll:(j=!0,c.device.ios&&c.device.osVersion.split(".")[0]<8&&(j=!1)),h.ul=h.params.ul?e(h.params.ul):h.listBlock.children("ul"),0===h.ul.length&&(h.listBlock.append("<ul></ul>"),h.ul=h.listBlock.children("ul")),h.domCache={},h.displayDomCache={},h.tempDomElement=document.createElement("ul"),h.lastRepaintY=null,h.fragment=document.createDocumentFragment(),h.filterItems=function(a,b){h.filteredItems=[],a[0],a[a.length-1];for(var e=0;e<a.length;e++)h.filteredItems.push(h.items[a[e]]);"undefined"==typeof b&&(b=!0),b&&(h.pageContent[0].scrollTop=0),h.update()},h.resetFilter=function(){h.filteredItems=null,delete h.filteredItems,h.update()},p=0,r="function"==typeof h.params.height,h.setListSize=function(){var b,c,a=h.filteredItems||h.items;if(k=h.pageContent[0].offsetHeight,r)for(q=0,h.heights=[],b=0;b<a.length;b++)c=h.params.height(a[b]),q+=c,h.heights.push(c);else q=a.length*h.params.height/h.params.cols,l=Math.ceil(k/h.params.height),m=h.params.rowsBefore||2*l,n=h.params.rowsAfter||l,o=l+m+n,p=m/2*h.params.height;j&&h.ul.css({height:q+"px"})},h.render=function(a,b){var d,f,g,e,l,n,s,t,q,u,v,w,x;if(a&&(h.lastRepaintY=null),d=-(h.listBlock[0].getBoundingClientRect().top+h.pageContent[0].getBoundingClientRect().top),"undefined"!=typeof b&&(d=b),null===h.lastRepaintY||Math.abs(d-h.lastRepaintY)>p||!j&&i.scrollTop()+k>=i.scrollHeight()){if(h.lastRepaintY=d,e=h.filteredItems||h.items,l=0,n=0,r){for(q=0,p=k,s=0;s<h.heights.length;s++)t=h.heights[s],"undefined"==typeof f&&(q+t>=d-2*k*h.params.dynamicHeightBufferSize?f=s:l+=t),"undefined"==typeof g&&((q+t>=d+2*k*h.params.dynamicHeightBufferSize||s===h.heights.length-1)&&(g=s+1),n+=t),q+=t;g=Math.min(g,e.length)}else f=(parseInt(d/h.params.height)-m)*h.params.cols,0>f&&(f=0),g=Math.min(f+o*h.params.cols,e.length);for(h.reachEnd=!1,v=f;g>v;v++)x=h.items.indexOf(e[v]),v===f&&(h.currentFromIndex=x),v===g-1&&(h.currentToIndex=x),x===h.items.length-1&&(h.reachEnd=!0),h.domCache[x]?w=h.domCache[x]:(h.tempDomElement.innerHTML=h.template?h.template(e[v],{index:x}):h.params.renderItem?h.params.renderItem(x,e[v]):e[v],w=h.tempDomElement.childNodes[0],h.params.cache&&(h.domCache[x]=w)),w.f7VirtualListIndex=x,v===f&&(u=r?l:v*h.params.height/h.params.cols),w.style.top=u+"px",h.params.onItemBeforeInsert&&h.params.onItemBeforeInsert(h,w),h.fragment.appendChild(w);j||(h.ul[0].style.height=r?n+"px":v*h.params.height/h.params.cols+"px"),h.params.onBeforeClear&&h.params.onBeforeClear(h,h.fragment),h.ul[0].innerHTML="",h.params.onItemsBeforeInsert&&h.params.onItemsBeforeInsert(h,h.fragment),h.ul[0].appendChild(h.fragment),h.params.onItemsAfterInsert&&h.params.onFragmentAfterInsert(h,h.fragment),c.getScroller().refresh(),"undefined"!=typeof b&&a&&h.pageContent.scrollTop(b,0)}},h.scrollToItem=function(a){var c,b,d;if(a>h.items.length)return!1;if(b=0,r)for(d=0;a>d;d++)b+=h.heights[d];else b=a*h.params.height;return c=h.listBlock[0].offsetTop,h.render(!0,c+b-parseInt(h.pageContent.css("padding-top"),10)),!0},h.handleScroll=function(){h.render()},h.handleResize=function(){h.setListSize(),h.render(!0)},h.attachEvents=function(a){var b=a?"off":"on";c.getScroller()[b]("scroll",h.handleScroll),e(window)[b]("resize",h.handleResize)},h.init=function(){h.attachEvents(),h.setListSize(),h.render()},h.appendItems=function(a){for(var b=0;b<a.length;b++)h.items.push(a[b]);h.update()},h.appendItem=function(a){h.appendItems([a])},h.replaceAllItems=function(a){h.items=a,delete h.filteredItems,h.domCache={},h.update()},h.replaceItem=function(a,b){h.items[a]=b,h.params.cache&&delete h.domCache[a],h.update()},h.prependItems=function(a){var b,c,d;for(b=a.length-1;b>=0;b--)h.items.unshift(a[b]);if(h.params.cache){c={};for(d in h.domCache)c[parseInt(d,10)+a.length]=h.domCache[d];h.domCache=c}h.update()},h.prependItem=function(a){h.prependItems([a])},h.moveItem=function(a,b){var c,d,e,f,g,i,j;if(a!==b){if(c=h.items.splice(a,1)[0],b>=h.items.length?(h.items.push(c),b=h.items.length-1):h.items.splice(b,0,c),h.params.cache){d={};for(e in h.domCache)f=parseInt(e,10),g=b>a?a:b,i=b>a?b:a,j=b>a?-1:1,(g>f||f>i)&&(d[f]=h.domCache[f]),f===g&&(d[i]=h.domCache[f]),f>g&&i>=f&&(d[f+j]=h.domCache[f]);h.domCache=d}h.update()}},h.insertItemBefore=function(a,b){var c,d,e;if(0===a)return h.prependItem(b),void 0;if(a>=h.items.length)return h.appendItem(b),void 0;if(h.items.splice(a,0,b),h.params.cache){c={};for(d in h.domCache)e=parseInt(d,10),e>=a&&(c[e+1]=h.domCache[e]);h.domCache=c}h.update()},h.deleteItems=function(a){var b,d,e,f,g,i,j,c=0;for(d=0;d<a.length;d++)if(e=a[d],"undefined"!=typeof b&&e>b&&(c=-d),e+=c,b=a[d],f=h.items.splice(e,1)[0],h.filteredItems&&h.filteredItems.indexOf(f)>=0&&h.filteredItems.splice(h.filteredItems.indexOf(f),1),h.params.cache){g={};for(i in h.domCache)j=parseInt(i,10),j===e?delete h.domCache[e]:parseInt(i,10)>e?g[j-1]=h.domCache[i]:g[j]=h.domCache[i];h.domCache=g}h.update()},h.deleteAllItems=function(){h.items=[],delete h.filteredItems,h.params.cache&&(h.domCache={}),h.update()},h.deleteItem=function(a){h.deleteItems([a])},h.clearCache=function(){h.domCache={}},h.update=function(){h.setListSize(),h.render(!0)},h.destroy=function(){h.attachEvents(!0),delete h.items,delete h.domCache},h.init(),h.listBlock[0].f7VirtualList=h,h},c.virtualList=function(a,b){return new v(a,b)},c.reinitVirtualList=function(a){var d,f,b=e(a),c=b.find(".virtual-list");if(0!==c.length)for(d=0;d<c.length;d++)f=c[d].f7VirtualList,f&&f.update()},c.initPullToRefresh=function(a){function w(a){if(d){if("android"!==c.device.os)return;if("targetTouches"in a&&a.targetTouches.length>1)return}f=!1,d=!0,h=void 0,q=void 0,g.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,g.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,j=(new Date).getTime(),k=e(this)}function x(a){var b,e;if(d){if(b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,e="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,"undefined"==typeof h&&(h=!!(h||Math.abs(e-g.y)>Math.abs(b-g.x))),!h)return d=!1,void 0;if(p=k[0].scrollTop,"undefined"==typeof q&&0!==p&&(q=!0),!f){if(k.removeClass("transitioning"),p>k[0].offsetHeight)return d=!1,void 0;t&&(s=k.attr("data-ptr-distance"),s.indexOf("%")>=0&&(s=k[0].offsetHeight*parseInt(s,10)/100)),n=k.hasClass("refreshing")?s:0,m=k[0].scrollHeight===k[0].offsetHeight||"ios"!==c.device.os?!0:!1,m=!0}return f=!0,i=e-g.y,i>0&&0>=p||0>p?("ios"===c.device.os&&parseInt(c.device.osVersion.split(".")[0],10)>7&&0===p&&!q&&(m=!0),m&&(a.preventDefault(),o=Math.pow(i,.85)+n,k.transform("translate3d(0,"+o+"px,0)")),m&&Math.pow(i,.85)>s||!m&&i>=2*s?(l=!0,k.addClass("pull-up").removeClass("pull-down")):(l=!1,k.removeClass("pull-up").addClass("pull-down")),void 0):(k.removeClass("pull-up pull-down"),l=!1,void 0)}}function y(){return d&&f?(o&&(k.addClass("transitioning"),o=0),k.transform(""),l?(k.addClass("refreshing"),k.trigger("refresh",{done:function(){c.pullToRefreshDone(k)}})):k.removeClass("pull-down"),d=!1,f=!1,void 0):(d=!1,f=!1,void 0)}function z(){b.off(c.touchEvents.start,w),b.off(c.touchEvents.move,x),b.off(c.touchEvents.end,y)}function A(){z(),u.off("pageBeforeRemove",A)}var d,f,h,i,j,k,o,p,q,s,t,g,l,m,n,u,v,b=e(a);b.hasClass("pull-to-refresh-content")||(b=b.find(".pull-to-refresh-content")),b&&0!==b.length&&(g={},l=!1,m=!1,n=0,u=b.hasClass("page")?b:b.parents(".page"),v=!1,(u.find(".navbar").length>0||u.parents(".navbar-fixed, .navbar-through").length>0||u.hasClass("navbar-fixed")||u.hasClass("navbar-through"))&&(v=!0),u.hasClass("no-navbar")&&(v=!1),v||b.addClass("pull-to-refresh-no-navbar"),k=b,k.attr("data-ptr-distance")?t=!0:s=44,b.on(c.touchEvents.start,w),b.on(c.touchEvents.move,x),b.on(c.touchEvents.end,y),0!==u.length&&(b[0].f7DestroyPullToRefresh=z,u.on("pageBeforeRemove",A)))},c.pullToRefreshDone=function(a){a=e(a),0===a.length&&(a=e(".pull-to-refresh-content.refreshing")),a.removeClass("refreshing").addClass("transitioning"),a.transitionEnd(function(){a.removeClass("transitioning pull-up pull-down")})},c.pullToRefreshTrigger=function(a){a=e(a),0===a.length&&(a=e(".pull-to-refresh-content")),a.hasClass("refreshing")||(a.addClass("transitioning refreshing"),a.trigger("refresh",{done:function(){c.pullToRefreshDone(a)}}))},c.destroyPullToRefresh=function(a){a=e(a);var b=a.hasClass("pull-to-refresh-content")?a:a.find(".pull-to-refresh-content");0!==b.length&&b[0].f7DestroyPullToRefresh&&b[0].f7DestroyPullToRefresh()},w=0,c.initPullToRefreshJS=function(a){function i(){h.hasClass("refreshing")||(-1*f.scrollTop()>=44?h.removeClass("pull-down").addClass("pull-up"):h.removeClass("pull-up").addClass("pull-down"))}function j(){h.hasClass("refreshing")||(h.removeClass("pull-down pull-up"),h.addClass("refreshing"),h.trigger("refresh",{done:function(){c.pullToRefreshDone(h)}}),w=+new Date)}function k(){f.off("scroll",i),f.scroller.off("ptr",j)}function l(){k(),d.off("pageBeforeRemove",l)}var d,f,g,h,b=e(a);b.hasClass("pull-to-refresh-content")||(b=b.find(".pull-to-refresh-content")),b&&0!==b.length&&(d=b.hasClass("page")?b:b.parents(".page"),f=c.getScroller(d.find(".page-content")[0]),g=!1,(d.find(".navbar").length>0||d.parents(".navbar-fixed, .navbar-through").length>0||d.hasClass("navbar-fixed")||d.hasClass("navbar-through"))&&(g=!0),d.hasClass("no-navbar")&&(g=!1),g||b.addClass("pull-to-refresh-no-navbar"),h=b,f.on("scroll",i),f.scroller.on("ptr",j),b[0].f7DestroyPullToRefresh=k,0!==d.length&&d.on("pageBeforeRemove",l))},c.pullToRefreshDoneJS=function(a){var b,d,f;a=e(a),0===a.length&&(a=e(".pull-to-refresh-content.refreshing")),0!==a.length&&(b=+new Date-w,d=b>1e3?0:1e3-b,f=c.getScroller(a),setTimeout(function(){f.refresh(),a.removeClass("refreshing")},d))},c.pullToRefreshTriggerJS=function(a){if(a=e(a),0===a.length&&(a=e(".pull-to-refresh-content")),!a.hasClass("refreshing")){a.addClass("refreshing");var b=c.getScroller(a);b.scrollTop(45,200),a.trigger("refresh",{done:function(){c.pullToRefreshDone(a)}})}},c.destroyPullToRefreshJS=function(a){a=e(a);var b=a.hasClass("pull-to-refresh-content")?a:a.find(".pull-to-refresh-content");0!==b.length&&b[0].f7DestroyPullToRefresh&&b[0].f7DestroyPullToRefresh()},c.attachInfiniteScroll=function(a){c.getScroller(a).on("scroll",x)},c.detachInfiniteScroll=function(a){c.getScroller(a).off("scroll",x)},c.initInfiniteScroll=function(a){function d(){c.detachInfiniteScroll(b),a.off("pageBeforeRemove",d)}a=e(a);var b=a.find(".infinite-scroll");0!==b.length&&(c.attachInfiniteScroll(b),a.on("pageBeforeRemove",d))},c.initScrollToolbars=function(a){function B(){a.hasClass("page-on-left")||(q=d.scrollTop(),r=d.scrollHeight(),s=b[0].offsetHeight,t=c.params.showBarsOnPageScrollEnd&&q+s>=r-A,v=j.hasClass("navbar-hidden"),w=k.hasClass("toolbar-hidden"),x=l&&l.hasClass("toolbar-hidden"),u=p>q||t?"show":q>44?"hide":"show","show"===u?(m&&f&&v&&(c.showNavbar(j),a.removeClass("no-navbar-by-scroll"),v=!1),n&&g&&w&&(c.showToolbar(k),a.removeClass("no-toolbar-by-scroll"),w=!1),o&&h&&x&&(c.showToolbar(l),a.removeClass("no-tabbar-by-scroll"),x=!1)):(m&&f&&!v&&(c.hideNavbar(j),a.addClass("no-navbar-by-scroll"),v=!0),n&&g&&!w&&(c.hideToolbar(k),a.addClass("no-toolbar-by-scroll"),w=!0),o&&h&&!x&&(c.hideToolbar(l),a.addClass("no-tabbar-by-scroll"),x=!0)),p=q)}var b,d,f,g,h,i,l,j,k,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;a=e(a),b=a.find(".page-content"),0!==b.length&&(d=c.getScroller(b),f=(c.params.hideNavbarOnPageScroll||b.hasClass("hide-navbar-on-scroll")||b.hasClass("hide-bars-on-scroll"))&&!(b.hasClass("keep-navbar-on-scroll")||b.hasClass("keep-bars-on-scroll")),g=(c.params.hideToolbarOnPageScroll||b.hasClass("hide-toolbar-on-scroll")||b.hasClass("hide-bars-on-scroll"))&&!(b.hasClass("keep-toolbar-on-scroll")||b.hasClass("keep-bars-on-scroll")),h=(c.params.hideTabbarOnPageScroll||b.hasClass("hide-tabbar-on-scroll"))&&!b.hasClass("keep-tabbar-on-scroll"),(f||g||h)&&(i=b.parents("."+c.params.viewClass),0!==i.length&&(j=i.find(".navbar"),k=i.find(".toolbar"),h&&(l=i.find(".tabbar"),0===l.length&&(l=i.parents("."+c.params.viewsClass).find(".tabbar"))),m=j.length>0,n=k.length>0,o=l&&l.length>0,p=q=b[0].scrollTop,y=n&&g?k[0].offsetHeight:0,z=o&&h?l[0].offsetHeight:0,A=z||y,d.on("scroll",B),b[0].f7ScrollToolbarsHandler=B)))
},c.destroyScrollToolbars=function(a){var b,d,f;a=e(a),b=a.find(".page-content"),0!==b.length&&(d=b[0].f7ScrollToolbarsHandler,d&&(f=c.getScroller(b),f.off("scroll",b[0].f7ScrollToolbarsHandler)))},c.showTab=function(a,b,d){var g,h,i,j,k,l,f=e(a);return 2===arguments.length&&"boolean"==typeof b&&(d=b),0===f.length?!1:f.hasClass("active")?(d&&f.trigger("show"),!1):(g=f.parent(".tabs"),0===g.length?!1:(c.allowSwipeout=!0,h=g.parent().hasClass("tabs-animated-wrap"),h&&g.transform("translate3d("+100*-f.index()+"%,0,0)"),i=g.children(".tab.active").removeClass("active"),f.addClass("active"),f.trigger("show"),!h&&f.find(".navbar").length>0&&(j=f.hasClass(c.params.viewClass)?f[0]:f.parents("."+c.params.viewClass)[0],c.sizeNavbars(j)),b?b=e(b):(b="string"==typeof a?e('.tab-link[href="'+a+'"]'):e('.tab-link[href="#'+f.attr("id")+'"]'),(!b||b&&0===b.length)&&e("[data-tab]").each(function(){f.is(e(this).attr("data-tab"))&&(b=e(this))})),0!==b.length?(i&&i.length>0&&(l=i.attr("id"),l&&(k=e('.tab-link[href="#'+l+'"]')),(!k||k&&0===k.length)&&e("[data-tab]").each(function(){i.is(e(this).attr("data-tab"))&&(k=e(this))})),b&&b.length>0&&b.addClass("active"),k&&k.length>0&&k.removeClass("active"),c.refreshScroller(),!0):void 0))},c.accordionToggle=function(a){a=e(a),0!==a.length&&(a.hasClass("accordion-item-expanded")?c.accordionClose(a):c.accordionOpen(a))},c.accordionOpen=function(a){var b,d,f;a=e(a),b=a.parents(".accordion-list").eq(0),d=a.children(".accordion-item-content"),0===d.length&&(d=a.find(".accordion-item-content")),f=b.length>0&&a.parent().children(".accordion-item-expanded"),f.length>0&&c.accordionClose(f),d.css("height",d[0].scrollHeight+"px").transitionEnd(function(){a.hasClass("accordion-item-expanded")?(d.transition(0),d.css("height","auto"),d[0].clientLeft,d.transition(""),a.trigger("opened")):(d.css("height",""),a.trigger("closed"))}),setTimeout(function(){c.refreshScroller()},500),a.trigger("open"),a.addClass("accordion-item-expanded")},c.accordionClose=function(a){a=e(a);var b=a.children(".accordion-item-content");0===b.length&&(b=a.find(".accordion-item-content")),a.removeClass("accordion-item-expanded"),b.transition(0),b.css("height",b[0].scrollHeight+"px"),b[0].clientLeft,b.transition(""),b.css("height","").transitionEnd(function(){a.hasClass("accordion-item-expanded")?(b.transition(0),b.css("height","auto"),b[0].clientLeft,b.transition(""),a.trigger("opened")):(b.css("height",""),a.trigger("closed"))}),setTimeout(function(){c.refreshScroller()},500),a.trigger("close")},c.initFastClicks=function(){function o(a){var f,b=e(a.target),d=b.parents(c.params.activeStateElements);return b.is(c.params.activeStateElements)&&(f=b),d.length>0&&(f=f?f.add(d):d),f?f:b}function p(){var a=l.parents(".page-content, .panel");return 0===a.length?!1:("yes"!==a.prop("scrollHandlerSet")&&(a.on("scroll",function(){clearTimeout(m)}),a.prop("scrollHandlerSet","yes")),!0)}function q(){l.addClass("active-state")}function r(){l.removeClass("active-state")}function s(a){var b="button checkbox file image radio submit input textarea".split(" ");return document.activeElement&&a!==document.activeElement&&document.activeElement!==document.body?b.indexOf(a.nodeName.toLowerCase())>=0?!1:!0:!1}function t(a){var b=e(a);return"input"===a.nodeName.toLowerCase()&&"file"===a.type?!1:b.hasClass("no-fastclick")||b.parents(".no-fastclick").length>0?!1:!0}function u(a){var b,d;return document.activeElement===a?!1:(b=a.nodeName.toLowerCase(),d="button checkbox file image radio submit".split(" "),a.disabled||a.readOnly?!1:"textarea"===b?!0:"select"===b?c.device.android?!1:!0:"input"===b&&d.indexOf(a.type)<0?!0:void 0)}function v(a){a=e(a);var b=!0;return(a.is("label")||a.parents("label").length>0)&&(b=c.device.android?!1:c.device.ios&&a.is("input")?!0:!1),b}function w(a){o(a).addClass("active-state"),"which"in a&&3===a.which&&setTimeout(function(){e(".active-state").removeClass("active-state")},0)}function x(){e(".active-state").removeClass("active-state")}function y(){e(".active-state").removeClass("active-state")}function z(r){if(k=!1,r.targetTouches.length>1)return!0;if(n=t(r.target),!n)return g=!1,!0;if(c.device.ios){var u=window.getSelection();if(u.rangeCount&&u.focusNode!==document.body&&(!u.isCollapsed||document.activeElement===u.focusNode))return h=!0,!0;h=!1}c.device.android&&s(r.target)&&document.activeElement.blur(),g=!0,f=r.target,d=(new Date).getTime(),a=r.targetTouches[0].pageX,b=r.targetTouches[0].pageY,c.device.ios&&(i=void 0,e(f).parents().each(function(){var a=this;a.scrollHeight>a.offsetHeight&&!i&&(i=a,i.f7ScrollTop=i.scrollTop)})),r.timeStamp-j<c.params.fastClicksDelayBetweenClicks&&r.preventDefault(),c.params.activeState&&(l=o(r),p(r)?m=setTimeout(q,80):q())}function A(d){var e,h,i,j;g&&(e=!1,h=c.params.fastClicksDistanceThreshold,h?(i=d.targetTouches[0].pageX,j=d.targetTouches[0].pageY,(Math.abs(i-a)>h||Math.abs(j-b)>h)&&(e=!0)):e=!0,e&&(g=!1,f=null,k=!0),c.params.activeState&&(clearTimeout(m),r()))}function B(a){var b,d,e;return clearTimeout(m),g?document.activeElement===a.target?!0:(h||a.preventDefault(),a.timeStamp-j<c.params.fastClicksDelayBetweenClicks?(setTimeout(r,0),!0):(j=a.timeStamp,g=!1,c.device.ios&&i&&i.scrollTop!==i.f7ScrollTop?!1:(c.params.activeState&&(q(),setTimeout(r,0)),u(f)&&f.focus(),document.activeElement&&f!==document.activeElement&&document.activeElement!==document.body&&"label"!==f.nodeName.toLowerCase()&&document.activeElement.blur(),a.preventDefault(),b=a.changedTouches[0],d=document.createEvent("MouseEvents"),e="click",c.device.android&&"select"===f.nodeName.toLowerCase()&&(e="mousedown"),d.initMouseEvent(e,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),d.forwardedTouchEvent=!0,f.dispatchEvent(d),!1))):(!h&&n&&(!c.device.android||a.cancelable)&&a.preventDefault(),!0)}function C(){g=!1,f=null}function D(a){var b=!1;return g?(f=null,g=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(n||(b=!0),document.activeElement===f&&(b=!0),a.forwardedTouchEvent&&(b=!0),a.cancelable||(b=!0),b||(a.stopImmediatePropagation(),a.stopPropagation(),f?(v(f)||k)&&a.preventDefault():a.preventDefault(),f=null),b)}var a,b,d,f,g,h,i,j,k,l,m,n;c.params.activeState&&e("html").addClass("watch-active-state"),c.device.ios&&c.device.webView&&window.addEventListener("touchstart",function(){}),c.support.touch?(document.addEventListener("click",D,!0),document.addEventListener("touchstart",z),document.addEventListener("touchmove",A),document.addEventListener("touchend",B),document.addEventListener("touchcancel",C)):c.params.activeState&&(document.addEventListener("mousedown",w),document.addEventListener("mousemove",x),document.addEventListener("mouseup",y))},c.initClickEvents=function(){function a(a){var g,i,b=e(this),d=e(a.target),f="a"===b[0].nodeName.toLowerCase()||b.parents("a").length>0||"a"===d[0].nodeName.toLowerCase()||d.parents("a").length>0;f||(c.params.scrollTopOnNavbarClick&&b.is(".navbar .center")&&(i=b.parents(".navbar"),g=i.parents(".page-content"),0===g.length&&(i.parents(".page").length>0&&(g=i.parents(".page").find(".page-content")),0===g.length&&i.nextAll(".pages").length>0&&(g=i.nextAll(".pages").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content")))),c.params.scrollTopOnStatusbarClick&&b.is(".statusbar-overlay")&&(g=e(".popup.modal-in").length>0?e(".popup.modal-in").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content"):e(".panel.active").length>0?e(".panel.active").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content"):e(".views > .view.active").length>0?e(".views > .view.active").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content"):e(".views").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content")),g&&g.length>0&&(g.hasClass("tab")&&(g=g.parent(".tabs").children(".page-content.active")),g.length>0&&g.scrollTop(0,300)))}function b(a){var h,i,j,k,l,m,o,p,q,r,s,t,u,v,w,x,y,b=e(this),d=b.attr("href"),g="a"===b[0].nodeName.toLowerCase();if(g&&b.is(c.params.externalLinks))return"_system"===b.attr("target")&&(a.preventDefault(),window.open(d,"_system")),void 0;if(h=b.dataset(),b.hasClass("smart-select")&&c.smartSelectOpen&&c.smartSelectOpen(b),b.hasClass("open-panel")&&(1===e(".panel").length?e(".panel").hasClass("panel-left")?c.openPanel("left"):c.openPanel("right"):"right"===h.panel?c.openPanel("right"):c.openPanel("left")),b.hasClass("close-panel")&&c.closePanel(),b.hasClass("panel-overlay")&&c.params.panelsCloseByOutside&&c.closePanel(),b.hasClass("open-popover")&&(i=h.popover?h.popover:".popover",c.popover(i,b)),b.hasClass("close-popover")&&c.closeModal(".popover.modal-in"),b.hasClass("open-popup")&&(j=h.popup?h.popup:".popup",c.popup(j)),b.hasClass("close-popup")&&(j=h.popup?h.popup:".popup.modal-in",c.closeModal(j)),b.hasClass("open-login-screen")&&(k=h.loginScreen?h.loginScreen:".login-screen",c.loginScreen(k)),b.hasClass("close-login-screen")&&c.closeModal(".login-screen.modal-in"),b.hasClass("modal-overlay")&&(e(".modal.modal-in").length>0&&c.params.modalCloseByOutside&&c.closeModal(".modal.modal-in"),e(".actions-modal.modal-in").length>0&&c.params.actionsCloseByOutside&&c.closeModal(".actions-modal.modal-in"),e(".popover.modal-in").length>0&&c.closeModal(".popover.modal-in")),b.hasClass("popup-overlay")&&e(".popup.modal-in").length>0&&c.params.popupCloseByOutside&&c.closeModal(".popup.modal-in"),b.hasClass("close-picker")&&(l=e(".picker-modal.modal-in"),l.length>0?c.closeModal(l):(l=e(".popover.modal-in .picker-modal"),l.length>0&&c.closeModal(l.parents(".popover")))),b.hasClass("open-picker")&&(m=h.picker?h.picker:".picker-modal",c.pickerModal(m,b)),b.hasClass("tab-link")&&(o=!0,c.showTab(h.tab||b.attr("href"),b)),b.hasClass("swipeout-close")&&c.swipeoutClose(b.parents(".swipeout-opened")),b.hasClass("swipeout-delete")&&(h.confirm?(p=h.confirm,q=h.confirmTitle,q?c.confirm(p,q,function(){c.swipeoutDelete(b.parents(".swipeout"))}):c.confirm(p,function(){c.swipeoutDelete(b.parents(".swipeout"))})):c.swipeoutDelete(b.parents(".swipeout"))),b.hasClass("toggle-sortable")&&c.sortableToggle(h.sortable),b.hasClass("open-sortable")&&c.sortableOpen(h.sortable),b.hasClass("close-sortable")&&c.sortableClose(h.sortable),(b.hasClass("accordion-item-toggle")||b.hasClass("item-link")&&b.parent().hasClass("accordion-item"))&&(r=b.parent(".accordion-item"),0===r.length&&(r=b.parents(".accordion-item")),0===r.length&&(r=b.parents("li")),c.accordionToggle(r)),(!c.params.ajaxLinks||b.is(c.params.ajaxLinks))&&g&&c.params.router&&(g&&a.preventDefault(),s=d&&d.length>0&&"#"!==d&&!o,t=h.template,s||b.hasClass("back")||t)){if(h.view?u=e(h.view)[0].f7View:(u=b.parents("."+c.params.viewClass)[0]&&b.parents("."+c.params.viewClass)[0].f7View,u&&u.params.linksView&&("string"==typeof u.params.linksView?u=e(u.params.linksView)[0].f7View:u.params.linksView instanceof n&&(u=u.params.linksView))),u||c.mainView&&(u=c.mainView),!u)return;if(t)d=void 0;else{if(0===d.indexOf("#")&&"#"!==d){if(!u.params.domCache)return;v=d.split("#")[1],d=void 0}if("#"===d&&!b.hasClass("back"))return}"undefined"!=typeof h.animatePages?w=h.animatePages:(b.hasClass("with-animation")&&(w=!0),b.hasClass("no-animation")&&(w=!1)),x={animatePages:w,ignoreCache:h.ignoreCache,force:h.force,reload:h.reload,reloadPrevious:h.reloadPrevious,pageName:v,url:d},c.params.template7Pages&&(x.contextName=h.contextName,y=h.context,y&&(x.context=JSON.parse(y))),t&&t in f.templates&&(x.template=f.templates[t]),b.hasClass("back")?u.router.back(x):u.router.load(x)}}function d(a){a.preventDefault()}e(document).on("click","a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .swipeout-close, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle, .close-picker",b),(c.params.scrollTopOnNavbarClick||c.params.scrollTopOnStatusbarClick)&&e(document).on("click",".statusbar-overlay, .navbar .center",a),c.support.touch&&e(document).on(c.params.fastClicks?"touchstart":"touchmove",".panel-overlay, .modal-overlay, .preloader-indicator-overlay, .popup-overlay, .searchbar-overlay",d)},c.initResize=function(){e(window).on("resize",c.resize),e(window).on("orientationchange",c.orientationchange)},c.resize=function(){c.sizeNavbars&&c.sizeNavbars(),y()},c.orientationchange=function(){c.device&&c.device.minimalUi&&(90===window.orientation||-90===window.orientation)&&(document.body.scrollTop=0),y()},c.formsData={},c.formStoreData=function(a,b){c.formsData[a]=b,c.ls["f7form-"+a]=JSON.stringify(b)},c.formDeleteData=function(a){c.formsData[a]&&(c.formsData[a]="",delete c.formsData[a]),c.ls["f7form-"+a]&&(c.ls["f7form-"+a]="",c.ls.removeItem("f7form-"+a))},c.formGetData=function(a){return c.ls["f7form-"+a]?JSON.parse(c.ls["f7form-"+a]):c.formsData[a]?c.formsData[a]:void 0},c.formToJSON=function(a){var b,c,d;return a=e(a),1!==a.length?!1:(b={},c=["submit","image","button","file"],d=[],a.find("input, select, textarea").each(function(){var f=e(this),g=f.attr("name"),h=f.attr("type"),i=this.nodeName.toLowerCase();if(!(c.indexOf(h)>=0||d.indexOf(g)>=0||!g))if("select"===i&&f.attr("multiple"))d.push(g),b[g]=[],a.find('select[name="'+g+'"] option').each(function(){this.selected&&b[g].push(this.value)});else switch(h){case"checkbox":d.push(g),b[g]=[],a.find('input[name="'+g+'"]').each(function(){this.checked&&b[g].push(this.value)});break;case"radio":d.push(g),a.find('input[name="'+g+'"]').each(function(){this.checked&&(b[g]=this.value)});break;default:b[g]=f.val()}}),a.trigger("formToJSON",{formData:b}),b)},c.formFromJSON=function(a,b){var c,d;return a=e(a),1!==a.length?!1:(c=["submit","image","button","file"],d=[],a.find("input, select, textarea").each(function(){var f=e(this),g=f.attr("name"),h=f.attr("type"),i=this.nodeName.toLowerCase();if(b[g]&&!(c.indexOf(h)>=0||d.indexOf(g)>=0||!g))if("select"===i&&f.attr("multiple"))d.push(g),a.find('select[name="'+g+'"] option').each(function(){this.selected=b[g].indexOf(this.value)>=0?!0:!1});else switch(h){case"checkbox":d.push(g),a.find('input[name="'+g+'"]').each(function(){this.checked=b[g].indexOf(this.value)>=0?!0:!1});break;case"radio":d.push(g),a.find('input[name="'+g+'"]').each(function(){this.checked=b[g]===this.value?!0:!1});break;default:f.val(b[g])}}),a.trigger("formFromJSON",{formData:b}),void 0)},c.initFormsStorage=function(a){function d(){var d,a=e(this),b=a[0].id;b&&(d=c.formToJSON(a),d&&(c.formStoreData(b,d),a.trigger("store",{data:d})))}function f(){b.off("change submit",d),a.off("pageBeforeRemove",f)}if(a=e(a),0!==a.length){var b=a.find("form.store-data");0!==b.length&&(b.each(function(){var b,a=this.getAttribute("id");a&&(b=c.formGetData(a),b&&c.formFromJSON(this,b))}),b.on("change submit",d),a.on("pageBeforeRemove",f))}},e(document).on("submit change","form.ajax-submit, form.ajax-submit-onchange",function(a){var d,f,g,h,i,b=e(this);("change"!==a.type||b.hasClass("ajax-submit-onchange"))&&("submit"===a.type&&a.preventDefault(),d=b.attr("method")||"GET",f=b.attr("enctype"),g=b.attr("action"),g&&(h="POST"===d?new FormData(b[0]):e.serializeObject(c.formToJSON(b[0])),i=e.ajax({method:d,url:g,contentType:f,data:h,beforeSend:function(a){b.trigger("beforeSubmit",{data:h,xhr:a})},error:function(a){b.trigger("submitError",{data:h,xhr:a})},success:function(a){b.trigger("submitted",{data:a,xhr:i})}})))}),c.pushStateQueue=[],c.pushStateClearQueue=function(){var a,b;0!==c.pushStateQueue.length&&(a=c.pushStateQueue.pop(),c.params.pushStateNoAnimation===!0&&(b=!1),"back"===a.action&&c.router.back(a.view,{animatePages:b}),"loadPage"===a.action&&c.router.load(a.view,{url:a.stateUrl,animatePages:b,pushState:!1}),"loadContent"===a.action&&c.router.load(a.view,{content:a.stateContent,animatePages:b,pushState:!1}),"loadPageName"===a.action&&c.router.load(a.view,{pageName:a.statePageName,animatePages:b,pushState:!1}))},c.initPushState=function(){function b(b){var d,e,f,g,h,i,j;a||(d=c.mainView,d&&(e=b.state,e||(e={viewIndex:c.views.indexOf(d),url:d.history[0]}),e.viewIndex<0||(f=c.views[e.viewIndex],g=e&&e.url||void 0,h=e&&e.content||void 0,i=e&&e.pageName||void 0,c.params.pushStateNoAnimation===!0&&(j=!1),g!==f.url&&(f.history.indexOf(g)>=0?f.allowPageChange?c.router.back(f,{url:void 0,animatePages:j,pushState:!1,preloadOnly:!1}):c.pushStateQueue.push({action:"back",view:f}):h?f.allowPageChange?c.router.load(f,{content:h,animatePages:j,pushState:!1}):c.pushStateQueue.unshift({action:"loadContent",stateContent:h,view:f}):i?f.allowPageChange?c.router.load(f,{pageName:i,animatePages:j,pushState:!1}):c.pushStateQueue.unshift({action:"loadPageName",statePageName:i,view:f}):f.allowPageChange?c.router.load(f,{url:g,animatePages:j,pushState:!1}):c.pushStateQueue.unshift({action:"loadPage",stateUrl:g,view:f})))))}var a=!0;e(window).on("load",function(){setTimeout(function(){a=!1},0)}),e(window).on("popstate",b)},c.swiper=function(a,b){return new Swiper(a,b)},c.initPageSwiper=function(a){function f(a){function c(){a.destroy(),b.off("pageBeforeRemove",c)}b.on("pageBeforeRemove",c)}var g,h,i,j,b=e(a),d=b.find(".swiper-init");if(0!==d.length)for(g=0;g<d.length;g++)h=d.eq(g),i=h.data("swiper")?JSON.parse(h.data("swiper")):h.dataset(),j=c.swiper(h[0],i),f(j)},c.reinitPageSwiper=function(a){var d,f,b=e(a),c=b.find(".swiper-init");if(0!==c.length)for(d=0;d<c.length;d++)f=c[0].swiper,f&&f.update(!0)},z=function(a){var d,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,W,X,Y,Z,$,_,ab,U,V,bb,cb,db,eb,fb,hb,ib,gb,b=this,f={photos:[],initialSlide:0,spaceBetween:20,speed:300,zoom:!0,maxZoom:3,minZoom:1,exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",swipeToClose:!0,backLinkText:"Close",ofText:"of",loop:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1};a=a||{};for(g in f)"undefined"==typeof a[g]&&(a[g]=f[g]);for(b.params=a,h="dark"===b.params.theme?"color-white":"",i=b.params.navbarTemplate||'<div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="link '+("page"===b.params.type&&"back")+' close-popup photo-browser-close-link" data-popup=".photo-browser-popup"><i class="icon icon-back '+h+'"></i><span>'+b.params.backLinkText+"</span></a></div>"+'<div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">'+b.params.ofText+'</span> <span class="photo-browser-total"></span></div>'+'<div class="right"></div>'+"</div>"+"</div>",j=b.params.toolbarTemplate||'<div class="toolbar tabbar"><div class="toolbar-inner"><a href="#" class="link photo-browser-prev"><i class="icon icon-prev '+h+'"></i></a>'+'<a href="#" class="link photo-browser-next"><i class="icon icon-next '+h+'"></i></a>'+"</div>"+"</div>",k=b.params.template||'<div class="photo-browser photo-browser-'+b.params.theme+'">'+'<div class="view navbar-fixed toolbar-fixed">'+"{{navbar}}"+'<div data-page="photo-browser-slides" class="page no-toolbar {{noNavbar}} toolbar-fixed navbar-fixed">'+"{{toolbar}}"+"{{captions}}"+'<div class="photo-browser-swiper-container swiper-container">'+'<div class="photo-browser-swiper-wrapper swiper-wrapper">'+"{{photos}}"+"</div>"+"</div>"+"</div>"+"</div>"+"</div>",l=b.params.lazyLoading?b.params.photoLazyTemplate||'<div class="photo-browser-slide photo-browser-slide-lazy swiper-slide"><div class="preloader'+("dark"===b.params.theme?" preloader-white":"")+'"></div><span class="photo-browser-zoom-container"><img data-src="{{url}}" class="swiper-lazy"></span></div>':b.params.photoTemplate||'<div class="photo-browser-slide swiper-slide"><span class="photo-browser-zoom-container"><img src="{{url}}"></span></div>',m=b.params.captionsTheme||b.params.theme,n=b.params.captionsTemplate||'<div class="photo-browser-captions photo-browser-captions-'+m+'">{{captions}}</div>',o=b.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{captionIndex}}">{{caption}}</div>',p=b.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide swiper-slide">{{html}}</div>',q="",r="",d=0;d<b.params.photos.length;d++)s=b.params.photos[d],t="","string"==typeof s||s instanceof String?t=s.indexOf("<")>=0||s.indexOf(">")>=0?p.replace(/{{html}}/g,s):l.replace(/{{url}}/g,s):"object"==typeof s&&(s.hasOwnProperty("html")&&s.html.length>0?t=p.replace(/{{html}}/g,s.html):s.hasOwnProperty("url")&&s.url.length>0&&(t=l.replace(/{{url}}/g,s.url)),s.hasOwnProperty("caption")&&s.caption.length>0?r+=o.replace(/{{caption}}/g,s.caption).replace(/{{captionIndex}}/g,d):t=t.replace(/{{caption}}/g,"")),q+=t;return u=k.replace("{{navbar}}",b.params.navbar?i:"").replace("{{noNavbar}}",b.params.navbar?"":"no-navbar").replace("{{photos}}",q).replace("{{captions}}",n.replace(/{{captions}}/g,r)).replace("{{toolbar}}",b.params.toolbar?j:""),b.activeIndex=b.params.initialSlide,b.openIndex=b.activeIndex,b.opened=!1,b.open=function(a){return"undefined"==typeof a&&(a=b.activeIndex),a=parseInt(a,10),b.opened&&b.swiper?(b.swiper.slideTo(a),void 0):(b.opened=!0,b.openIndex=a,"standalone"===b.params.type&&e("body").append(u),"popup"===b.params.type&&(b.popup=c.popup('<div class="popup photo-browser-popup">'+u+"</div>"),e(b.popup).on("closed",b.onPopupClose)),"page"===b.params.type?(e(document).on("pageBeforeInit",b.onPageBeforeInit),e(document).on("pageBeforeRemove",b.onPageBeforeRemove),b.params.view||(b.params.view=c.mainView),b.params.view.loadContent(u),void 0):(b.layout(b.openIndex),b.params.onOpen&&b.params.onOpen(b),void 0))},b.close=function(){b.opened=!1,b.swiperContainer&&0!==b.swiperContainer.length&&(b.params.onClose&&b.params.onClose(b),b.attachEvents(!0),"standalone"===b.params.type&&b.container.removeClass("photo-browser-in").addClass("photo-browser-out").animationEnd(function(){b.container.remove()}),b.swiper.destroy(),b.swiper=b.swiperContainer=b.swiperWrapper=b.slides=E=F=G=void 0)},b.onPopupClose=function(){b.close(),e(b.popup).off("pageBeforeInit",b.onPopupClose)},b.onPageBeforeInit=function(a){"photo-browser-slides"===a.detail.page.name&&b.layout(b.openIndex),e(document).off("pageBeforeInit",b.onPageBeforeInit)},b.onPageBeforeRemove=function(a){"photo-browser-slides"===a.detail.page.name&&b.close(),e(document).off("pageBeforeRemove",b.onPageBeforeRemove)},b.onSliderTransitionStart=function(a){var c,d,f,g;b.activeIndex=a.activeIndex,c=a.activeIndex+1,d=a.slides.length,b.params.loop&&(d-=2,c-=a.loopedSlides,1>c&&(c=d+c),c>d&&(c-=d)),b.container.find(".photo-browser-current").text(c),b.container.find(".photo-browser-total").text(d),e(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive"),a.isBeginning&&!b.params.loop&&e(".photo-browser-prev").addClass("photo-browser-link-inactive"),a.isEnd&&!b.params.loop&&e(".photo-browser-next").addClass("photo-browser-link-inactive"),b.captions.length>0&&(b.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active"),f=b.params.loop?a.slides.eq(a.activeIndex).attr("data-swiper-slide-index"):b.activeIndex,b.captionsContainer.find('[data-caption-index="'+f+'"]').addClass("photo-browser-caption-active")),g=a.slides.eq(a.previousIndex).find("video"),g.length>0&&"pause"in g[0]&&g[0].pause(),b.params.onSlideChangeStart&&b.params.onSlideChangeStart(a)},b.onSliderTransitionEnd=function(a){b.params.zoom&&E&&a.previousIndex!==a.activeIndex&&(F.transform("translate3d(0,0,0) scale(1)"),G.transform("translate3d(0,0,0)"),E=F=G=void 0,H=I=1),b.params.onSlideChangeEnd&&b.params.onSlideChangeEnd(a)},b.layout=function(a){b.container="page"===b.params.type?e(".photo-browser-swiper-container").parents(".view"):e(".photo-browser"),"standalone"===b.params.type&&(b.container.addClass("photo-browser-in"),c.sizeNavbars(b.container)),b.swiperContainer=b.container.find(".photo-browser-swiper-container"),b.swiperWrapper=b.container.find(".photo-browser-swiper-wrapper"),b.slides=b.container.find(".photo-browser-slide"),b.captionsContainer=b.container.find(".photo-browser-captions"),b.captions=b.container.find(".photo-browser-caption");var d={nextButton:b.params.nextButton||".photo-browser-next",prevButton:b.params.prevButton||".photo-browser-prev",indexButton:b.params.indexButton,initialSlide:a,spaceBetween:b.params.spaceBetween,speed:b.params.speed,loop:b.params.loop,lazyLoading:b.params.lazyLoading,lazyLoadingInPrevNext:b.params.lazyLoadingInPrevNext,lazyLoadingOnTransitionStart:b.params.lazyLoadingOnTransitionStart,preloadImages:b.params.lazyLoading?!1:!0,onTap:function(a,c){b.params.onTap&&b.params.onTap(a,c)},onClick:function(a,c){b.params.exposition&&b.toggleExposition(),b.params.onClick&&b.params.onClick(a,c)},onDoubleTap:function(a,c){b.toggleZoom(e(c.target).parents(".photo-browser-slide")),b.params.onDoubleTap&&b.params.onDoubleTap(a,c)},onTransitionStart:function(a){b.onSliderTransitionStart(a)},onTransitionEnd:function(a){b.onSliderTransitionEnd(a)},onLazyImageLoad:function(a,c,d){b.params.onLazyImageLoad&&b.params.onLazyImageLoad(b,c,d)},onLazyImageReady:function(a,c,d){e(c).removeClass("photo-browser-slide-lazy"),b.params.onLazyImageReady&&b.params.onLazyImageReady(b,c,d)}};b.params.swipeToClose&&"page"!==b.params.type&&(d.onTouchStart=b.swipeCloseTouchStart,d.onTouchMoveOpposite=b.swipeCloseTouchMove,d.onTouchEnd=b.swipeCloseTouchEnd),b.swiper=c.swiper(b.swiperContainer,d),0===a&&b.onSliderTransitionStart(b.swiper),b.attachEvents()},b.attachEvents=function(a){var e,d=a?"off":"on";b.params.zoom&&(e=b.params.loop?b.swiper.slides:b.slides,e[d]("gesturestart",b.onSlideGestureStart),e[d]("gesturechange",b.onSlideGestureChange),e[d]("gestureend",b.onSlideGestureEnd),e[d](c.touchEvents.start,b.onSlideTouchStart),e[d](c.touchEvents.move,b.onSlideTouchMove),e[d](c.touchEvents.end,b.onSlideTouchEnd)),b.container.find(".photo-browser-close-link")[d]("click",b.close)},b.exposed=!1,b.toggleExposition=function(){b.container&&b.container.toggleClass("photo-browser-exposed"),b.params.expositionHideCaptions&&b.captionsContainer.toggleClass("photo-browser-captions-exposed"),b.exposed=!b.exposed},b.enableExposition=function(){b.container&&b.container.addClass("photo-browser-exposed"),b.params.expositionHideCaptions&&b.captionsContainer.addClass("photo-browser-captions-exposed"),b.exposed=!0},b.disableExposition=function(){b.container&&b.container.removeClass("photo-browser-exposed"),b.params.expositionHideCaptions&&b.captionsContainer.removeClass("photo-browser-captions-exposed"),b.exposed=!1},H=1,I=1,J=!1,b.onSlideGestureStart=function(){return E||(E=e(this),F=E.find("img, svg, canvas"),G=F.parent(".photo-browser-zoom-container"),0!==G.length)?(F.transition(0),J=!0,void 0):(F=void 0,void 0)},b.onSlideGestureChange=function(a){F&&0!==F.length&&(H=a.scale*I,H>b.params.maxZoom&&(H=b.params.maxZoom-1+Math.pow(H-b.params.maxZoom+1,.5)),H<b.params.minZoom&&(H=b.params.minZoom+1-Math.pow(b.params.minZoom-H+1,.5)),F.transform("translate3d(0,0,0) scale("+H+")"))},b.onSlideGestureEnd=function(){F&&0!==F.length&&(H=Math.max(Math.min(H,b.params.maxZoom),b.params.minZoom),F.transition(b.params.speed).transform("translate3d(0,0,0) scale("+H+")"),I=H,J=!1,1===H&&(E=void 0))},b.toggleZoom=function(){E||(E=b.swiper.slides.eq(b.swiper.activeIndex),F=E.find("img, svg, canvas"),G=F.parent(".photo-browser-zoom-container")),F&&0!==F.length&&(G.transition(300).transform("translate3d(0,0,0)"),H&&1!==H?(H=I=1,F.transition(300).transform("translate3d(0,0,0) scale(1)"),E=void 0):(H=I=b.params.maxZoom,F.transition(300).transform("translate3d(0,0,0) scale("+H+")")))},U={},V={},b.onSlideTouchStart=function(a){F&&0!==F.length&&(K||("android"===c.device.os&&a.preventDefault(),K=!0,U.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,U.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY))},b.onSlideTouchMove=function(a){var c,d;if(F&&0!==F.length&&(b.swiper.allowClick=!1,K&&E&&(L||(S=F[0].offsetWidth,T=F[0].offsetHeight,W=e.getTranslate(G[0],"x")||0,X=e.getTranslate(G[0],"y")||0,G.transition(0)),c=S*H,d=T*H,!(c<b.swiper.width&&d<b.swiper.height)))){if(O=Math.min(b.swiper.width/2-c/2,0),Q=-O,P=Math.min(b.swiper.height/2-d/2,0),R=-P,V.x="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,V.y="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,!L&&!J&&(Math.floor(O)===Math.floor(W)&&V.x<U.x||Math.floor(Q)===Math.floor(W)&&V.x>U.x))return K=!1,void 0;a.preventDefault(),a.stopPropagation(),L=!0,M=V.x-U.x+W,N=V.y-U.y+X,O>M&&(M=O+1-Math.pow(O-M+1,.8)),M>Q&&(M=Q-1+Math.pow(M-Q+1,.8)),P>N&&(N=P+1-Math.pow(P-N+1,.8)),N>R&&(N=R-1+Math.pow(N-R+1,.8)),Y||(Y=V.x),_||(_=V.y),Z||(Z=Date.now()),$=(V.x-Y)/(Date.now()-Z)/2,ab=(V.y-_)/(Date.now()-Z)/2,Math.abs(V.x-Y)<2&&($=0),Math.abs(V.y-_)<2&&(ab=0),Y=V.x,_=V.y,Z=Date.now(),G.transform("translate3d("+M+"px, "+N+"px,0)")}},b.onSlideTouchEnd=function(){var c,d,e,f,g,h,i,j,k;if(F&&0!==F.length){if(!K||!L)return K=!1,L=!1,void 0;K=!1,L=!1,c=300,d=300,e=$*c,f=M+e,g=ab*d,h=N+g,0!==$&&(c=Math.abs((f-M)/$)),0!==ab&&(d=Math.abs((h-N)/ab)),i=Math.max(c,d),M=f,N=h,j=S*H,k=T*H,O=Math.min(b.swiper.width/2-j/2,0),Q=-O,P=Math.min(b.swiper.height/2-k/2,0),R=-P,M=Math.max(Math.min(M,Q),O),N=Math.max(Math.min(N,R),P),G.transition(i).transform("translate3d("+M+"px, "+N+"px,0)")}},bb=!1,cb=!0,gb=!1,b.swipeCloseTouchStart=function(){cb&&(bb=!0)},b.swipeCloseTouchMove=function(a,c){if(bb){gb||(gb=!0,eb="touchmove"===c.type?c.targetTouches[0].pageY:c.pageY,hb=b.swiper.slides.eq(b.swiper.activeIndex),ib=(new Date).getTime()),c.preventDefault(),fb="touchmove"===c.type?c.targetTouches[0].pageY:c.pageY,db=eb-fb;var d=1-Math.abs(db)/300;hb.transform("translate3d(0,"+-db+"px,0)"),b.swiper.container.css("opacity",d).transition(0)}},b.swipeCloseTouchEnd=function(){var e,f;return bb=!1,gb?(gb=!1,cb=!1,e=Math.abs(db),f=(new Date).getTime()-ib,300>f&&e>20||f>=300&&e>100?(setTimeout(function(){"standalone"===b.params.type&&b.close(),"popup"===b.params.type&&c.closeModal(b.popup),b.params.onSwipeToClose&&b.params.onSwipeToClose(b),cb=!0},0),void 0):(0!==e?hb.addClass("transitioning").transitionEnd(function(){cb=!0,hb.removeClass("transitioning")}):cb=!0,b.swiper.container.css("opacity","").transition(""),hb.transform(""),void 0)):(gb=!1,void 0)},b},c.photoBrowser=function(a){return new z(a)},A=function(a){function h(){var a=!1;return b.params.convertToPopover?(!b.inline&&b.params.input&&(c.device.ios?a=c.device.ipad?!0:!1:e(window).width()>=768&&(a=!0)),a):a}function i(){return b.opened&&b.container&&b.container.length>0&&b.container.parents(".popover").length>0?!0:!1}function j(){if(b.opened)for(var a=0;a<b.cols.length;a++)b.cols[a].divider||(b.cols[a].calcSize(),b.cols[a].setValue(b.cols[a].value,0,!1))}function k(a){var c,i,d,e,f,g,j,k;if(a.preventDefault(),!b.opened&&(b.open(),b.params.scrollToInput&&!h())){if(c=b.input.parents(".page-content"),0===c.length)return;d=parseInt(c.css("padding-top"),10),e=parseInt(c.css("padding-bottom"),10),f=c[0].offsetHeight-d-b.container.height(),g=c[0].scrollHeight-d-b.container.height(),j=b.input.offset().top-d+b.input[0].offsetHeight,j>f&&(k=c.scrollTop()+j-f,k+f>g&&(i=k+f-g+e,f===g&&(i=b.container.height()),c.css({"padding-bottom":i+"px"})),c.scrollTop(k,300))}}function l(a){i()||(b.input&&b.input.length>0?a.target!==b.input[0]&&0===e(a.target).parents(".picker-modal").length&&b.close():0===e(a.target).parents(".picker-modal").length&&b.close())}function m(){b.opened=!1,b.input.parents(".page-content").css({"padding-bottom":""}),b.params.onClose&&b.params.onClose(b),b.container.find(".picker-items-col").each(function(){b.destroyPickerCol(this)})}var f,g,b=this,d={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner"><div class="left"></div><div class="right"><a href="#" class="link close-picker">{{closeText}}</a></div></div></div>'};
a=a||{};for(f in d)"undefined"==typeof a[f]&&(a[f]=d[f]);return b.params=a,b.cols=[],b.initialized=!1,b.inline=b.params.container?!0:!1,g=c.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!c.device.android,b.setValue=function(a,c){var e,d=0;for(e=0;e<b.cols.length;e++)b.cols[e]&&!b.cols[e].divider&&(b.cols[e].setValue(a[d],c),d++)},b.updateValue=function(){var d,a=[],c=[];for(d=0;d<b.cols.length;d++)b.cols[d].divider||(a.push(b.cols[d].value),c.push(b.cols[d].displayValue));a.indexOf(void 0)>=0||(b.value=a,b.displayValue=c,b.params.onChange&&b.params.onChange(b,b.value,b.displayValue),b.input&&b.input.length>0&&(e(b.input).val(b.params.formatValue?b.params.formatValue(b,b.value,b.displayValue):b.value.join(" ")),e(b.input).trigger("change")))},b.initPickerCol=function(a,d){function s(){r=e.requestAnimationFrame(function(){i.updateItems(void 0,void 0,0),s()})}function G(a){v||u||(a.preventDefault(),u=!0,w=x="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,y=(new Date).getTime(),t=!0,A=C=e.getTranslate(i.wrapper[0],"y"))}function H(a){if(u){a.preventDefault(),t=!1,x="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,v||(e.cancelAnimationFrame(r),v=!0,A=C=e.getTranslate(i.wrapper[0],"y"),i.wrapper.transition(0)),a.preventDefault();var c=x-w;C=A+c,B=void 0,o>C&&(C=o-Math.pow(o-C,.8),B="min"),C>p&&(C=p+Math.pow(C-p,.8),B="max"),i.wrapper.transform("translate3d(0,"+C+"px,0)"),i.updateItems(void 0,C,0,b.params.updateValuesOnTouchmove),E=C-D||C,F=(new Date).getTime(),D=C}}function I(){var c,d,f;return u&&v?(u=v=!1,i.wrapper.transition(""),B&&("min"===B?i.wrapper.transform("translate3d(0,"+o+"px,0)"):i.wrapper.transform("translate3d(0,"+p+"px,0)")),z=(new Date).getTime(),z-y>300?d=C:(c=Math.abs(E/(z-F)),d=C+E*b.params.momentumRatio),d=Math.max(Math.min(d,p),o),f=-Math.floor((d-p)/m),b.params.freeMode||(d=-f*m+p),i.wrapper.transform("translate3d(0,"+parseInt(d,10)+"px,0)"),i.updateItems(f,d,"",!0),b.params.updateValuesOnMomentum&&(s(),i.wrapper.transitionEnd(function(){e.cancelAnimationFrame(r)})),setTimeout(function(){t=!0},100),void 0):(u=v=!1,void 0)}function J(){if(t){e.cancelAnimationFrame(r);var b=e(this).attr("data-picker-value");i.setValue(b)}}var l,m,n,o,p,r,t,u,v,w,x,y,z,A,B,C,D,E,F,f=e(a),h=f.index(),i=b.cols[h];i.divider||(i.container=f,i.wrapper=i.container.find(".picker-items-col-wrapper"),i.items=i.wrapper.find(".picker-item"),i.replaceValues=function(a,c){i.values=a,i.displayValues=c;var d=b.columnHTML(i,!0);i.wrapper.html(d),i.items=i.wrapper.find(".picker-item"),i.calcSize(),i.setValue(i.values[0],0,!0)},i.calcSize=function(){b.params.rotateEffect&&(i.container.removeClass("picker-items-col-absolute"),i.width||i.container.css({width:""}));var a,c;a=0,c=i.container[0].offsetHeight,l=i.wrapper[0].offsetHeight,m=i.items[0].offsetHeight,n=m*i.items.length,o=c/2-n+m/2,p=c/2-m/2,i.width&&(a=i.width,parseInt(a,10)===a&&(a+="px"),i.container.css({width:a})),b.params.rotateEffect&&(i.width||(i.items.each(function(){var b=e(this);b.css({width:"auto"}),a=Math.max(a,b[0].offsetWidth),b.css({width:""})}),i.container.css({width:a+2+"px"})),i.container.addClass("picker-items-col-absolute"))},i.calcSize(),i.wrapper.transform("translate3d(0,"+p+"px,0)").transition(0),i.setValue=function(a,c,d){var f,g;"undefined"==typeof c&&(c=""),f=i.wrapper.find('.picker-item[data-picker-value="'+a+'"]').index(),"undefined"!=typeof f&&-1!==f&&(g=-f*m+p,i.wrapper.transition(c),i.wrapper.transform("translate3d(0,"+g+"px,0)"),b.params.updateValuesOnMomentum&&i.activeIndex&&i.activeIndex!==f&&(e.cancelAnimationFrame(r),i.wrapper.transitionEnd(function(){e.cancelAnimationFrame(r)}),s()),i.updateItems(f,g,c,d))},i.updateItems=function(a,c,d,f){var h,j;"undefined"==typeof c&&(c=e.getTranslate(i.wrapper[0],"y")),"undefined"==typeof a&&(a=-Math.round((c-p)/m)),0>a&&(a=0),a>=i.items.length&&(a=i.items.length-1),h=i.activeIndex,i.activeIndex=a,i.wrapper.find(".picker-selected, .picker-after-selected, .picker-before-selected").removeClass("picker-selected picker-after-selected picker-before-selected"),i.items.transition(d),j=i.items.eq(a).addClass("picker-selected").transform(""),j.prevAll().addClass("picker-before-selected"),j.nextAll().addClass("picker-after-selected"),(f||"undefined"==typeof f)&&(i.value=j.attr("data-picker-value"),i.displayValue=i.displayValues?i.displayValues[a]:i.value,h!==a&&(i.onChange&&i.onChange(b,i.value,i.displayValue),b.updateValue())),b.params.rotateEffect&&((c-(Math.floor((c-p)/m)*m+p))/m,i.items.each(function(){var a=e(this),b=a.index()*m,d=p-c,f=b-d,h=f/m,j=Math.ceil(i.height/m/2)+1,k=-18*h;k>180&&(k=180),-180>k&&(k=-180),Math.abs(h)>j?a.addClass("picker-item-far"):a.removeClass("picker-item-far"),a.transform("translate3d(0, "+(-c+p)+"px, "+(g?-110:0)+"px) rotateX("+k+"deg)")}))},d&&i.updateItems(0,p,0),t=!0,i.container.on(c.touchEvents.start,G),i.container.on(c.touchEvents.move,H),i.container.on(c.touchEvents.end,I),i.items.on("click",J),i.container[0].f7DestroyPickerCol=function(){i.container.off(c.touchEvents.start,G),i.container.off(c.touchEvents.move,H),i.container.off(c.touchEvents.end,I),i.items.off("click",J)})},b.destroyPickerCol=function(a){a=e(a),"f7DestroyPickerCol"in a[0]&&a[0].f7DestroyPickerCol()},e(window).on("resize",j),b.columnHTML=function(a,b){var e,c="",d="";if(a.divider)d+='<div class="picker-items-col picker-items-col-divider '+(a.textAlign?"picker-items-col-"+a.textAlign:"")+" "+(a.cssClass||"")+'">'+a.content+"</div>";else{for(e=0;e<a.values.length;e++)c+='<div class="picker-item" data-picker-value="'+a.values[e]+'">'+(a.displayValues?a.displayValues[e]:a.values[e])+"</div>";d+='<div class="picker-items-col '+(a.textAlign?"picker-items-col-"+a.textAlign:"")+" "+(a.cssClass||"")+'"><div class="picker-items-col-wrapper">'+c+"</div></div>"}return b?c:d},b.layout=function(){var d,e,f,a="",c="";for(b.cols=[],e="",d=0;d<b.params.cols.length;d++)f=b.params.cols[d],e+=b.columnHTML(b.params.cols[d]),b.cols.push(f);c="picker-modal picker-columns "+(b.params.cssClass||"")+(b.params.rotateEffect?" picker-3d":""),a='<div class="'+c+'">'+(b.params.toolbar?b.params.toolbarTemplate.replace(/{{closeText}}/g,b.params.toolbarCloseText):"")+'<div class="picker-modal-inner picker-items">'+e+'<div class="picker-center-highlight"></div>'+"</div>"+"</div>",b.pickerHTML=a},b.params.input&&(b.input=e(b.params.input),b.params.inputReadOnly&&b.input.prop("readOnly",!0),b.inline||b.input.on("click",k),b.params.inputReadOnly&&b.input.on("focus mousedown",function(a){a.preventDefault()})),b.inline||e("html").on("click",l),b.opened=!1,b.open=function(){var a=h();b.opened||(b.layout(),a?(b.pickerHTML='<div class="popover popover-picker-columns"><div class="popover-inner">'+b.pickerHTML+"</div></div>",b.popover=c.popover(b.pickerHTML,b.params.input,!0),b.container=e(b.popover).find(".picker-modal"),e(b.popover).on("close",function(){m()})):b.inline?(b.container=e(b.pickerHTML),b.container.addClass("picker-modal-inline"),e(b.params.container).append(b.container)):(b.container=e(c.pickerModal(b.pickerHTML)),e(b.container).on("close",function(){m()})),b.container[0].f7Picker=b,b.container.find(".picker-items-col").each(function(){var a=!0;(!b.initialized&&b.params.value||b.initialized&&b.value)&&(a=!1),b.initPickerCol(this,a)}),b.initialized?b.value&&b.setValue(b.value,0):b.params.value&&b.setValue(b.params.value,0)),b.opened=!0,b.initialized=!0,b.params.onOpen&&b.params.onOpen(b)},b.close=function(){return b.opened&&!b.inline?i()?(c.closeModal(b.popover),void 0):(c.closeModal(b.container),void 0):void 0},b.destroy=function(){b.close(),b.params.input&&b.input.off("click focus",k),e("html").off("click",l),e(window).off("resize",j)},b.inline&&b.open(),b},c.picker=function(a){return new A(a)},B=function(a){function h(){var a=!1;return b.params.convertToPopover?(!b.inline&&b.params.input&&(c.device.ios?a=c.device.ipad?!0:!1:e(window).width()>=768&&(a=!0)),a):a}function i(){return b.opened&&b.container&&b.container.length>0&&b.container.parents(".popover").length>0?!0:!1}function j(a){var c,d,e,f,g;return a=new Date(a),c=a.getFullYear(),d=a.getMonth(),e=d+1,f=a.getDate(),g=a.getDay(),b.params.dateFormat.replace(/yyyy/g,c).replace(/yy/g,(c+"").substring(2)).replace(/mm/g,10>e?"0"+e:e).replace(/m/g,e).replace(/MM/g,b.params.monthNames[d]).replace(/M/g,b.params.monthNamesShort[d]).replace(/dd/g,10>f?"0"+f:f).replace(/d/g,f).replace(/DD/g,b.params.dayNames[g]).replace(/D/g,b.params.dayNamesShort[g])}function k(a){var c,i,d,e,f,g,j,k;if(a.preventDefault(),!b.opened&&(b.open(),b.params.scrollToInput&&!h())){if(c=b.input.parents(".page-content"),0===c.length)return;d=parseInt(c.css("padding-top"),10),e=parseInt(c.css("padding-bottom"),10),f=c[0].offsetHeight-d-b.container.height(),g=c[0].scrollHeight-d-b.container.height(),j=b.input.offset().top-d+b.input[0].offsetHeight,j>f&&(k=c.scrollTop()+j-f,k+f>g&&(i=k+f-g+e,f===g&&(i=b.container.height()),c.css({"padding-bottom":i+"px"})),c.scrollTop(k,300))}}function l(a){i()||(b.input&&b.input.length>0?a.target!==b.input[0]&&0===e(a.target).parents(".picker-modal").length&&b.close():0===e(a.target).parents(".picker-modal").length&&b.close())}function m(){b.opened=!1,b.input.parents(".page-content").css({"padding-bottom":""}),b.params.onClose&&b.params.onClose(b),b.destroyCalendarEvents()}var f,g,b=this,d={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:1,weekendDays:[0,6],multiple:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,touchMove:!0,animate:!0,closeOnSelect:!1,monthPicker:!0,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="#" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"></i></a><span class="current-month-value"></span><a href="#" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"></i></a></div>',yearPicker:!0,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="#" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"></i></a><span class="current-year-value"></span><a href="#" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"></i></a></div>',weekHeader:!0,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{monthPicker}}{{yearPicker}}</div></div>'};a=a||{};for(f in d)"undefined"==typeof a[f]&&(a[f]=d[f]);return b.params=a,b.initialized=!1,b.inline=b.params.container?!0:!1,b.isH="horizontal"===b.params.direction,g=b.isH?c.rtl?-1:1:1,b.animating=!1,b.addValue=function(a){var c,d;if(b.params.multiple){for(b.value||(b.value=[]),d=0;d<b.value.length;d++)new Date(a).getTime()===new Date(b.value[d]).getTime()&&(c=d);"undefined"==typeof c?b.value.push(a):b.value.splice(c,1),b.updateValue()}else b.value=[a],b.updateValue()},b.setValue=function(a){b.value=a,b.updateValue()},b.updateValue=function(){var a,c,d;for(b.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected"),a=0;a<b.value.length;a++)d=new Date(b.value[a]),b.wrapper.find('.picker-calendar-day[data-date="'+d.getFullYear()+"-"+d.getMonth()+"-"+d.getDate()+'"]').addClass("picker-calendar-day-selected");if(b.params.onChange&&b.params.onChange(b,b.value),b.input&&b.input.length>0){if(b.params.formatValue)c=b.params.formatValue(b,b.value);else{for(c=[],a=0;a<b.value.length;a++)c.push(j(b.value[a]));c=c.join(", ")}e(b.input).val(c),e(b.input).trigger("change")}},b.initCalendarEvents=function(){function v(a){h||f||(f=!0,i=l="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,j=l="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,m=(new Date).getTime(),s=0,d=!0,u=void 0,o=p=b.monthsTranslate)}function w(a){if(f){if(k="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,l="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,"undefined"==typeof u&&(u=!!(u||Math.abs(l-j)>Math.abs(k-i))),b.isH&&u)return f=!1,void 0;if(a.preventDefault(),b.animating)return f=!1,void 0;d=!1,h||(h=!0,q=b.wrapper[0].offsetWidth,r=b.wrapper[0].offsetHeight,b.wrapper.transition(0)),a.preventDefault(),t=b.isH?k-i:l-j,s=t/(b.isH?q:r),p=100*(b.monthsTranslate*g+s),b.wrapper.transform("translate3d("+(b.isH?p:0)+"%, "+(b.isH?0:p)+"%, 0)")}}function x(){return f&&h?(f=h=!1,n=(new Date).getTime(),300>n-m?Math.abs(t)<10?b.resetMonth():t>=10?c.rtl?b.nextMonth():b.prevMonth():c.rtl?b.prevMonth():b.nextMonth():-.5>=s?c.rtl?b.prevMonth():b.nextMonth():s>=.5?c.rtl?b.nextMonth():b.prevMonth():b.resetMonth(),setTimeout(function(){d=!0},100),void 0):(f=h=!1,void 0)}function y(a){var c,f,g,h;d&&(c=e(a.target).parents(".picker-calendar-day"),0===c.length&&e(a.target).hasClass("picker-calendar-day")&&(c=e(a.target)),0!==c.length&&(!c.hasClass("picker-calendar-day-selected")||b.params.multiple)&&(c.hasClass("picker-calendar-day-disabled")||(c.hasClass("picker-calendar-day-next")&&b.nextMonth(),c.hasClass("picker-calendar-day-prev")&&b.prevMonth(),f=c.attr("data-year"),g=c.attr("data-month"),h=c.attr("data-day"),b.params.onDayClick&&b.params.onDayClick(b,c[0],f,g,h),b.addValue(new Date(f,g,h).getTime()),b.params.closeOnSelect&&b.close())))}var f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,d=!0;b.container.find(".picker-calendar-prev-month").on("click",b.prevMonth),b.container.find(".picker-calendar-next-month").on("click",b.nextMonth),b.container.find(".picker-calendar-prev-year").on("click",b.prevYear),b.container.find(".picker-calendar-next-year").on("click",b.nextYear),b.wrapper.on("click",y),b.params.touchMove&&(b.wrapper.on(c.touchEvents.start,v),b.wrapper.on(c.touchEvents.move,w),b.wrapper.on(c.touchEvents.end,x)),b.container[0].f7DestroyCalendarEvents=function(){b.container.find(".picker-calendar-prev-month").off("click",b.prevMonth),b.container.find(".picker-calendar-next-month").off("click",b.nextMonth),b.container.find(".picker-calendar-prev-year").off("click",b.prevYear),b.container.find(".picker-calendar-next-year").off("click",b.nextYear),b.wrapper.off("click",y),b.params.touchMove&&(b.wrapper.off(c.touchEvents.start,v),b.wrapper.off(c.touchEvents.move,w),b.wrapper.off(c.touchEvents.end,x))}},b.destroyCalendarEvents=function(){"f7DestroyCalendarEvents"in b.container[0]&&b.container[0].f7DestroyCalendarEvents()},b.daysInMonth=function(a){var b=new Date(a);return new Date(b.getFullYear(),b.getMonth()+1,0).getDate()},b.monthHTML=function(a,c){var d,e,g,h,i,j,l,m,k,n,o,p,q,r,s,t,u,w,x,y,z,A;if(a=new Date(a),d=a.getFullYear(),e=a.getMonth(),a.getDate(),"next"===c&&(a=11===e?new Date(d+1,0):new Date(d,e+1,1)),"prev"===c&&(a=0===e?new Date(d-1,11):new Date(d,e-1,1)),("next"===c||"prev"===c)&&(e=a.getMonth(),d=a.getFullYear()),g=b.daysInMonth(new Date(a.getFullYear(),a.getMonth()).getTime()-864e6),h=b.daysInMonth(a),i=new Date(a.getFullYear(),a.getMonth()).getDay(),0===i&&(i=7),k=[],n=6,o=7,p="",q=0+(b.params.firstDay-1),r=(new Date).setHours(0,0,0,0),s=b.params.minDate?new Date(b.params.minDate).getTime():null,t=b.params.maxDate?new Date(b.params.maxDate).getTime():null,b.value&&b.value.length)for(l=0;l<b.value.length;l++)k.push(new Date(b.value[l]).setHours(0,0,0,0));for(l=1;n>=l;l++){for(u="",m=1;o>=m;m++)w=m,q++,x=q-i,y="",0>x?(x=g+x+1,y+=" picker-calendar-day-prev",j=new Date(0>e-1?d-1:d,0>e-1?11:e-1,x).getTime()):(x+=1,x>h?(x-=h,y+=" picker-calendar-day-next",j=new Date(e+1>11?d+1:d,e+1>11?0:e+1,x).getTime()):j=new Date(d,e,x).getTime()),j===r&&(y+=" picker-calendar-day-today"),k.indexOf(j)>=0&&(y+=" picker-calendar-day-selected"),b.params.weekendDays.indexOf(w-1)>=0&&(y+=" picker-calendar-day-weekend"),(s&&s>j||t&&j>t)&&(y+=" picker-calendar-day-disabled"),j=new Date(j),z=j.getFullYear(),A=j.getMonth(),u+='<div data-year="'+z+'" data-month="'+A+'" data-day="'+x+'" class="picker-calendar-day'+y+'" data-date="'+(z+"-"+A+"-"+x)+'"><span>'+x+"</span></div>";p+='<div class="picker-calendar-row">'+u+"</div>"}return p='<div class="picker-calendar-month" data-year="'+d+'" data-month="'+e+'">'+p+"</div>"},b.animating=!1,b.updateCurrentMonthYear=function(a){"undefined"==typeof a?(b.currentMonth=parseInt(b.months.eq(1).attr("data-month"),10),b.currentYear=parseInt(b.months.eq(1).attr("data-year"),10)):(b.currentMonth=parseInt(b.months.eq("next"===a?b.months.length-1:0).attr("data-month"),10),b.currentYear=parseInt(b.months.eq("next"===a?b.months.length-1:0).attr("data-year"),10)),b.container.find(".current-month-value").text(b.params.monthNames[b.currentMonth]),b.container.find(".current-year-value").text(b.currentYear)},b.onMonthChangeStart=function(a){b.updateCurrentMonthYear(a),b.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var c="next"===a?b.months.length-1:0;b.months.eq(c).addClass("picker-calendar-month-current"),b.months.eq("next"===a?c-1:c+1).addClass("next"===a?"picker-calendar-month-prev":"picker-calendar-month-next"),b.params.onMonthYearChangeStart&&b.params.onMonthYearChangeStart(b,b.currentYear,b.currentMonth)},b.onMonthChangeEnd=function(a,c){b.animating=!1;var d,e,f;b.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove(),"undefined"==typeof a&&(a="next",c=!0),c?(b.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),e=b.monthHTML(new Date(b.currentYear,b.currentMonth),"prev"),d=b.monthHTML(new Date(b.currentYear,b.currentMonth),"next")):f=b.monthHTML(new Date(b.currentYear,b.currentMonth),a),("next"===a||c)&&b.wrapper.append(f||d),("prev"===a||c)&&b.wrapper.prepend(f||e),b.months=b.wrapper.find(".picker-calendar-month"),b.setMonthsTranslate(b.monthsTranslate),b.params.onMonthAdd&&b.params.onMonthAdd(b,"next"===a?b.months.eq(b.months.length-1)[0]:b.months.eq(0)[0]),b.params.onMonthYearChangeEnd&&b.params.onMonthYearChangeEnd(b,b.currentYear,b.currentMonth)},b.setMonthsTranslate=function(a){var c,d,e;a=a||b.monthsTranslate||0,"undefined"==typeof b.monthsTranslate&&(b.monthsTranslate=a),b.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next"),c=100*-(a+1)*g,d=100*-a*g,e=100*-(a-1)*g,b.months.eq(0).transform("translate3d("+(b.isH?c:0)+"%, "+(b.isH?0:c)+"%, 0)").addClass("picker-calendar-month-prev"),b.months.eq(1).transform("translate3d("+(b.isH?d:0)+"%, "+(b.isH?0:d)+"%, 0)").addClass("picker-calendar-month-current"),b.months.eq(2).transform("translate3d("+(b.isH?e:0)+"%, "+(b.isH?0:e)+"%, 0)").addClass("picker-calendar-month-next")},b.nextMonth=function(a){var c,d,f,h,i,j,k,l;return("undefined"==typeof a||"object"==typeof a)&&(a="",b.params.animate||(a=0)),c=parseInt(b.months.eq(b.months.length-1).attr("data-month"),10),d=parseInt(b.months.eq(b.months.length-1).attr("data-year"),10),f=new Date(d,c),h=f.getTime(),i=b.animating?!1:!0,b.params.maxDate&&h>new Date(b.params.maxDate).getTime()?b.resetMonth():(b.monthsTranslate--,c===b.currentMonth&&(j=100*-b.monthsTranslate*g,k=e(b.monthHTML(h,"next")).transform("translate3d("+(b.isH?j:0)+"%, "+(b.isH?0:j)+"%, 0)").addClass("picker-calendar-month-next"),b.wrapper.append(k[0]),b.months=b.wrapper.find(".picker-calendar-month"),b.params.onMonthAdd&&b.params.onMonthAdd(b,b.months.eq(b.months.length-1)[0])),b.animating=!0,b.onMonthChangeStart("next"),l=100*b.monthsTranslate*g,b.wrapper.transition(a).transform("translate3d("+(b.isH?l:0)+"%, "+(b.isH?0:l)+"%, 0)"),i&&b.wrapper.transitionEnd(function(){b.onMonthChangeEnd("next")}),b.params.animate||b.onMonthChangeEnd("next"),void 0)},b.prevMonth=function(a){var c,d,f,h,i,j,k,l;return("undefined"==typeof a||"object"==typeof a)&&(a="",b.params.animate||(a=0)),c=parseInt(b.months.eq(0).attr("data-month"),10),d=parseInt(b.months.eq(0).attr("data-year"),10),f=new Date(d,c+1,-1),h=f.getTime(),i=b.animating?!1:!0,b.params.minDate&&h<new Date(b.params.minDate).getTime()?b.resetMonth():(b.monthsTranslate++,c===b.currentMonth&&(j=100*-b.monthsTranslate*g,k=e(b.monthHTML(h,"prev")).transform("translate3d("+(b.isH?j:0)+"%, "+(b.isH?0:j)+"%, 0)").addClass("picker-calendar-month-prev"),b.wrapper.prepend(k[0]),b.months=b.wrapper.find(".picker-calendar-month"),b.params.onMonthAdd&&b.params.onMonthAdd(b,b.months.eq(0)[0])),b.animating=!0,b.onMonthChangeStart("prev"),l=100*b.monthsTranslate*g,b.wrapper.transition(a).transform("translate3d("+(b.isH?l:0)+"%, "+(b.isH?0:l)+"%, 0)"),i&&b.wrapper.transitionEnd(function(){b.onMonthChangeEnd("prev")}),b.params.animate||b.onMonthChangeEnd("prev"),void 0)},b.resetMonth=function(a){"undefined"==typeof a&&(a="");var c=100*b.monthsTranslate*g;b.wrapper.transition(a).transform("translate3d("+(b.isH?c:0)+"%, "+(b.isH?0:c)+"%, 0)")},b.setYearMonth=function(a,c,d){var e,f,h,i,j,k,l,m;return"undefined"==typeof a&&(a=b.currentYear),"undefined"==typeof c&&(c=b.currentMonth),("undefined"==typeof d||"object"==typeof d)&&(d="",b.params.animate||(d=0)),e=new Date(a,c).getTime(),b.params.maxDate&&e>new Date(b.params.maxDate).getTime()?!1:b.params.minDate&&e<new Date(b.params.minDate).getTime()?!1:(f=new Date(b.currentYear,b.currentMonth).getTime(),i=b.monthHTML(new Date(a,c)),b.monthsTranslate=b.monthsTranslate||0,j=b.monthsTranslate,m=b.animating?!1:!0,e>f?(b.monthsTranslate--,h="next",b.animating||b.months.eq(b.months.length-1).remove(),b.wrapper.append(i),b.months=b.wrapper.find(".picker-calendar-month"),k=100*-(j-1)*g,b.months.eq(b.months.length-1).transform("translate3d("+(b.isH?k:0)+"%, "+(b.isH?0:k)+"%, 0)").addClass("picker-calendar-month-next")):(b.monthsTranslate++,h="prev",b.animating||b.months.eq(0).remove(),b.wrapper.prepend(i),b.months=b.wrapper.find(".picker-calendar-month"),k=100*-(j+1)*g,b.months.eq(0).transform("translate3d("+(b.isH?k:0)+"%, "+(b.isH?0:k)+"%, 0)").addClass("picker-calendar-month-prev")),b.params.onMonthAdd&&b.params.onMonthAdd(b,"next"===h?b.months.eq(b.months.length-1)[0]:b.months.eq(0)[0]),b.animating=!0,b.onMonthChangeStart(h),l=100*b.monthsTranslate*g,b.wrapper.transition(d).transform("translate3d("+(b.isH?l:0)+"%, "+(b.isH?0:l)+"%, 0)"),m&&b.wrapper.transitionEnd(function(){b.onMonthChangeEnd(h,!0)}),b.params.animate||b.onMonthChangeEnd(h),void 0)},b.nextYear=function(){b.setYearMonth(b.currentYear+1)},b.prevYear=function(){b.setYearMonth(b.currentYear-1)},b.layout=function(){var d,k,l,m,a="",c="",e=b.value&&b.value.length?b.value[0]:(new Date).setHours(0,0,0,0),f=b.monthHTML(e,"prev"),g=b.monthHTML(e),h=b.monthHTML(e,"next"),i='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(f+g+h)+"</div></div>",j="";if(b.params.weekHeader){for(d=0;7>d;d++)k=d+b.params.firstDay>6?d-7+b.params.firstDay:d+b.params.firstDay,l=b.params.dayNamesShort[k],j+='<div class="picker-calendar-week-day '+(b.params.weekendDays.indexOf(k)>=0?"picker-calendar-week-day-weekend":"")+'"> '+l+"</div>";j='<div class="picker-calendar-week-days">'+j+"</div>"}c="picker-modal picker-calendar "+(b.params.cssClass||""),m=b.params.toolbar?b.params.toolbarTemplate.replace(/{{closeText}}/g,b.params.toolbarCloseText):"",b.params.toolbar&&(m=b.params.toolbarTemplate.replace(/{{closeText}}/g,b.params.toolbarCloseText).replace(/{{monthPicker}}/g,b.params.monthPicker?b.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,b.params.yearPicker?b.params.yearPickerTemplate:"")),a='<div class="'+c+'">'+m+'<div class="picker-modal-inner">'+j+i+"</div>"+"</div>",b.pickerHTML=a},b.params.input&&(b.input=e(b.params.input),b.params.inputReadOnly&&b.input.prop("readOnly",!0),b.inline||b.input.on("click",k),b.params.inputReadOnly&&b.input.on("focus mousedown",function(a){a.preventDefault()})),b.inline||e("html").on("click",l),b.opened=!1,b.open=function(){var a=h(),d=!1;b.opened||(b.value||b.params.value&&(b.value=b.params.value,d=!0),b.layout(),a?(b.pickerHTML='<div class="popover popover-picker-calendar"><div class="popover-inner">'+b.pickerHTML+"</div></div>",b.popover=c.popover(b.pickerHTML,b.params.input,!0),b.container=e(b.popover).find(".picker-modal"),e(b.popover).on("close",function(){m()})):b.inline?(b.container=e(b.pickerHTML),b.container.addClass("picker-modal-inline"),e(b.params.container).append(b.container)):(b.container=e(c.pickerModal(b.pickerHTML)),e(b.container).on("close",function(){m()})),b.container[0].f7Calendar=b,b.wrapper=b.container.find(".picker-calendar-months-wrapper"),b.months=b.wrapper.find(".picker-calendar-month"),b.updateCurrentMonthYear(),b.monthsTranslate=0,b.setMonthsTranslate(),b.initCalendarEvents(),d&&b.updateValue()),b.opened=!0,b.initialized=!0,b.params.onMonthAdd&&b.months.each(function(){b.params.onMonthAdd(b,this)}),b.params.onOpen&&b.params.onOpen(b)},b.close=function(){return b.opened&&!b.inline?i()?(c.closeModal(b.popover),void 0):(c.closeModal(b.container),void 0):void 0},b.destroy=function(){b.close(),b.params.input&&b.input.off("click focus",k),e("html").off("click",l)},b.inline&&b.open(),b},c.calendar=function(a){return new B(a)},c.addNotification=function(a){var b,d,f,g,h;if(a)return"undefined"==typeof a.media&&(a.media=c.params.notificationMedia),"undefined"==typeof a.title&&(a.title=c.params.notificationTitle),"undefined"==typeof a.subtitle&&(a.subtitle=c.params.notificationSubtitle),"undefined"==typeof a.closeIcon&&(a.closeIcon=c.params.notificationCloseIcon),"undefined"==typeof a.hold&&(a.hold=c.params.notificationHold),"undefined"==typeof a.closeOnClick&&(a.closeOnClick=c.params.notificationCloseOnClick),C||(C=document.createElement("div")),b=e(".notifications"),0===b.length&&(e("body").append('<div class="notifications list-block media-list"><ul></ul></div>'),b=e(".notifications")),d=b.children("ul"),f=a.custom?"<li>"+a.custom+"</li>":'<li class="notification-item notification-hidden"><div class="item-content">'+(a.media?'<div class="item-media">'+a.media+"</div>":"")+'<div class="item-inner">'+'<div class="item-title-row">'+(a.title?'<div class="item-title">'+a.title+"</div>":"")+(a.closeIcon?'<div class="item-after"><a href="#" class="close-notification"><span></span></a></div>':"")+"</div>"+(a.subtitle?'<div class="item-subtitle">'+a.subtitle+"</div>":"")+(a.message?'<div class="item-text">'+a.message+"</div>":"")+"</div>"+"</div></li>",C.innerHTML=f,g=e(C).children(),g.on("click",function(b){var d=!1;e(b.target).is(".close-notification")||e(b.target).parents(".close-notification").length>0?d=!0:(a.onClick&&a.onClick(b,g[0]),a.closeOnClick&&(d=!0)),d&&c.closeNotification(g[0])}),a.onClose&&g.data("f7NotificationOnClose",function(){a.onClose(g[0])}),a.additionalClass&&g.addClass(a.additionalClass),a.hold&&setTimeout(function(){g.length>0&&c.closeNotification(g[0])},a.hold),d.prepend(g[0]),b.show(),h=g.outerHeight(),g.css("marginTop",-h+"px"),g.transition(0),g[0].clientLeft,g.transition(""),g.css("marginTop","0px"),b.transform("translate3d(0, 0,0)"),g.removeClass("notification-hidden"),g[0]},c.closeNotification=function(a){var b,c;a=e(a),0!==a.length&&(a.hasClass("notification-item-removing")||(b=e(".notifications"),c=a.outerHeight(),a.css("height",c+"px").transition(0),a[0].clientLeft,a.css("height","0px").transition("").addClass("notification-item-removing"),a.data("f7NotificationOnClose")&&a.data("f7NotificationOnClose")(),0===b.find(".notification-item:not(.notification-item-removing)").length&&b.transform(""),a.addClass("notification-hidden").transitionEnd(function(){a.remove(),0===b.find(".notification-item").length&&b.hide()})))},c.initTemplate7Templates=function(){window.Template7&&(Template7.templates=Template7.templates||c.params.templates||{},Template7.data=Template7.data||c.params.template7Data||{},Template7.cache=Template7.cache||{},c.templates=Template7.templates,c.template7Data=Template7.data,c.template7Cache=Template7.cache,c.params.precompileTemplates&&e('script[type="text/template7"]').each(function(){var a=e(this).attr("id");a&&(Template7.templates[a]=Template7.compile(e(this).html()))}))},D=[],c.initPlugins=function(){var a,b;for(a in c.plugins)b=c.plugins[a](c,c.params[a]),b&&D.push(b)},c.pluginHook=function(a){for(var b=0;b<D.length;b++)D[b].hooks&&a in D[b].hooks&&D[b].hooks[a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},c.pluginPrevent=function(a){var c,b=!1;for(c=0;c<D.length;c++)D[c].prevents&&a in D[c].prevents&&D[c].prevents[a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])&&(b=!0);return b},c.pluginProcess=function(a,b){var d,c=b;for(d=0;d<D.length;d++)D[d].preprocess&&process in D[d].preprocess&&(c=D[d].preprocess[process](b,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]));return c},c.init=function(){c.initTemplate7Templates&&c.initTemplate7Templates(),c.initPlugins&&c.initPlugins(),c.getDeviceInfo&&c.getDeviceInfo(),c.initFastClicks&&c.params.fastClicks&&c.initFastClicks(),c.initClickEvents&&c.initClickEvents(),e(".page:not(.cached)").each(function(){c.initPageWithCallback(this)}),c.initResize&&c.initResize(),c.initPushState&&c.params.pushState&&c.initPushState(),c.initSwipeout&&c.params.swipeout&&c.initSwipeout(),c.initSortable&&c.params.sortable&&c.initSortable(),c.initSwipePanels&&(c.params.swipePanel||c.params.swipePanelOnlyClose)&&c.initSwipePanels(),c.params.onAppInit&&c.params.onAppInit(),c.pluginHook("appInit")},c.params.init&&c.init(),c};var a=function(){var c,d,a=function(a){var b=this,c=0;for(c=0;c<a.length;c++)b[c]=a[c];return b.length=a.length,this},b=function(b,c){var f,g,h,i,d=[],e=0;if(b&&!c&&b instanceof a)return b;if(b)if("string"==typeof b)if(h=b.trim(),h.indexOf("<")>=0&&h.indexOf(">")>=0)for(i="div",0===h.indexOf("<li")&&(i="ul"),0===h.indexOf("<tr")&&(i="tbody"),(0===h.indexOf("<td")||0===h.indexOf("<th"))&&(i="tr"),0===h.indexOf("<tbody")&&(i="table"),0===h.indexOf("<option")&&(i="select"),g=document.createElement(i),g.innerHTML=b,e=0;e<g.childNodes.length;e++)d.push(g.childNodes[e]);else for(f=c||"#"!==b[0]||b.match(/[ .<>:~]/)?((c instanceof a?c[0]:c)||document).querySelectorAll(b):[document.getElementById(b.split("#")[1])],e=0;e<f.length;e++)f[e]&&d.push(f[e]);else if(b.nodeType||b===window||b===document)d.push(b);else if(b.length>0&&b[0].nodeType)for(e=0;e<b.length;e++)d.push(b[e]);return new a(d)};return a.prototype={addClass:function(a){var b,c,d;if("undefined"==typeof a)return this;for(b=a.split(" "),c=0;c<b.length;c++)for(d=0;d<this.length;d++)"undefined"!=typeof this[d].classList&&this[d].classList.add(b[c]);return this},removeClass:function(a){var c,d,b=a.split(" ");for(c=0;c<b.length;c++)for(d=0;d<this.length;d++)"undefined"!=typeof this[d].classList&&this[d].classList.remove(b[c]);return this},hasClass:function(a){return this[0]?this[0].classList.contains(a):!1},toggleClass:function(a){var c,d,b=a.split(" ");for(c=0;c<b.length;c++)for(d=0;d<this.length;d++)"undefined"!=typeof this[d].classList&&this[d].classList.toggle(b[c]);return this},attr:function(a,b){var c,d;if(1===arguments.length&&"string"==typeof a)return this[0]?this[0].getAttribute(a):void 0;for(c=0;c<this.length;c++)if(2===arguments.length)this[c].setAttribute(a,b);else for(d in a)this[c][d]=a[d],this[c].setAttribute(d,a[d]);return this},removeAttr:function(a){for(var b=0;b<this.length;b++)this[b].removeAttribute(a)},prop:function(a,b){var c,d;if(1===arguments.length&&"string"==typeof a)return this[0]?this[0][a]:void 0;for(c=0;c<this.length;c++)if(2===arguments.length)this[c][a]=b;else for(d in a)this[c][d]=a[d];return this},data:function(a,b){var c,d,e;if("undefined"==typeof b)return this[0]?(c=this[0].getAttribute("data-"+a),c?c:this[0].dom7ElementDataStorage&&a in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[a]:void 0):void 0;for(d=0;d<this.length;d++)e=this[d],e.dom7ElementDataStorage||(e.dom7ElementDataStorage={}),e.dom7ElementDataStorage[a]=b;return this
},dataset:function(){var c,d,e,f,g,a=this[0];if(a){if(c={},a.dataset)for(d in a.dataset)c[d]=a.dataset[d];else for(e=0;e<a.attributes.length;e++)f=a.attributes[e],f.name.indexOf("data-")>=0&&(c[b.camelCase(f.name.split("data-")[1])]=f.value);for(g in c)"false"===c[g]?c[g]=!1:"true"===c[g]?c[g]=!0:parseFloat(c[g])===1*c[g]&&(c[g]=1*c[g]);return c}return void 0},val:function(a){if("undefined"==typeof a)return this[0]?this[0].value:void 0;for(var b=0;b<this.length;b++)this[b].value=a;return this},transform:function(a){var b,c;for(b=0;b<this.length;b++)c=this[b].style,c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=a;return this},transition:function(a){var b,c;for("string"!=typeof a&&(a+="ms"),b=0;b<this.length;b++)c=this[b].style,c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=a;return this},on:function(a,c,d,e){function f(a){var f,g,e=a.target;if(b(e).is(c))d.call(e,a);else for(f=b(e).parents(),g=0;g<f.length;g++)b(f[g]).is(c)&&d.call(f[g],a)}var h,i,g=a.split(" ");for(h=0;h<this.length;h++)if("function"==typeof c||c===!1)for("function"==typeof c&&(d=arguments[1],e=arguments[2]||!1),i=0;i<g.length;i++)this[h].addEventListener(g[i],d,e);else for(i=0;i<g.length;i++)this[h].dom7LiveListeners||(this[h].dom7LiveListeners=[]),this[h].dom7LiveListeners.push({listener:d,liveListener:f}),this[h].addEventListener(g[i],f,e);return this},off:function(a,b,c,d){var f,g,h,e=a.split(" ");for(f=0;f<e.length;f++)for(g=0;g<this.length;g++)if("function"==typeof b||b===!1)"function"==typeof b&&(c=arguments[1],d=arguments[2]||!1),this[g].removeEventListener(e[f],c,d);else if(this[g].dom7LiveListeners)for(h=0;h<this[g].dom7LiveListeners.length;h++)this[g].dom7LiveListeners[h].listener===c&&this[g].removeEventListener(e[f],this[g].dom7LiveListeners[h].liveListener,d);return this},once:function(a,b,c,d){function f(g){c(g),e.off(a,b,f,d)}var e=this;"function"==typeof b&&(b=!1,c=arguments[1],d=arguments[2]),e.on(a,b,f,d)},trigger:function(a,b){var c,d;for(c=0;c<this.length;c++){try{d=new CustomEvent(a,{detail:b,bubbles:!0,cancelable:!0})}catch(e){d=document.createEvent("Event"),d.initEvent(a,!0,!0),d.detail=b}this[c].dispatchEvent(d)}return this},transitionEnd:function(a){function f(d){if(d.target===this)for(a.call(this,d),c=0;c<b.length;c++)e.off(b[c],f)}var c,b=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=this;if(a)for(c=0;c<b.length;c++)e.on(b[c],f);return this},animationEnd:function(a){function f(d){for(a(d),c=0;c<b.length;c++)e.off(b[c],f)}var c,b=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],e=this;if(a)for(c=0;c<b.length;c++)e.on(b[c],f);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(a){return this.length>0?a?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(a){return this.length>0?a?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){var a,b,c,d,e,f,g;return this.length>0?(a=this[0],b=a.getBoundingClientRect(),c=document.body,d=a.clientTop||c.clientTop||0,e=a.clientLeft||c.clientLeft||0,f=window.pageYOffset||a.scrollTop,g=window.pageXOffset||a.scrollLeft,{top:b.top+f-d,left:b.left+g-e}):null},hide:function(){for(var a=0;a<this.length;a++)this[a].style.display="none";return this},show:function(){for(var a=0;a<this.length;a++)this[a].style.display="block";return this},css:function(a,b){var c,d;if(1===arguments.length){if("string"!=typeof a){for(c=0;c<this.length;c++)for(d in a)this[c].style[d]=a[d];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(a)}if(2===arguments.length&&"string"==typeof a){for(c=0;c<this.length;c++)this[c].style[a]=b;return this}return this},each:function(a){for(var b=0;b<this.length;b++)a.call(this[b],b,this[b]);return this},html:function(a){if("undefined"==typeof a)return this[0]?this[0].innerHTML:void 0;for(var b=0;b<this.length;b++)this[b].innerHTML=a;return this},text:function(a){if("undefined"==typeof a)return this[0]?this[0].textContent.trim():null;for(var b=0;b<this.length;b++)this[b].textContent=a},is:function(c){var d,e,f;if(!this[0])return!1;if("string"==typeof c){if(f=this[0],f===document)return c===document;if(f===window)return c===window;if(f.matches)return f.matches(c);if(f.webkitMatchesSelector)return f.webkitMatchesSelector(c);if(f.mozMatchesSelector)return f.mozMatchesSelector(c);if(f.msMatchesSelector)return f.msMatchesSelector(c);for(d=b(c),e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}if(c===document)return this[0]===document;if(c===window)return this[0]===window;if(c.nodeType||c instanceof a){for(d=c.nodeType?[c]:c,e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}return!1},indexOf:function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b},index:function(){var a,b;if(this[0]){for(a=this[0],b=0;null!==(a=a.previousSibling);)1===a.nodeType&&b++;return b}return void 0},eq:function(b){var c,d;return"undefined"==typeof b?this:(c=this.length,b>c-1?new a([]):0>b?(d=c+b,0>d?new a([]):new a([this[d]])):new a([this[b]]))},append:function(b){var c,d,e;for(c=0;c<this.length;c++)if("string"==typeof b)for(e=document.createElement("div"),e.innerHTML=b;e.firstChild;)this[c].appendChild(e.firstChild);else if(b instanceof a)for(d=0;d<b.length;d++)this[c].appendChild(b[d]);else this[c].appendChild(b);return this},prepend:function(b){var c,d,e;for(c=0;c<this.length;c++)if("string"==typeof b)for(e=document.createElement("div"),e.innerHTML=b,d=e.childNodes.length-1;d>=0;d--)this[c].insertBefore(e.childNodes[d],this[c].childNodes[0]);else if(b instanceof a)for(d=0;d<b.length;d++)this[c].insertBefore(b[d],this[c].childNodes[0]);else this[c].insertBefore(b,this[c].childNodes[0]);return this},insertBefore:function(a){var d,e,c=b(a);for(d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0]);else if(c.length>1)for(e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e])},insertAfter:function(a){var d,e,c=b(a);for(d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0].nextSibling);else if(c.length>1)for(e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e].nextSibling)},next:function(c){return this.length>0?c?this[0].nextElementSibling&&b(this[0].nextElementSibling).is(c)?new a([this[0].nextElementSibling]):new a([]):this[0].nextElementSibling?new a([this[0].nextElementSibling]):new a([]):new a([])},nextAll:function(c){var f,d=[],e=this[0];if(!e)return new a([]);for(;e.nextElementSibling;)f=e.nextElementSibling,c?b(f).is(c)&&d.push(f):d.push(f),e=f;return new a(d)},prev:function(c){return this.length>0?c?this[0].previousElementSibling&&b(this[0].previousElementSibling).is(c)?new a([this[0].previousElementSibling]):new a([]):this[0].previousElementSibling?new a([this[0].previousElementSibling]):new a([]):new a([])},prevAll:function(c){var f,d=[],e=this[0];if(!e)return new a([]);for(;e.previousElementSibling;)f=e.previousElementSibling,c?b(f).is(c)&&d.push(f):d.push(f),e=f;return new a(d)},parent:function(a){var d,c=[];for(d=0;d<this.length;d++)a?b(this[d].parentNode).is(a)&&c.push(this[d].parentNode):c.push(this[d].parentNode);return b(b.unique(c))},parents:function(a){var d,e,c=[];for(d=0;d<this.length;d++)for(e=this[d].parentNode;e;)a?b(e).is(a)&&c.push(e):c.push(e),e=e.parentNode;return b(b.unique(c))},find:function(b){var d,e,f,c=[];for(d=0;d<this.length;d++)for(e=this[d].querySelectorAll(b),f=0;f<e.length;f++)c.push(e[f]);return new a(c)},children:function(c){var e,f,g,d=[];for(e=0;e<this.length;e++)for(f=this[e].childNodes,g=0;g<f.length;g++)c?1===f[g].nodeType&&b(f[g]).is(c)&&d.push(f[g]):1===f[g].nodeType&&d.push(f[g]);return new a(b.unique(d))},remove:function(){for(var a=0;a<this.length;a++)this[a].parentNode&&this[a].parentNode.removeChild(this[a]);return this},detach:function(){return this.remove()},add:function(){var c,d,e,a=this;for(c=0;c<arguments.length;c++)for(e=b(arguments[c]),d=0;d<e.length;d++)a[a.length]=e[d],a.length++;return a}},function(){function e(c){a.prototype[c]=function(a){var e;if("undefined"==typeof a){for(e=0;e<this.length;e++)d.indexOf(c)<0&&(c in this[e]?this[e][c]():b(this[e]).trigger(c));return this}return this.on(c,a)}}var f,c="click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll".split(" "),d="resize scroll".split(" ");for(f=0;f<c.length;f++)e(c[f])}(),c={},b.ajaxSetup=function(a){a.type&&(a.method=a.type);for(var b in a)c[b]=a[b]},d=0,b.ajax=function(a){function h(d,e,f){var g=arguments;d&&b(document).trigger(d,e),f&&(f in c&&c[f](g[3],g[4],g[5],g[6]),a[f]&&a[f](g[3],g[4],g[5],g[6]))}var g,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,e={method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0},f=["beforeSend","error","complete","success","statusCode"];a.type&&(a.method=a.type);for(g in c)f.indexOf(g)<0&&(e[g]=c[g]);for(i in e)i in a||(a[i]=e[i]);if(a.url||(a.url=window.location.toString()),j=a.method.toUpperCase(),"GET"!==j&&"HEAD"!==j||!a.data||(k="string"==typeof a.data?a.data.indexOf("?")>=0?a.data.split("?")[1]:a.data:b.serializeObject(a.data),a.url+=a.url.indexOf("?")>=0?"&"+k:"?"+k),"json"===a.dataType&&a.url.indexOf("callback=")>=0)return l="f7jsonp_"+Date.now()+d++,o=a.url.split("callback="),o[1].indexOf("&")>=0?(p=o[1].split("&").filter(function(a){return a.indexOf("=")>0}).join("&"),m=o[0]+"callback="+l+(p.length>0?"&"+p:"")):m=o[0]+"callback="+l,q=document.createElement("script"),q.type="text/javascript",q.onerror=function(){clearTimeout(n),h(void 0,void 0,"error",null,"scripterror")},q.src=m,window[l]=function(a){clearTimeout(n),h(void 0,void 0,"success",a),q.parentNode.removeChild(q),q=null,delete window[l]},document.querySelector("head").appendChild(q),a.timeout>0&&(n=setTimeout(function(){q.parentNode.removeChild(q),q=null,h(void 0,void 0,"error",null,"timeout")},a.timeout)),void 0;if(("GET"===j||"HEAD"===j)&&a.cache===!1&&(a.url+=a.url.indexOf("?")>=0?"&_nocache="+Date.now():"?_nocache="+Date.now()),r=new XMLHttpRequest,r.requestUrl=a.url,r.open(j,a.url,a.async,a.user,a.password),s=null,("POST"===j||"PUT"===j)&&a.data)if(a.processData)if(t=[ArrayBuffer,Blob,Document,FormData],t.indexOf(a.data.constructor)>=0)s=a.data;else if(u="---------------------------"+Date.now().toString(16),"multipart/form-data"===a.contentType?r.setRequestHeader("Content-Type","multipart/form-data; boundary="+u):r.setRequestHeader("Content-Type",a.contentType),s="",v=b.serializeObject(a.data),"multipart/form-data"===a.contentType){for(u="---------------------------"+Date.now().toString(16),v=v.split("&"),w=[],x=0;x<v.length;x++)w.push('Content-Disposition: form-data; name="'+v[x].split("=")[0]+'"\r\n\r\n'+v[x].split("=")[1]+"\r\n");s="--"+u+"\r\n"+w.join("--"+u+"\r\n")+"--"+u+"--\r\n"}else s="application/x-www-form-urlencoded"===a.contentType?v:v.replace(/&/g,"\r\n");else s=a.data;if(a.headers)for(y in a.headers)r.setRequestHeader(y,a.headers[y]);if("undefined"==typeof a.crossDomain&&(a.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(a.url)&&RegExp.$2!==window.location.host),a.crossDomain||r.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.xhrFields)for(z in a.xhrFields)r[z]=a.xhrFields[z];return r.onload=function(){if(A&&clearTimeout(A),200===r.status||0===r.status){var e;if("json"===a.dataType)try{e=JSON.parse(r.responseText),h("ajaxSuccess",{xhr:r},"success",e,r.status,r)}catch(b){h("ajaxError",{xhr:r,parseerror:!0},"error",r,"parseerror")}else h("ajaxSuccess",{xhr:r},"success",r.responseText,r.status,r)}else h("ajaxError",{xhr:r},"error",r,r.status);a.statusCode&&(c.statusCode&&c.statusCode[r.status]&&c.statusCode[r.status](r),a.statusCode[r.status]&&a.statusCode[r.status](r)),h("ajaxComplete",{xhr:r},"complete",r,r.status)},r.onerror=function(){A&&clearTimeout(A),h("ajaxError",{xhr:r},"error",r,r.status)},h("ajaxStart",{xhr:r},"start",r),h(void 0,void 0,"beforeSend",r),r.send(s),a.timeout>0&&(A=setTimeout(function(){r.abort(),h("ajaxError",{xhr:r,timeout:!0},"error",r,"timeout"),h("ajaxComplete",{xhr:r,timeout:!0},"complete",r,"timeout")},a.timeout)),r},function(){function c(a){b[a]=function(c,d,e){return b.ajax({url:c,method:"post"===a?"POST":"GET",data:"function"==typeof d?void 0:d,success:"function"==typeof d?d:e,dataType:"getJSON"===a?"json":void 0})}}var d,a="get post getJSON".split(" ");for(d=0;d<a.length;d++)c(a[d])}(),b.parseUrlQuery=function(a){var c,d,e,b={};if(!(a.indexOf("?")>=0))return b;for(a=a.split("?")[1],d=a.split("&"),c=0;c<d.length;c++)e=d[c].split("="),b[e[0]]=e[1];return b},b.isArray=function(a){return"[object Array]"===Object.prototype.toString.apply(a)?!0:!1},b.unique=function(a){var c,b=[];for(c=0;c<a.length;c++)-1===b.indexOf(a[c])&&b.push(a[c]);return b},b.serializeObject=function(a){var c,d,e,f,g;if("string"==typeof a)return a;c=[],d="&";for(e in a)if(b.isArray(a[e])){for(f=[],g=0;g<a[e].length;g++)f.push(e+"="+a[e][g]);c.push(f.join(d))}else c.push(e+"="+a[e]);return c.join(d)},b.camelCase=function(a){return a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})},b.dataset=function(a){return b(a).dataset()},b.getTranslate=function(a,b){var c,d,e,f;return"undefined"==typeof b&&(b="x"),e=window.getComputedStyle(a,null),window.WebKitCSSMatrix?f=new WebKitCSSMatrix("none"===e.webkitTransform?"":e.webkitTransform):(f=e.MozTransform||e.OTransform||e.MsTransform||e.msTransform||e.transform||e.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),c=f.toString().split(",")),"x"===b&&(d=window.WebKitCSSMatrix?f.m41:16===c.length?parseFloat(c[12]):parseFloat(c[4])),"y"===b&&(d=window.WebKitCSSMatrix?f.m42:16===c.length?parseFloat(c[13]):parseFloat(c[5])),d||0},b.requestAnimationFrame=function(a){return window.requestAnimationFrame?window.requestAnimationFrame(a):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(a):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(a):window.setTimeout(a,1e3/60)},b.cancelAnimationFrame=function(a){return window.cancelAnimationFrame?window.cancelAnimationFrame(a):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(a):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(a):window.clearTimeout(a)},b.supportTouch=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),b.fn=a.prototype,b.fn.scrollTo=function(a,c,d,e){return this.each(function(){function r(a){var j,s,t;void 0===a&&(a=(new Date).getTime()),null===q&&(q=a),s=Math.max(Math.min((a-q)/d,1),0),t="linear"===e?s:.5-Math.cos(s*Math.PI)/2,o&&(m=g+t*(k-g)),p&&(n=h+t*(l-h)),o&&k>g&&m>=k&&(f.scrollTop=k,j=!0),o&&g>k&&k>=m&&(f.scrollTop=k,j=!0),p&&l>h&&n>=l&&(f.scrollLeft=l,j=!0),p&&h>l&&l>=n&&(f.scrollLeft=l,j=!0),j||(o&&(f.scrollTop=m),p&&(f.scrollLeft=n),b.requestAnimationFrame(r))}var g,h,i,j,k,l,m,n,q,f=this,o=c>0||0===c,p=a>0||0===a;"undefined"==typeof e&&(e="swing"),o&&(g=f.scrollTop,d||(f.scrollTop=c)),p&&(h=f.scrollLeft,d||(f.scrollLeft=a)),d&&(o&&(i=f.scrollHeight-f.offsetHeight,k=Math.max(Math.min(c,i),0)),p&&(j=f.scrollWidth-f.offsetWidth,l=Math.max(Math.min(a,j),0)),q=null,o&&k===g&&(o=!1),p&&l===h&&(p=!1),b.requestAnimationFrame(r))})},b.fn.scrollTop=function(a,b,c){var d=this;return"undefined"==typeof a?d.length>0?d[0].scrollTop:null:d.scrollTo(void 0,a,b,c)},b.fn.scrollLeft=function(a,b,c){var d=this;return"undefined"==typeof a?d.length>0?d[0].scrollLeft:null:d.scrollTo(a,void 0,b,c)},b}();Framework7.$=a,window.Dom7=a,Framework7.prototype.support=function(){var a={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)};return a}(),Framework7.prototype.device=function(){var i,j,k,l,m,n,b={},c=navigator.userAgent,d=a,e=c.match(/(Android);?[\s\/]+([\d.]+)?/),f=c.match(/(iPad).*OS\s([\d_]+)/),g=c.match(/(iPod)(.*OS\s([\d_]+))?/),h=!f&&c.match(/(iPhone\sOS)\s([\d_]+)/);if(b.ios=b.android=b.iphone=b.ipad=b.androidChrome=!1,e&&(b.os="android",b.osVersion=e[2],b.android=!0,b.androidChrome=c.toLowerCase().indexOf("chrome")>=0),(f||h||g)&&(b.os="ios",b.ios=!0),h&&!g&&(b.osVersion=h[2].replace(/_/g,"."),b.iphone=!0),f&&(b.osVersion=f[2].replace(/_/g,"."),b.ipad=!0),g&&(b.osVersion=g[3]?g[3].replace(/_/g,"."):null,b.iphone=!0),b.ios&&b.osVersion&&c.indexOf("Version/")>=0&&"10"===b.osVersion.split(".")[0]&&(b.osVersion=c.toLowerCase().split("version/")[1].split(" ")[0]),b.webView=(h||f||g)&&c.match(/.*AppleWebKit(?!.*Safari)/i),b.os&&"ios"===b.os&&(i=b.osVersion.split("."),b.minimalUi=!b.webView&&(g||h)&&(7===1*i[0]?1*i[1]>=1:1*i[0]>7)&&d('meta[name="viewport"]').length>0&&d('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0),j=d(window).width(),k=d(window).height(),b.statusBar=!1,b.statusBar=b.webView&&j*k===screen.width*screen.height?!0:!1,l=[],b.pixelRatio=window.devicePixelRatio||1,l.push("pixel-ratio-"+Math.floor(b.pixelRatio)),b.pixelRatio>=2&&l.push("retina"),b.os&&(l.push(b.os,b.os+"-"+b.osVersion.split(".")[0],b.os+"-"+b.osVersion.replace(/\./g,"-")),"ios"===b.os))for(m=parseInt(b.osVersion.split(".")[0],10),n=m-1;n>=6;n--)l.push("ios-gt-"+n);return b.statusBar?l.push("with-statusbar-overlay"):d("html").removeClass("with-statusbar-overlay"),l.length>0&&d("html").addClass(l.join(" ")),b}(),Framework7.prototype.plugins={},window.Template7=function(){function a(a){return"[object Array]"===Object.prototype.toString.apply(a)}function c(a){return"function"==typeof a}function e(a){var d,e,f,g,h,i,j,k,b=a.replace(/[{}#}]/g,"").split(" "),c=[];for(e=0;e<b.length;e++)if(g=b[e],0===e)c.push(g);else if(0===g.indexOf('"'))if(2===g.match(/"/g).length)c.push(g);else{for(d=0,f=e+1;f<b.length;f++)if(g+=" "+b[f],b[f].indexOf('"')>=0){d=f,c.push(g);break}d&&(e=d)}else if(g.indexOf("=")>0){if(h=g.split("="),i=h[0],j=h[1],2!==j.match(/"/g).length){for(d=0,f=e+1;f<b.length;f++)if(j+=" "+b[f],b[f].indexOf('"')>=0){d=f;break}d&&(e=d)}k=[i,j.replace(/"/g,"")],c.push(k)}else c.push(g);return c}function f(b){var d,f,h,i,j,k,l,m,n,p,q,r,s,t,u,w,c=[];if(!b)return[];for(h=b.split(/({{[^{^}]*}})/),d=0;d<h.length;d++)if(i=h[d],""!==i)if(i.indexOf("{{")<0)c.push({type:"plain",content:i});else{if(i.indexOf("{/")>=0)continue;if(i.indexOf("{#")<0&&i.indexOf(" ")<0&&i.indexOf("else")<0){c.push({type:"variable",contextName:i.replace(/[{}]/g,"")});continue}for(j=e(i),k=j[0],l=[],m={},f=1;f<j.length;f++)n=j[f],a(n)?m[n[0]]="false"===n[1]?!1:n[1]:l.push(n);if(i.indexOf("{#")>=0){for(p="",q="",r=0,t=!1,u=!1,w=0,f=d+1;f<h.length;f++)if(h[f].indexOf("{{#")>=0&&w++,h[f].indexOf("{{/")>=0&&w--,h[f].indexOf("{{#"+k)>=0)p+=h[f],u&&(q+=h[f]),r++;else if(h[f].indexOf("{{/"+k)>=0){if(!(r>0)){s=f,t=!0;break}r--,p+=h[f],u&&(q+=h[f])}else h[f].indexOf("else")>=0&&0===w?u=!0:(u||(p+=h[f]),u&&(q+=h[f]));t&&(s&&(d=s),c.push({type:"helper",helperName:k,contextName:l,content:p,inverseContent:q,hash:m}))}else i.indexOf(" ")>0&&c.push({type:"helper",helperName:k,contextName:l,hash:m})}return c}var h,g=function(a){function c(a,b){return a.content?h(a.content,b):function(){return""}}function d(a,b){return a.inverseContent?h(a.inverseContent,b):function(){return""}}function e(a,b){var d,f,g,h;return a.indexOf("@global")>=0?d="(Template7.global && Template7.global."+a.split("@global.")[1]+")":a.indexOf("@")>=0?d="(data && data."+a.replace("@","")+")":a.indexOf(".")>0?d=0===a.indexOf("this")?a.replace("this",b):b+"."+a:0===a.indexOf("../")?(f=a.split("../").length-1,g=a.split("../")[a.split("../").length-1],h=b.split("_")[1]-f,d="ctx_"+(h>=1?h:1)+"."+g):d="this"===a?b:b+"."+a,d}function g(a,b){var d,c=[];for(d=0;d<a.length;d++)0===a[d].indexOf('"')?c.push(a[d]):c.push(e(a[d],b));return c.join(", ")}function h(a,h){var i,j,k,l,o,p,q;if(h=h||1,a=a||b.template,"string"!=typeof a)throw new Error("Template7: Template must be a string");if(i=f(a),0===i.length)return function(){return""};for(j="ctx_"+h,k="(function ("+j+", data) {\n",1===h&&(k+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",k+="function isFunction(func){return (typeof func === 'function');}\n",k+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),k+="var r = '';\n",l=0;l<i.length;l++)if(o=i[l],"plain"!==o.type){if("variable"===o.type&&(p=e(o.contextName,j),k+="r += c("+p+", "+j+");"),"helper"===o.type)if(o.helperName in b.helpers)q=g(o.contextName,j),k+="r += (Template7.helpers."+o.helperName+").call("+j+", "+(q&&q+",")+"{hash:"+JSON.stringify(o.hash)+", data: data || {}, fn: "+c(o,h+1)+", inverse: "+d(o,h+1)+"});";else{if(o.contextName.length>0)throw new Error('Template7: Missing helper: "'+o.helperName+'"');p=e(o.helperName,j),k+="if ("+p+") {",k+="if (isArray("+p+")) {",k+="r += (Template7.helpers.each).call("+j+", "+p+", {hash:"+JSON.stringify(o.hash)+", data: data || {}, fn: "+c(o,h+1)+", inverse: "+d(o,h+1)+"});",k+="}else {",k+="r += (Template7.helpers.with).call("+j+", "+p+", {hash:"+JSON.stringify(o.hash)+", data: data || {}, fn: "+c(o,h+1)+", inverse: "+d(o,h+1)+"});",k+="}}"}}else k+="r +='"+o.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';";return k+="\nreturn r;})",eval.call(window,k)}var b=this;b.template=a,b.compile=function(a){return b.compiled||(b.compiled=h(a)),b.compiled}};return g.prototype={options:{},helpers:{"if":function(a,b){return c(a)&&(a=a.call(this)),a?b.fn(this,b.data):b.inverse(this,b.data)},unless:function(a,b){return c(a)&&(a=a.call(this)),a?b.inverse(this,b.data):b.fn(this,b.data)},each:function(b,d){var g,e="",f=0;if(c(b)&&(b=b.call(this)),a(b)){for(d.hash.reverse&&(b=b.reverse()),f=0;f<b.length;f++)e+=d.fn(b[f],{first:0===f,last:f===b.length-1,index:f});d.hash.reverse&&(b=b.reverse())}else for(g in b)f++,e+=d.fn(b[g],{key:g});return f>0?e:d.inverse(this)},"with":function(a,b){return c(a)&&(a=a.call(this)),b.fn(a)},join:function(a,b){return c(a)&&(a=a.call(this)),a.join(b.hash.delimiter||b.hash.delimeter)}}},h=function(a,b){var c,d;return 2===arguments.length?(c=new g(a),d=c.compile()(b),c=null,d):new g(a)},h.registerHelper=function(a,b){g.prototype.helpers[a]=b},h.unregisterHelper=function(a){g.prototype.helpers[a]=void 0,delete g.prototype.helpers[a]},h.compile=function(a,b){var c=new g(a,b);return c.compile()},h.options=g.prototype.options,h.helpers=g.prototype.helpers,h}(),window.Swiper=function(b,c){function i(){return"horizontal"===g.params.direction}function j(){g.autoplayTimeoutId=setTimeout(function(){g.params.loop?(g.fixLoop(),g._slideNext()):g.isEnd?c.autoplayStopOnLast?g.stopAutoplay():g._slideTo(0):g._slideNext()},g.params.autoplay)}function l(a,b){var d,c=h(a.target);if(!c.is(b))if("string"==typeof b)c=c.parents(b);else if(b.nodeType)return c.parents().each(function(a,c){c===b&&(d=b)}),d?b:void 0;return 0===c.length?void 0:c[0]}function z(a,b){var c,d;b=b||{},c=window.MutationObserver||window.WebkitMutationObserver,d=new c(function(a){a.forEach(function(a){g.onResize(),g.params.onObserverUpdate&&g.params.onObserverUpdate(g,a)})}),d.observe(a,{attributes:"undefined"==typeof b.attributes?!0:b.attributes,childList:"undefined"==typeof b.childList?!0:b.childList,characterData:"undefined"==typeof b.characterData?!0:b.characterData}),g.observers.push(d)}function A(a,b){a=h(a);var c,d,e,f,g;c=a.attr("data-swiper-parallax"),d=a.attr("data-swiper-parallax-x"),e=a.attr("data-swiper-parallax-y"),d||e||!c?(d=d?d:"0",e=e?e:"0"):i()?(d=c,e="0"):(e=c,d="0"),d=d.indexOf("%")>=0?parseInt(d,10)*b+"%":d*b+"px",e=e.indexOf("%")>=0?parseInt(e,10)*b+"%":e*b+"px",f=d,g=e,a.transform("translate3d("+f+", "+g+",0px)")}var e,f,g,h,k,m,n,o,p,q,r,s,v,x,t,u,w,y,d={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelForceToAxis:!1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,runCallbacksOnInit:!0};c=c||{};for(e in d)if("undefined"==typeof c[e])c[e]=d[e];else if("object"==typeof c[e])for(f in d[e])"undefined"==typeof c[e][f]&&(c[e][f]=d[e][f]);return g=this,g.params=c,h="undefined"==typeof a?window.Dom7||window.Zepto||window.jQuery:a,h&&(g.container=h(b),0!==g.container.length)?g.container.length>1?(g.container.each(function(){new Swiper(this,c)}),void 0):(g.container[0].swiper=g,g.container.data("swiper",g),g.container.addClass("swiper-container-"+g.params.direction),g.params.freeMode&&g.container.addClass("swiper-container-free-mode"),(g.params.parallax||g.params.watchSlidesVisibility)&&(g.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(g.params.effect)>=0&&(g.support.transforms3d?(g.params.watchSlidesProgress=!0,g.container.addClass("swiper-container-3d")):g.params.effect="slide"),"slide"!==g.params.effect&&g.container.addClass("swiper-container-"+g.params.effect),"cube"===g.params.effect&&(g.params.resistanceRatio=0,g.params.slidesPerView=1,g.params.slidesPerColumn=1,g.params.slidesPerGroup=1,g.params.centeredSlides=!1,g.params.spaceBetween=0),"fade"===g.params.effect&&(g.params.watchSlidesProgress=!0,g.params.spaceBetween=0),g.params.grabCursor&&g.support.touch&&(g.params.grabCursor=!1),g.wrapper=g.container.children("."+g.params.wrapperClass),g.params.pagination&&(g.paginationContainer=h(g.params.pagination),g.params.paginationClickable&&g.paginationContainer.addClass("swiper-pagination-clickable")),g.rtl=i()&&("rtl"===g.container[0].dir.toLowerCase()||"rtl"===g.container.css("direction")),g.rtl&&g.container.addClass("swiper-container-rtl"),g.rtl&&(g.wrongRTL="-webkit-box"===g.wrapper.css("display")),g.translate=0,g.progress=0,g.velocity=0,g.lockSwipeToNext=function(){g.params.allowSwipeToNext=!1},g.lockSwipeToPrev=function(){g.params.allowSwipeToPrev=!1},g.lockSwipes=function(){g.params.allowSwipeToNext=g.params.allowSwipeToPrev=!1},g.unlockSwipeToNext=function(){g.params.allowSwipeToNext=!0},g.unlockSwipeToPrev=function(){g.params.allowSwipeToPrev=!0},g.unlockSwipes=function(){g.params.allowSwipeToNext=g.params.allowSwipeToPrev=!0},g.params.slidesPerColumn>1&&g.container.addClass("swiper-container-multirow"),g.params.grabCursor&&(g.container[0].style.cursor="move",g.container[0].style.cursor="-webkit-grab",g.container[0].style.cursor="-moz-grab",g.container[0].style.cursor="grab"),g.imagesToLoad=[],g.imagesLoaded=0,g.loadImage=function(a,b,c,d){function f(){d&&d()}var e;a.complete&&c?f():b?(e=new Image,e.onload=f,e.onerror=f,e.src=b):f()},g.preloadImages=function(){function a(){"undefined"!=typeof g&&null!==g&&(void 0!==g.imagesLoaded&&g.imagesLoaded++,g.imagesLoaded===g.imagesToLoad.length&&(g.params.updateOnImagesReady&&g.update(),g.params.onImagesReady&&g.params.onImagesReady(g)))}g.imagesToLoad=g.container.find("img");for(var b=0;b<g.imagesToLoad.length;b++)g.loadImage(g.imagesToLoad[b],g.imagesToLoad[b].currentSrc||g.imagesToLoad[b].getAttribute("src"),!0,a)},g.autoplayTimeoutId=void 0,g.autoplaying=!1,g.autoplayPaused=!1,g.startAutoplay=function(){return"undefined"!=typeof g.autoplayTimeoutId?!1:g.params.autoplay?g.autoplaying?!1:(g.autoplaying=!0,g.params.onAutoplayStart&&g.params.onAutoplayStart(g),j(),void 0):!1},g.stopAutoplay=function(){g.autoplayTimeoutId&&(g.autoplayTimeoutId&&clearTimeout(g.autoplayTimeoutId),g.autoplaying=!1,g.autoplayTimeoutId=void 0,g.params.onAutoplayStop&&g.params.onAutoplayStop(g))},g.pauseAutoplay=function(a){g.autoplayPaused||(g.autoplayTimeoutId&&clearTimeout(g.autoplayTimeoutId),g.autoplayPaused=!0,0===a?(g.autoplayPaused=!1,j()):g.wrapper.transitionEnd(function(){g.autoplayPaused=!1,g.autoplaying?j():g.stopAutoplay()}))},g.minTranslate=function(){return-g.snapGrid[0]},g.maxTranslate=function(){return-g.snapGrid[g.snapGrid.length-1]},g.updateContainerSize=function(){g.width=g.container[0].clientWidth,g.height=g.container[0].clientHeight,g.size=i()?g.width:g.height},g.updateSlidesSize=function(){var c,a,b,d,e,f,h,j,k,l,m,n,o,p;for(g.slides=g.wrapper.children("."+g.params.slideClass),g.snapGrid=[],g.slidesGrid=[],g.slidesSizesGrid=[],a=g.params.spaceBetween,b=0,d=0,e=0,"string"==typeof a&&a.indexOf("%")>=0&&(a=parseFloat(a.replace("%",""))/100*g.size),g.virtualWidth=-a,g.rtl?g.slides.css({marginLeft:"",marginTop:""}):g.slides.css({marginRight:"",marginBottom:""}),g.params.slidesPerColumn>1&&(f=Math.floor(g.slides.length/g.params.slidesPerColumn)===g.slides.length/g.params.slidesPerColumn?g.slides.length:Math.ceil(g.slides.length/g.params.slidesPerColumn)*g.params.slidesPerColumn),c=0;c<g.slides.length;c++)h=0,j=g.slides.eq(c),g.params.slidesPerColumn>1&&(n=g.params.slidesPerColumn,"column"===g.params.slidesPerColumnFill?(l=Math.floor(c/n),m=c-l*n,k=l+m*f/n,j.css({"-webkit-box-ordinal-group":k,"-moz-box-ordinal-group":k,"-ms-flex-order":k,"-webkit-order":k,order:k})):(o=f/n,m=Math.floor(c/o),l=c-m*o),j.css({"margin-top":0!==m&&g.params.spaceBetween&&g.params.spaceBetween+"px"}).attr("data-swiper-column",l).attr("data-swiper-row",m)),"none"!==j.css("display")&&("auto"===g.params.slidesPerView?h=i()?j.outerWidth(!0):j.outerHeight(!0):(h=(g.size-(g.params.slidesPerView-1)*a)/g.params.slidesPerView,i()?g.slides[c].style.width=h+"px":g.slides[c].style.height=h+"px"),g.slides[c].swiperSlideSize=h,g.slidesSizesGrid.push(h),g.params.centeredSlides?(b=b+h/2+d/2+a,0===c&&(b=b-g.size/2-a),Math.abs(b)<.001&&(b=0),0===e%g.params.slidesPerGroup&&g.snapGrid.push(b),g.slidesGrid.push(b)):(0===e%g.params.slidesPerGroup&&g.snapGrid.push(b),g.slidesGrid.push(b),b=b+h+a),g.virtualWidth+=h+a,d=h,e++);if(g.virtualWidth=Math.max(g.virtualWidth,g.size),g.rtl&&g.wrongRTL&&("slide"===g.params.effect||"coverflow"===g.params.effect)&&g.wrapper.css({width:g.virtualWidth+g.params.spaceBetween+"px"}),g.params.slidesPerColumn>1&&(g.virtualWidth=(h+g.params.spaceBetween)*f,g.virtualWidth=Math.ceil(g.virtualWidth/g.params.slidesPerColumn)-g.params.spaceBetween,g.wrapper.css({width:g.virtualWidth+g.params.spaceBetween+"px"}),g.params.centeredSlides)){for(p=[],c=0;c<g.snapGrid.length;c++)g.snapGrid[c]<g.virtualWidth+g.snapGrid[0]&&p.push(g.snapGrid[c]);
g.snapGrid=p}if(!g.params.centeredSlides){for(p=[],c=0;c<g.snapGrid.length;c++)g.snapGrid[c]<=g.virtualWidth-g.size&&p.push(g.snapGrid[c]);g.snapGrid=p,Math.floor(g.virtualWidth-g.size)>Math.floor(g.snapGrid[g.snapGrid.length-1])&&g.snapGrid.push(g.virtualWidth-g.size)}0===g.snapGrid.length&&(g.snapGrid=[0]),0!==g.params.spaceBetween&&(i()?g.rtl?g.slides.css({marginLeft:a+"px"}):g.slides.css({marginRight:a+"px"}):g.slides.css({marginBottom:a+"px"})),g.params.watchSlidesProgress&&g.updateSlidesOffset()},g.updateSlidesOffset=function(){for(var a=0;a<g.slides.length;a++)g.slides[a].swiperSlideOffset=i()?g.slides[a].offsetLeft:g.slides[a].offsetTop},g.updateSlidesProgress=function(a){var b,f,h,j,k,l,m,n;if("undefined"==typeof a&&(a=g.translate||0),0!==g.slides.length)for("undefined"==typeof g.slides[0].swiperSlideOffset&&g.updateSlidesOffset(),b=g.params.centeredSlides?-a+g.size/2:-a,g.rtl&&(b=g.params.centeredSlides?a-g.size/2:a),g.container[0].getBoundingClientRect(),i()?"left":"top",i()?"right":"bottom",g.slides.removeClass(g.params.slideVisibleClass),f=0;f<g.slides.length;f++)h=g.slides[f],j=g.params.centeredSlides===!0?h.swiperSlideSize/2:0,k=(b-h.swiperSlideOffset-j)/(h.swiperSlideSize+g.params.spaceBetween),g.params.watchSlidesVisibility&&(l=-(b-h.swiperSlideOffset-j),m=l+g.slidesSizesGrid[f],n=l>=0&&l<g.size||m>0&&m<=g.size||0>=l&&m>=g.size,n&&g.slides.eq(f).addClass(g.params.slideVisibleClass)),h.progress=g.rtl?-k:k},g.updateProgress=function(a){"undefined"==typeof a&&(a=g.translate||0);var b=g.maxTranslate()-g.minTranslate();0===b?(g.progress=0,g.isBeginning=g.isEnd=!0):(g.progress=(a-g.minTranslate())/b,g.isBeginning=g.progress<=0,g.isEnd=g.progress>=1),g.isBeginning&&g.params.onReachBeginning&&g.params.onReachBeginning(g),g.isEnd&&g.params.onReachEnd&&g.params.onReachEnd(g),g.params.watchSlidesProgress&&g.updateSlidesProgress(a),g.params.onProgress&&g.params.onProgress(g,g.progress)},g.updateActiveIndex=function(){var b,c,d,a=g.rtl?g.translate:-g.translate;for(c=0;c<g.slidesGrid.length;c++)"undefined"!=typeof g.slidesGrid[c+1]?a>=g.slidesGrid[c]&&a<g.slidesGrid[c+1]-(g.slidesGrid[c+1]-g.slidesGrid[c])/2?b=c:a>=g.slidesGrid[c]&&a<g.slidesGrid[c+1]&&(b=c+1):a>=g.slidesGrid[c]&&(b=c);(0>b||"undefined"==typeof b)&&(b=0),d=Math.floor(b/g.params.slidesPerGroup),d>=g.snapGrid.length&&(d=g.snapGrid.length-1),b!==g.activeIndex&&(g.snapIndex=d,g.previousIndex=g.activeIndex,g.activeIndex=b,g.updateClasses())},g.updateClasses=function(){var a,b;g.slides.removeClass(g.params.slideActiveClass+" "+g.params.slideNextClass+" "+g.params.slidePrevClass),a=g.slides.eq(g.activeIndex),a.addClass(g.params.slideActiveClass),a.next("."+g.params.slideClass).addClass(g.params.slideNextClass),a.prev("."+g.params.slideClass).addClass(g.params.slidePrevClass),g.bullets&&g.bullets.length>0&&(g.bullets.removeClass(g.params.bulletActiveClass),g.params.loop?(b=g.activeIndex-g.loopedSlides,b>g.slides.length-1-2*g.loopedSlides&&(b-=g.slides.length-2*g.loopedSlides)):b="undefined"!=typeof g.snapIndex?g.snapIndex:g.activeIndex||0,g.bullets.eq(b).addClass(g.params.bulletActiveClass)),g.params.loop||(g.params.prevButton&&(g.isBeginning?h(g.params.prevButton).addClass(g.params.buttonDisabledClass):h(g.params.prevButton).removeClass(g.params.buttonDisabledClass)),g.params.nextButton&&(g.isEnd?h(g.params.nextButton).addClass(g.params.buttonDisabledClass):h(g.params.nextButton).removeClass(g.params.buttonDisabledClass)))},g.updatePagination=function(){var a,b,c;if(g.params.pagination&&g.paginationContainer&&g.paginationContainer.length>0){for(a="",b=g.params.loop?g.slides.length-2*g.loopedSlides:g.snapGrid.length,c=0;b>c;c++)a+=g.params.paginationBulletRender?g.params.paginationBulletRender(c,g.params.bulletClass):'<span class="'+g.params.bulletClass+'"></span>';g.paginationContainer.html(a),g.bullets=g.paginationContainer.find("."+g.params.bulletClass)}},g.update=function(a){function b(){d=Math.min(Math.max(g.translate,g.maxTranslate()),g.minTranslate()),g.setWrapperTranslate(d),g.updateActiveIndex(),g.updateClasses()}if(g.updateContainerSize(),g.updateSlidesSize(),g.updateProgress(),g.updatePagination(),g.updateClasses(),g.params.scrollbar&&g.scrollbar&&g.scrollbar.set(),a){var c,d;g.params.freeMode?b():(c="auto"===g.params.slidesPerView&&g.isEnd&&!g.params.centeredSlides?g.slideTo(g.slides.length-1,0,!1,!0):g.slideTo(g.activeIndex,0,!1,!0),c||b())}},g.onResize=function(){if(g.updateContainerSize(),g.updateSlidesSize(),g.updateProgress(),("auto"===g.params.slidesPerView||g.params.freeMode)&&g.updatePagination(),g.params.scrollbar&&g.scrollbar&&g.scrollbar.set(),g.params.freeMode){var a=Math.min(Math.max(g.translate,g.maxTranslate()),g.minTranslate());g.setWrapperTranslate(a),g.updateActiveIndex(),g.updateClasses()}else g.updateClasses(),"auto"===g.params.slidesPerView&&g.isEnd&&!g.params.centeredSlides?g.slideTo(g.slides.length-1,0,!1,!0):g.slideTo(g.activeIndex,0,!1,!0)},k=["mousedown","mousemove","mouseup"],window.navigator.pointerEnabled?k=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(k=["MSPointerDown","MSPointerMove","MSPointerUp"]),g.touchEvents={start:g.support.touch||!g.params.simulateTouch?"touchstart":k[0],move:g.support.touch||!g.params.simulateTouch?"touchmove":k[1],end:g.support.touch||!g.params.simulateTouch?"touchend":k[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===g.params.touchEventsTarget?g.container:g.wrapper).addClass("swiper-wp8-"+g.params.direction),g.events=function(a){var b=a?"off":"on",d=a?"removeEventListener":"addEventListener",e="container"===g.params.touchEventsTarget?g.container[0]:g.wrapper[0],f=g.support.touch?e:document,i=g.params.nested?!0:!1;g.browser.ie?(e[d](g.touchEvents.start,g.onTouchStart,!1),f[d](g.touchEvents.move,g.onTouchMove,i),f[d](g.touchEvents.end,g.onTouchEnd,!1)):(g.support.touch&&(e[d](g.touchEvents.start,g.onTouchStart,!1),e[d](g.touchEvents.move,g.onTouchMove,i),e[d](g.touchEvents.end,g.onTouchEnd,!1)),!c.simulateTouch||g.device.ios||g.device.android||(e[d]("mousedown",g.onTouchStart,!1),f[d]("mousemove",g.onTouchMove,i),f[d]("mouseup",g.onTouchEnd,!1))),window[d]("resize",g.onResize),g.params.nextButton&&h(g.params.nextButton)[b]("click",g.onClickNext),g.params.prevButton&&h(g.params.prevButton)[b]("click",g.onClickPrev),g.params.pagination&&g.params.paginationClickable&&h(g.paginationContainer)[b]("click","."+g.params.bulletClass,g.onClickIndex),(g.params.preventClicks||g.params.preventClicksPropagation)&&e[d]("click",g.preventClicks,!0)},g.attachEvents=function(){g.events()},g.detachEvents=function(){g.events(!0)},g.allowClick=!0,g.preventClicks=function(a){g.allowClick||(g.params.preventClicks&&a.preventDefault(),g.params.preventClicksPropagation&&(a.stopPropagation(),a.stopImmediatePropagation()))},g.onClickNext=function(a){a.preventDefault(),g.slideNext()},g.onClickPrev=function(a){a.preventDefault(),g.slidePrev()},g.onClickIndex=function(a){a.preventDefault();var b=h(this).index()*g.params.slidesPerGroup;g.params.loop&&(b+=g.loopedSlides),g.slideTo(b)},g.updateClickedSlide=function(a){var d,c,e,b=l(a,"."+g.params.slideClass);return b?(g.clickedSlide=b,g.clickedIndex=h(b).index(),g.params.slideToClickedSlide&&void 0!==g.clickedIndex&&g.clickedIndex!==g.activeIndex&&(c=g.clickedIndex,g.params.loop?(d=h(g.clickedSlide).attr("data-swiper-slide-index"),c>g.slides.length-g.params.slidesPerView?(g.fixLoop(),c=g.wrapper.children("."+g.params.slideClass+'[data-swiper-slide-index="'+d+'"]').eq(0).index(),setTimeout(function(){g.slideTo(c)},0)):c<g.params.slidesPerView-1?(g.fixLoop(),e=g.wrapper.children("."+g.params.slideClass+'[data-swiper-slide-index="'+d+'"]'),c=e.eq(e.length-1).index(),setTimeout(function(){g.slideTo(c)},0)):g.slideTo(c)):g.slideTo(c)),void 0):(g.clickedSlide=void 0,g.clickedIndex=void 0,void 0)},t="input, select, textarea, button",u=Date.now(),w=[],g.animating=!1,g.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0},g.onTouchStart=function(a){if(a.originalEvent&&(a=a.originalEvent),y="touchstart"===a.type,y||!("which"in a)||3!==a.which){if(g.params.noSwiping&&l(a,"."+g.params.noSwipingClass))return g.allowClick=!0,void 0;if(!g.params.swipeHandler||l(a,g.params.swipeHandler)){if(m=!0,n=!1,p=void 0,g.touches.startX=g.touches.currentX="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,g.touches.startY=g.touches.currentY="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,o=Date.now(),g.allowClick=!0,g.updateContainerSize(),g.swipeDirection=void 0,g.params.threshold>0&&(s=!1),"touchstart"!==a.type){var b=!0;h(a.target).is(t)&&(b=!1),document.activeElement&&h(document.activeElement).is(t)&&document.activeElement.blur(),b&&a.preventDefault()}g.params.onTouchStart&&g.params.onTouchStart(g,a)}}},g.onTouchMove=function(a){var b,d,e;if(a.originalEvent&&(a=a.originalEvent),!(y&&"mousemove"===a.type||a.preventedByNestedSwiper)){if(g.params.onlyExternal)return n=!0,g.allowClick=!1,void 0;if(y&&document.activeElement&&a.target===document.activeElement&&h(a.target).is(t))return n=!0,g.allowClick=!1,void 0;if(g.params.onTouchMove&&g.params.onTouchMove(g,a),g.allowClick=!1,!(a.targetTouches&&a.targetTouches.length>1)&&(g.touches.currentX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,g.touches.currentY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,"undefined"==typeof p&&(b=180*Math.atan2(Math.abs(g.touches.currentY-g.touches.startY),Math.abs(g.touches.currentX-g.touches.startX))/Math.PI,p=i()?b>g.params.touchAngle:90-b>g.params.touchAngle),p&&g.params.onTouchMoveOpposite&&g.params.onTouchMoveOpposite(g,a),m)){if(p)return m=!1,void 0;if(g.params.onSliderMove&&g.params.onSliderMove(g,a),a.preventDefault(),g.params.touchMoveStopPropagation&&!g.params.nested&&a.stopPropagation(),n||(c.loop&&g.fixLoop(),r="cube"===g.params.effect?(g.rtl?-g.translate:g.translate)||0:g.getWrapperTranslate(),g.setWrapperTransition(0),g.animating&&g.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),g.params.autoplay&&g.autoplaying&&(g.params.autoplayDisableOnInteraction?g.stopAutoplay():g.pauseAutoplay()),x=!1,g.params.grabCursor&&(g.container[0].style.cursor="move",g.container[0].style.cursor="-webkit-grabbing",g.container[0].style.cursor="-moz-grabbin",g.container[0].style.cursor="grabbing")),n=!0,d=g.touches.diff=i()?g.touches.currentX-g.touches.startX:g.touches.currentY-g.touches.startY,d*=g.params.touchRatio,g.rtl&&(d=-d),g.swipeDirection=d>0?"prev":"next",q=d+r,e=!0,d>0&&q>g.minTranslate()?(e=!1,g.params.resistance&&(q=g.minTranslate()-1+Math.pow(-g.minTranslate()+r+d,g.params.resistanceRatio))):0>d&&q<g.maxTranslate()&&(e=!1,g.params.resistance&&(q=g.maxTranslate()+1-Math.pow(g.maxTranslate()-r-d,g.params.resistanceRatio))),e&&(a.preventedByNestedSwiper=!0),!g.params.allowSwipeToNext&&"next"===g.swipeDirection&&r>q&&(q=r),!g.params.allowSwipeToPrev&&"prev"===g.swipeDirection&&q>r&&(q=r),g.params.followFinger){if(g.params.threshold>0){if(!(Math.abs(d)>g.params.threshold||s))return q=r,void 0;if(!s)return s=!0,g.touches.startX=g.touches.currentX,g.touches.startY=g.touches.currentY,q=r,g.touches.diff=i()?g.touches.currentX-g.touches.startX:g.touches.currentY-g.touches.startY,void 0}(g.params.freeMode||g.params.watchSlidesProgress)&&g.updateActiveIndex(),g.params.freeMode&&(0===w.length&&w.push({position:g.touches[i()?"startX":"startY"],time:o}),w.push({position:g.touches[i()?"currentX":"currentY"],time:(new Date).getTime()})),g.updateProgress(q),g.setWrapperTranslate(q)}}}},g.onTouchEnd=function(a){var b,c,d,e,f,i,j,k,l,p,s,t,y,z,A,B,C;if(a.originalEvent&&(a=a.originalEvent),g.params.onTouchEnd&&g.params.onTouchEnd(g,a),m){if(g.params.grabCursor&&n&&m&&(g.container[0].style.cursor="move",g.container[0].style.cursor="-webkit-grab",g.container[0].style.cursor="-moz-grab",g.container[0].style.cursor="grab"),b=Date.now(),c=b-o,g.allowClick&&(g.updateClickedSlide(a),g.params.onTap&&g.params.onTap(g,a),300>c&&b-u>300&&(v&&clearTimeout(v),v=setTimeout(function(){g&&(g.params.paginationHide&&g.paginationContainer.length>0&&!h(a.target).hasClass(g.params.bulletClass)&&g.paginationContainer.toggleClass(g.params.paginationHiddenClass),g.params.onClick&&g.params.onClick(g,a))},300)),300>c&&300>b-u&&(v&&clearTimeout(v),g.params.onDoubleTap&&g.params.onDoubleTap(g,a))),u=Date.now(),setTimeout(function(){g&&g.allowClick&&(g.allowClick=!0)},0),!m||!n||!g.swipeDirection||0===g.touches.diff||q===r)return m=n=!1,void 0;if(m=n=!1,d=g.params.followFinger?g.rtl?g.translate:-g.translate:-q,g.params.freeMode)return d<-g.minTranslate()?(g.slideTo(g.activeIndex),void 0):d>-g.maxTranslate()?(g.slideTo(g.slides.length-1),void 0):(g.params.freeModeMomentum&&(w.length>1?(e=w.pop(),f=w.pop(),i=e.position-f.position,j=e.time-f.time,g.velocity=i/j,g.velocity=g.velocity/2,Math.abs(g.velocity)<.02&&(g.velocity=0),(j>150||(new Date).getTime()-e.time>300)&&(g.velocity=0)):g.velocity=0,w.length=0,k=1e3*g.params.freeModeMomentumRatio,l=g.velocity*k,p=g.translate+l,g.rtl&&(p=-p),s=!1,y=20*Math.abs(g.velocity)*g.params.freeModeMomentumBounceRatio,p<g.maxTranslate()&&(g.params.freeModeMomentumBounce?(p+g.maxTranslate()<-y&&(p=g.maxTranslate()-y),t=g.maxTranslate(),s=!0,x=!0):p=g.maxTranslate()),p>g.minTranslate()&&(g.params.freeModeMomentumBounce?(p-g.minTranslate()>y&&(p=g.minTranslate()+y),t=g.minTranslate(),s=!0,x=!0):p=g.minTranslate()),0!==g.velocity&&(k=g.rtl?Math.abs((-p-g.translate)/g.velocity):Math.abs((p-g.translate)/g.velocity)),g.params.freeModeMomentumBounce&&s?(g.updateProgress(t),g.setWrapperTransition(k),g.setWrapperTranslate(p),g.onTransitionStart(),g.animating=!0,g.wrapper.transitionEnd(function(){x&&(g.params.onMomentumBounce&&g.params.onMomentumBounce(g),g.setWrapperTransition(g.params.speed),g.setWrapperTranslate(t),g.wrapper.transitionEnd(function(){g.onTransitionEnd()}))})):g.velocity?(g.updateProgress(p),g.setWrapperTransition(k),g.setWrapperTranslate(p),g.onTransitionStart(),g.animating||(g.animating=!0,g.wrapper.transitionEnd(function(){g.onTransitionEnd()}))):g.updateProgress(p),g.updateActiveIndex()),(!g.params.freeModeMomentum||c>=g.params.longSwipesMs)&&(g.updateProgress(),g.updateActiveIndex()),void 0);for(A=0,B=g.slidesSizesGrid[0],z=0;z<g.slidesGrid.length;z+=g.params.slidesPerGroup)"undefined"!=typeof g.slidesGrid[z+g.params.slidesPerGroup]?d>=g.slidesGrid[z]&&d<g.slidesGrid[z+g.params.slidesPerGroup]&&(A=z,B=g.slidesGrid[z+g.params.slidesPerGroup]-g.slidesGrid[z]):d>=g.slidesGrid[z]&&(A=z,B=g.slidesGrid[g.slidesGrid.length-1]-g.slidesGrid[g.slidesGrid.length-2]);if(C=(d-g.slidesGrid[A])/B,c>g.params.longSwipesMs){if(!g.params.longSwipes)return g.slideTo(g.activeIndex),void 0;"next"===g.swipeDirection&&(C>=g.params.longSwipesRatio?g.slideTo(A+g.params.slidesPerGroup):g.slideTo(A)),"prev"===g.swipeDirection&&(C>1-g.params.longSwipesRatio?g.slideTo(A+g.params.slidesPerGroup):g.slideTo(A))}else{if(!g.params.shortSwipes)return g.slideTo(g.activeIndex),void 0;"next"===g.swipeDirection&&g.slideTo(A+g.params.slidesPerGroup),"prev"===g.swipeDirection&&g.slideTo(A)}}},g._slideTo=function(a,b){return g.slideTo(a,b,!0,!0)},g.slideTo=function(a,b,c,d){var e,f;for("undefined"==typeof c&&(c=!0),"undefined"==typeof a&&(a=0),0>a&&(a=0),g.snapIndex=Math.floor(a/g.params.slidesPerGroup),g.snapIndex>=g.snapGrid.length&&(g.snapIndex=g.snapGrid.length-1),e=-g.snapGrid[g.snapIndex],g.params.autoplay&&g.autoplaying&&(d||!g.params.autoplayDisableOnInteraction?g.pauseAutoplay(b):g.stopAutoplay()),g.updateProgress(e),f=0;f<g.slidesGrid.length;f++)-e>=g.slidesGrid[f]&&(a=f);return"undefined"==typeof b&&(b=g.params.speed),g.previousIndex=g.activeIndex||0,g.activeIndex=a,e===g.translate?(g.updateClasses(),!1):(g.onTransitionStart(c),i()?e:0,i()?0:e,0===b?(g.setWrapperTransition(0),g.setWrapperTranslate(e),g.onTransitionEnd(c)):(g.setWrapperTransition(b),g.setWrapperTranslate(e),g.animating||(g.animating=!0,g.wrapper.transitionEnd(function(){g.onTransitionEnd(c)}))),g.updateClasses(),!0)},g.onTransitionStart=function(a){"undefined"==typeof a&&(a=!0),g.lazy&&g.lazy.onTransitionStart(),a&&(g.params.onTransitionStart&&g.params.onTransitionStart(g),g.params.onSlideChangeStart&&g.activeIndex!==g.previousIndex&&g.params.onSlideChangeStart(g))},g.onTransitionEnd=function(a){g.animating=!1,g.setWrapperTransition(0),"undefined"==typeof a&&(a=!0),g.lazy&&g.lazy.onTransitionEnd(),a&&(g.params.onTransitionEnd&&g.params.onTransitionEnd(g),g.params.onSlideChangeEnd&&g.activeIndex!==g.previousIndex&&g.params.onSlideChangeEnd(g))},g.slideNext=function(a,b,c){return g.params.loop?g.animating?!1:(g.fixLoop(),g.container[0].clientLeft,g.slideTo(g.activeIndex+g.params.slidesPerGroup,b,a,c)):g.slideTo(g.activeIndex+g.params.slidesPerGroup,b,a,c)},g._slideNext=function(a){return g.slideNext(!0,a,!0)},g.slidePrev=function(a,b,c){return g.params.loop?g.animating?!1:(g.fixLoop(),g.container[0].clientLeft,g.slideTo(g.activeIndex-1,b,a,c)):g.slideTo(g.activeIndex-1,b,a,c)},g._slidePrev=function(a){return g.slidePrev(!0,a,!0)},g.slideReset=function(a,b){return g.slideTo(g.activeIndex,b,a)},g.setWrapperTransition=function(a,b){g.wrapper.transition(a),g.params.onSetTransition&&g.params.onSetTransition(g,a),"slide"!==g.params.effect&&g.effects[g.params.effect]&&g.effects[g.params.effect].setTransition(a),g.params.parallax&&g.parallax&&g.parallax.setTransition(a),g.params.scrollbar&&g.scrollbar&&g.scrollbar.setTransition(a),g.params.control&&g.controller&&g.controller.setTransition(a,b)},g.setWrapperTranslate=function(a,b,c){var d=0,e=0,f=0;i()?d=g.rtl?-a:a:e=a,g.support.transforms3d?g.wrapper.transform("translate3d("+d+"px, "+e+"px, "+f+"px)"):g.wrapper.transform("translate("+d+"px, "+e+"px)"),g.translate=i()?d:e,b&&g.updateActiveIndex(),"slide"!==g.params.effect&&g.effects[g.params.effect]&&g.effects[g.params.effect].setTranslate(g.translate),g.params.parallax&&g.parallax&&g.parallax.setTranslate(g.translate),g.params.scrollbar&&g.scrollbar&&g.scrollbar.setTranslate(g.translate),g.params.control&&g.controller&&g.controller.setTranslate(g.translate,c),g.params.hashnav&&g.hashnav&&g.hashnav.setHash(),g.params.onSetTranslate&&g.params.onSetTranslate(g,g.translate)},g.getTranslate=function(a,b){var c,d,e,f;return"undefined"==typeof b&&(b="x"),e=window.getComputedStyle(a,null),window.WebKitCSSMatrix?f=new WebKitCSSMatrix("none"===e.webkitTransform?"":e.webkitTransform):(f=e.MozTransform||e.OTransform||e.MsTransform||e.msTransform||e.transform||e.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),c=f.toString().split(",")),"x"===b&&(d=window.WebKitCSSMatrix?f.m41:16===c.length?parseFloat(c[12]):parseFloat(c[4])),"y"===b&&(d=window.WebKitCSSMatrix?f.m42:16===c.length?parseFloat(c[13]):parseFloat(c[5])),g.rtl&&d&&(d=-d),d||0},g.getWrapperTranslate=function(a){return"undefined"==typeof a&&(a=i()?"x":"y"),g.getTranslate(g.wrapper[0],a)},g.observers=[],g.initObservers=function(){var a,b;if(g.params.observeParents)for(a=g.container.parents(),b=0;b<a.length;b++)z(a[b]);z(g.container[0],{childList:!1}),z(g.wrapper[0],{attributes:!1})},g.disconnectObservers=function(){for(var a=0;a<g.observers.length;a++)g.observers[a].disconnect();g.observers=[]},g.createLoop=function(){var a,d,b,c;for(g.wrapper.children("."+g.params.slideClass+"."+g.params.slideDuplicateClass).remove(),a=g.wrapper.children("."+g.params.slideClass),g.loopedSlides=parseInt(g.params.loopedSlides||g.params.slidesPerView,10),g.loopedSlides=g.loopedSlides+g.params.loopAdditionalSlides,g.loopedSlides>a.length&&(g.loopedSlides=a.length),b=[],c=[],a.each(function(d,e){var f=h(this);d<g.loopedSlides&&c.push(e),d<a.length&&d>=a.length-g.loopedSlides&&b.push(e),f.attr("data-swiper-slide-index",d)}),d=0;d<c.length;d++)g.wrapper.append(h(c[d].cloneNode(!0)).addClass(g.params.slideDuplicateClass));for(d=b.length-1;d>=0;d--)g.wrapper.prepend(h(b[d].cloneNode(!0)).addClass(g.params.slideDuplicateClass))},g.destroyLoop=function(){g.wrapper.children("."+g.params.slideClass+"."+g.params.slideDuplicateClass).remove()},g.fixLoop=function(){var a;g.activeIndex<g.loopedSlides?(a=g.slides.length-3*g.loopedSlides+g.activeIndex,a+=g.loopedSlides,g.slideTo(a,0,!1,!0)):("auto"===g.params.slidesPerView&&g.activeIndex>=2*g.loopedSlides||g.activeIndex>g.slides.length-2*g.params.slidesPerView)&&(a=-g.slides.length+g.activeIndex+g.loopedSlides,a+=g.loopedSlides,g.slideTo(a,0,!1,!0))},g.appendSlide=function(a){if(g.params.loop&&g.destroyLoop(),"object"==typeof a&&a.length)for(var b=0;b<a.length;b++)a[b]&&g.wrapper.append(a[b]);else g.wrapper.append(a);g.params.loop&&g.createLoop(),g.params.observer&&g.support.observer||g.update(!0)},g.prependSlide=function(a){var b,c;if(g.params.loop&&g.destroyLoop(),b=g.activeIndex+1,"object"==typeof a&&a.length){for(c=0;c<a.length;c++)a[c]&&g.wrapper.prepend(a[c]);b=g.activeIndex+a.length}else g.wrapper.prepend(a);g.params.loop&&g.createLoop(),g.params.observer&&g.support.observer||g.update(!0),g.slideTo(b,0,!1)},g.removeSlide=function(a){var c,b,d;if(g.params.loop&&g.destroyLoop(),b=g.activeIndex,"object"==typeof a&&a.length){for(d=0;d<a.length;d++)c=a[d],g.slides[c]&&g.slides.eq(c).remove(),b>c&&b--;b=Math.max(b,0)}else c=a,g.slides[c]&&g.slides.eq(c).remove(),b>c&&b--,b=Math.max(b,0);g.params.observer&&g.support.observer||g.update(!0),g.slideTo(b,0,!1)},g.removeAllSlides=function(){var b,a=[];for(b=0;b<g.slides.length;b++)a.push(b);g.removeSlide(a)},g.effects={fade:{setTranslate:function(){var a,b,c,d,e,f;for(a=0;a<g.slides.length;a++)b=g.slides.eq(a),c=b[0].swiperSlideOffset,d=-c-g.translate,e=0,i()||(e=d,d=0),f=g.params.fade.crossFade?Math.max(1-Math.abs(b[0].progress),0):1+Math.min(Math.max(b[0].progress,-1),0),b.css({opacity:f}).transform("translate3d("+d+"px, "+e+"px, 0px)")},setTransition:function(a){g.slides.transition(a)}},cube:{setTranslate:function(){var b,c,d,e,f,j,k,l,m,n,o,p,r,s,t,u,v,w,a=0;for(g.params.cube.shadow&&(i()?(b=g.wrapper.find(".swiper-cube-shadow"),0===b.length&&(b=h('<div class="swiper-cube-shadow"></div>'),g.wrapper.append(b)),b.css({height:g.width+"px"})):(b=g.container.find(".swiper-cube-shadow"),0===b.length&&(b=h('<div class="swiper-cube-shadow"></div>'),g.container.append(b)))),c=0;c<g.slides.length;c++)d=g.slides.eq(c),e=90*c,f=Math.floor(e/360),g.rtl&&(e=-e,f=Math.floor(-e/360)),j=Math.max(Math.min(d[0].progress,1),-1),k=0,l=0,m=0,0===c%4?(k=4*-f*g.size,m=0):0===(c-1)%4?(k=0,m=4*-f*g.size):0===(c-2)%4?(k=g.size+4*f*g.size,m=g.size):0===(c-3)%4&&(k=-g.size,m=3*g.size+4*g.size*f),g.rtl&&(k=-k),i()||(l=k,k=0),n="rotateX("+(i()?0:-e)+"deg) rotateY("+(i()?e:0)+"deg) translate3d("+k+"px, "+l+"px, "+m+"px)",1>=j&&j>-1&&(a=90*c+90*j,g.rtl&&(a=90*-c-90*j)),d.transform(n),g.params.cube.slideShadows&&(o=i()?d.find(".swiper-slide-shadow-left"):d.find(".swiper-slide-shadow-top"),p=i()?d.find(".swiper-slide-shadow-right"):d.find(".swiper-slide-shadow-bottom"),0===o.length&&(o=h('<div class="swiper-slide-shadow-'+(i()?"left":"top")+'"></div>'),d.append(o)),0===p.length&&(p=h('<div class="swiper-slide-shadow-'+(i()?"right":"bottom")+'"></div>'),d.append(p)),d[0].progress,o.length&&(o[0].style.opacity=-d[0].progress),p.length&&(p[0].style.opacity=d[0].progress));g.wrapper.css({"-webkit-transform-origin":"50% 50% -"+g.size/2+"px","-moz-transform-origin":"50% 50% -"+g.size/2+"px","-ms-transform-origin":"50% 50% -"+g.size/2+"px","transform-origin":"50% 50% -"+g.size/2+"px"}),g.params.cube.shadow&&(i()?b.transform("translate3d(0px, "+(g.width/2+g.params.cube.shadowOffset)+"px, "+-g.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+g.params.cube.shadowScale+")"):(r=Math.abs(a)-90*Math.floor(Math.abs(a)/90),s=1.5-(Math.sin(2*r*Math.PI/360)/2+Math.cos(2*r*Math.PI/360)/2),t=g.params.cube.shadowScale,u=g.params.cube.shadowScale/s,v=g.params.cube.shadowOffset,b.transform("scale3d("+t+", 1, "+u+") translate3d(0px, "+(g.height/2+v)+"px, "+-g.height/2/u+"px) rotateX(-90deg)"))),w=g.isSafari||g.isUiWebView?-g.size/2:0,g.wrapper.transform("translate3d(0px,0,"+w+"px) rotateX("+(i()?0:a)+"deg) rotateY("+(i()?-a:0)+"deg)")},setTransition:function(a){g.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a),g.params.cube.shadow&&!i()&&g.container.find(".swiper-cube-shadow").transition(a)}},coverflow:{setTranslate:function(){var e,f,j,k,l,m,n,o,p,q,r,s,t,u,v,a=g.translate,b=i()?-a+g.width/2:-a+g.height/2,c=i()?g.params.coverflow.rotate:-g.params.coverflow.rotate,d=g.params.coverflow.depth;for(e=0,f=g.slides.length;f>e;e++)j=g.slides.eq(e),k=g.slidesSizesGrid[e],l=j[0].swiperSlideOffset,m=(b-l-k/2)/k*g.params.coverflow.modifier,n=i()?c*m:0,o=i()?0:c*m,p=-d*Math.abs(m),q=i()?0:g.params.coverflow.stretch*m,r=i()?g.params.coverflow.stretch*m:0,Math.abs(r)<.001&&(r=0),Math.abs(q)<.001&&(q=0),Math.abs(p)<.001&&(p=0),Math.abs(n)<.001&&(n=0),Math.abs(o)<.001&&(o=0),s="translate3d("+r+"px,"+q+"px,"+p+"px)  rotateX("+o+"deg) rotateY("+n+"deg)",j.transform(s),j[0].style.zIndex=-Math.abs(Math.round(m))+1,g.params.coverflow.slideShadows&&(t=i()?j.find(".swiper-slide-shadow-left"):j.find(".swiper-slide-shadow-top"),u=i()?j.find(".swiper-slide-shadow-right"):j.find(".swiper-slide-shadow-bottom"),0===t.length&&(t=h('<div class="swiper-slide-shadow-'+(i()?"left":"top")+'"></div>'),j.append(t)),0===u.length&&(u=h('<div class="swiper-slide-shadow-'+(i()?"right":"bottom")+'"></div>'),j.append(u)),t.length&&(t[0].style.opacity=m>0?m:0),u.length&&(u[0].style.opacity=-m>0?-m:0));(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&(v=g.wrapper.style,v.perspectiveOrigin=b+"px 50%")},setTransition:function(a){g.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a)}}},g.lazy={initialImageLoaded:!1,loadImageInSlide:function(a){var b,c;"undefined"!=typeof a&&0!==g.slides.length&&(b=g.slides.eq(a),c=b.find("img.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)"),0!==c.length&&c.each(function(){var c,a=h(this);a.addClass("swiper-lazy-loading"),c=a.attr("data-src"),g.loadImage(a[0],c,!1,function(){a.attr("src",c),a.removeAttr("data-src"),a.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),b.find(".swiper-lazy-preloader, .preloader").remove(),g.params.onLazyImageReady&&g.params.onLazyImageReady(g,b[0],a[0])}),g.params.onLazyImageLoad&&g.params.onLazyImageLoad(g,b[0],a[0])}))},load:function(){var a,b,c;if(g.params.watchSlidesVisibility)g.wrapper.children("."+g.params.slideVisibleClass).each(function(){g.lazy.loadImageInSlide(h(this).index())});else if(g.params.slidesPerView>1)for(a=g.activeIndex;a<g.activeIndex+g.params.slidesPerView;a++)g.slides[a]&&g.lazy.loadImageInSlide(a);else g.lazy.loadImageInSlide(g.activeIndex);g.params.lazyLoadingInPrevNext&&(b=g.wrapper.children("."+g.params.slideNextClass),b.length>0&&g.lazy.loadImageInSlide(b.index()),c=g.wrapper.children("."+g.params.slidePrevClass),c.length>0&&g.loadImageInSlide(c.index()))},onTransitionStart:function(){g.params.lazyLoading&&(g.params.lazyLoadingOnTransitionStart||!g.params.lazyLoadingOnTransitionStart&&!g.lazy.initialImageLoaded)&&(g.lazy.initialImageLoaded=!0,g.lazy.load())},onTransitionEnd:function(){g.params.lazyLoading&&!g.params.lazyLoadingOnTransitionStart&&g.lazy.load()}},g.scrollbar={set:function(){if(g.params.scrollbar){var a=g.scrollbar;a.track=h(g.params.scrollbar),a.drag=a.track.find(".swiper-scrollbar-drag"),0===a.drag.length&&(a.drag=h('<div class="swiper-scrollbar-drag"></div>'),a.track.append(a.drag)),a.drag[0].style.width="",a.drag[0].style.height="",a.trackSize=i()?a.track[0].offsetWidth:a.track[0].offsetHeight,a.divider=g.size/g.virtualWidth,a.moveDivider=a.divider*(a.trackSize/g.size),a.dragSize=a.trackSize*a.divider,i()?a.drag[0].style.width=a.dragSize+"px":a.drag[0].style.height=a.dragSize+"px",a.track[0].style.display=a.divider>=1?"none":"",g.params.scrollbarHide&&(a.track[0].style.opacity=0)}},setTranslate:function(){var b,d,e;g.params.scrollbar&&(b=g.scrollbar,g.translate||0,e=b.dragSize,d=(b.trackSize-b.dragSize)*g.progress,g.rtl&&i()?(d=-d,d>0?(e=b.dragSize-d,d=0):-d+b.dragSize>b.trackSize&&(e=b.trackSize+d)):0>d?(e=b.dragSize+d,d=0):d+b.dragSize>b.trackSize&&(e=b.trackSize-d),i()?(b.drag.transform("translate3d("+d+"px, 0, 0)"),b.drag[0].style.width=e+"px"):(b.drag.transform("translate3d(0px, "+d+"px, 0)"),b.drag[0].style.height=e+"px"),g.params.scrollbarHide&&(clearTimeout(b.timeout),b.track[0].style.opacity=1,b.timeout=setTimeout(function(){b.track[0].style.opacity=0,b.track.transition(400)},1e3)))},setTransition:function(a){g.params.scrollbar&&g.scrollbar.drag.transition(a)}},g.controller={setTranslate:function(a,b){var d,e,f,c=g.params.control;if(g.isArray(c))for(f=0;f<c.length;f++)c[f]!==b&&c[f]instanceof Swiper&&(a=c[f].rtl&&"horizontal"===c[f].params.direction?-g.translate:g.translate,d=(c[f].maxTranslate()-c[f].minTranslate())/(g.maxTranslate()-g.minTranslate()),e=(a-g.minTranslate())*d+c[f].minTranslate(),g.params.controlInverse&&(e=c[f].maxTranslate()-e),c[f].updateProgress(e),c[f].setWrapperTranslate(e,!1,g),c[f].updateActiveIndex());else c instanceof Swiper&&b!==c&&(a=c.rtl&&"horizontal"===c.params.direction?-g.translate:g.translate,d=(c.maxTranslate()-c.minTranslate())/(g.maxTranslate()-g.minTranslate()),e=(a-g.minTranslate())*d+c.minTranslate(),g.params.controlInverse&&(e=c.maxTranslate()-e),c.updateProgress(e),c.setWrapperTranslate(e,!1,g),c.updateActiveIndex())},setTransition:function(a,b){var d,c=g.params.control;if(g.isArray(c))for(d=0;d<c.length;d++)c[d]!==b&&c[d]instanceof Swiper&&c[d].setWrapperTransition(a,g);else c instanceof Swiper&&b!==c&&c.setWrapperTransition(a,g)}},g.parallax={setTranslate:function(){g.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){A(this,g.progress)}),g.slides.each(function(){var a=h(this);a.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var b=Math.min(Math.max(a[0].progress,-1),1);A(this,b)})})},setTransition:function(a){"undefined"==typeof a&&(a=g.params.speed),g.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var b=h(this),c=parseInt(b.attr("data-swiper-parallax-duration"),10)||a;0===a&&(c=0),b.transition(c)})}},g.init=function(){g.params.loop&&g.createLoop(),g.updateContainerSize(),g.updateSlidesSize(),g.updatePagination(),g.params.scrollbar&&g.scrollbar&&g.scrollbar.set(),"slide"!==g.params.effect&&g.effects[g.params.effect]&&(g.params.loop||g.updateProgress(),g.effects[g.params.effect].setTranslate()),g.params.loop?g.slideTo(g.params.initialSlide+g.loopedSlides,0,g.params.runCallbacksOnInit):(g.slideTo(g.params.initialSlide,0,g.params.runCallbacksOnInit),0===g.params.initialSlide&&(g.parallax&&g.params.parallax&&g.parallax.setTranslate(),g.lazy&&g.params.lazyLoading&&g.lazy.load())),g.attachEvents(),g.params.observer&&g.support.observer&&g.initObservers(),g.params.preloadImages&&!g.params.lazyLoading&&g.preloadImages(),g.params.autoplay&&g.startAutoplay(),g.params.keyboardControl&&g.enableKeyboardControl&&g.enableKeyboardControl(),g.params.mousewheelControl&&g.enableMousewheelControl&&g.enableMousewheelControl(),g.params.hashnav&&g.hashnav&&g.hashnav.init(),g.params.onInit&&g.params.onInit(g)},g.destroy=function(a){g.detachEvents(),g.disconnectObservers(),g.params.keyboardControl&&g.disableKeyboardControl&&g.disableKeyboardControl(),g.params.mousewheelControl&&g.disableMousewheelControl&&g.disableMousewheelControl(),g.params.onDestroy&&g.params.onDestroy(),a!==!1&&(g=null)},g.init(),g):void 0},Swiper.prototype={isSafari:function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(a){return"[object Array]"===Object.prototype.toString.apply(a)
},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled},device:function(){var e,a=navigator.userAgent,b=a.match(/(Android);?[\s\/]+([\d.]+)?/),c=a.match(/(iPad).*OS\s([\d_]+)/);return a.match(/(iPod)(.*OS\s([\d_]+))?/),e=!c&&a.match(/(iPhone\sOS)\s([\d_]+)/),{ios:c||e||c,android:b}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var a=document.createElement("div").style;return"webkitPerspective"in a||"MozPerspective"in a||"OPerspective"in a||"MsPerspective"in a||"perspective"in a}(),flexbox:function(){var c,a=document.createElement("div").style,b="WebkitBox msFlexbox MsFlexbox WebkitFlex MozBox flex".split(" ");for(c=0;c<b.length;c++)if(b[c]in a)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()}}}();